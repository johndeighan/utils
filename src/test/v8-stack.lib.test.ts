"use strict";
// v8-stack.lib.test.civet

import {undef, assert, croak} from 'datatypes'
import {o} from 'llutils'
import {DBG} from 'logger'
import {relpath} from 'fsys'
import {getCmdArgs} from 'cmd-args'
import {execCmd, execCmdSync} from 'exec'
import {
	TStackFrame, getV8Stack, getMyCaller,
	getMyOutsideCaller, getV8StackStr,
	} from 'v8-stack'
import {
	equal, like, succeeds, isType, notType, objListLike, setDirTree,
	} from 'unit-test'

getCmdArgs()

// ---------------------------------------------------------------------------

const setup = (): void => {

	DBG("setDirTree()")

	setDirTree('src/test/v8-stack', `v8-module.ts
	"use strict";
	// v8-module.civet

	import {getMyCaller, TStackFrame} from 'v8-stack'

	// ---------------------------------------------------------------------------

	type bothFrames = ((TStackFrame?))[]

	const isBothFrames = (x: unknown): x is bothFrames => {
		return Array.isArray(x) && (x.length === 2)
	}

	// ---------------------------------------------------------------------------

	export const getBoth = function(): bothFrames {

		const result = secondFunc('both')
		if (Array.isArray(result)) {
			return result
		}
		else {
			throw new Error("Expected array, got TStackFrame")
		}
	}

	// ---------------------------------------------------------------------------

	export const getDirect = function(): (TStackFrame?) {

		const result = secondFunc('direct')
		if (Array.isArray(result)) {
			throw new Error("Got unexpected array")
		}
		return result
	}

	// ---------------------------------------------------------------------------

	export const getOutside = function(): (TStackFrame?) {

		const result = secondFunc('outside')
		if (Array.isArray(result)) {
			throw new Error("Got unexpected array")
		}
		return result
	}

	// ---------------------------------------------------------------------------

	const secondFunc = function(type: string): bothFrames | (TStackFrame?) {

		return thirdFunc(type)
	}

	// ---------------------------------------------------------------------------

	const thirdFunc = function(type: string): bothFrames | (TStackFrame?) {

		// --- direct caller should be 'secondFunc'
		//     outside caller should be the function
		//        that called getCaller()
		switch(type) {
			case 'both': {
				return [getMyCaller(), getMyCaller()]
			}
			case 'direct': {
				return getMyCaller()
			}
			case 'outside': {
				return getMyCaller()
			}
			default: {
				throw new Error(\`Unknown type: \${type}\`)
			}
		}
	}`, o`clear`)

	return
}

setup()

// ---------------------------------------------------------------------------

DBG("type TStackFrame")

isType('TStackFrame', {
	type: 'function',
	fileName: 'temp.civet',
	line: 5,
	column: 5,
	name: 'func',
	isConstructor: false,
	isAsync: false,
	objType: undefined
	})

DBG("getV8Stack(), getV8StackStr");

(function() {
	let stack1: TStackFrame[] = []
	let stack2: TStackFrame[] = []
	let stack1Str: string = ''
	let stack2Str: string = ''

	const main = () => {
		func1()
		func2()
	}

	const func1 = function() {
		stack1 = getV8Stack()
		stack1Str = getV8StackStr()
		return
	}

	const func2 = function() {
		stack2 = getV8Stack()
		stack2Str = getV8StackStr()
		return
	}

	main()

	objListLike(stack1, [
		{
			type: 'function',
			name: 'func1',
			fileName: 'src/test/v8-stack.lib.test.civet',
			line: 136
			},
		{
			type: 'function',
			name: 'main',
			fileName: 'src/test/v8-stack.lib.test.civet',
			line: 132
			},
		{
			type: 'function',
			name: '<anon>',
			fileName: 'src/test/v8-stack.lib.test.civet',
			line: 143
			},
		{
			type: 'script',
			fileName: 'src/test/v8-stack.lib.test.civet',
			line: 195
			}
		])

	objListLike(stack2, [
		{
			type: 'function',
			name: 'func2',
			fileName: 'src/test/v8-stack.lib.test.civet',
			line: 140
			},
		{
			type: 'function',
			name: 'main',
			fileName: 'src/test/v8-stack.lib.test.civet',
			line: 133
			},
		{
			type: 'function',
			name: '<anon>',
			fileName: 'src/test/v8-stack.lib.test.civet',
			line: 143
			},
		{
			type: 'script',
			fileName: 'src/test/v8-stack.lib.test.civet',
			line: 195
			}
		])

	equal(stack1Str, `[function func1    ] src/test/v8-stack.lib.test.civet:139:14
[function main     ] src/test/v8-stack.lib.test.civet:134:2
[function <anon>   ] src/test/v8-stack.lib.test.civet:147:1
[script            ] src/test/v8-stack.lib.test.civet:214:2`)

	equal(stack2Str, `[function func2    ] src/test/v8-stack.lib.test.civet:144:14
[function main     ] src/test/v8-stack.lib.test.civet:135:2
[function <anon>   ] src/test/v8-stack.lib.test.civet:147:1
[script            ] src/test/v8-stack.lib.test.civet:214:2`)
}
	)()

// ---------------------------------------------------------------------------

DBG("getMyCaller()");

(function() {
	let caller1: (TStackFrame | undefined) = undef
	let caller2: (TStackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		caller1 = getMyCaller()
	}

	const func2 = function() {
		caller2 = getMyCaller()
		return
	}

	main()
	like(caller1, {
		type: 'function',
		name: 'main',
		fileName: 'src/test/v8-stack.lib.test.civet'
		})
	like(caller2, {
		type: 'function',
		name: 'main',
		fileName: 'src/test/v8-stack.lib.test.civet'
		})
}
	)();

// ---------------------------------------------------------------------------

(function() {
	let hCaller: (TStackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		return
	}

	const func2 = function() {
		hCaller = getMyCaller()
		return
	}

	// ------------------------------------------------------------------------

	main()

	like(hCaller, {
		type: 'function',
		name: 'main',
		fileName: 'src/test/v8-stack.lib.test.civet'
		})
}

	)();

// ---------------------------------------------------------------------------

(async function() {
	await execCmd('deno', [
		'run',
		'-A',
		'npm:@danielx/civet',
		'--inline-map',
		'-o', '.ts',
		'-c', 'src/test/v8-stack/v8-module.civet'
		])
	const {getBoth} = await import('./v8-stack/v8-module.ts')
	let lCallers1: ((TStackFrame | undefined))[] = []
	let lCallers2: ((TStackFrame | undefined))[] = []

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		lCallers1 = getBoth()
	}

	const func2 = function() {
		lCallers2 = getBoth()
		return
	}

	main()
	like(lCallers1[0], {
		type: 'function',
		name: 'secondFunc',
		source: 'src/test/v8-stack/v8-module.civet'
		})
	like(lCallers1[1], {
		type: 'function',
		name: 'secondFunc',
		source: 'src/test/v8-stack/v8-module.civet'
		})
	like(lCallers2[0], {
		type: 'function',
		name: 'secondFunc',
		source: 'src/test/v8-stack/v8-module.civet'
		})
	like(lCallers2[1], {
		type: 'function',
		name: 'secondFunc',
		source: 'src/test/v8-stack/v8-module.civet'
		})
}
	)();

// ---------------------------------------------------------------------------

(async () => {
	const func1 = async () => {
		return await func2()
	}

	const func2 = async () => {
		return await getV8StackStr()
	}

	equal(await func1(), `[function func2    ] src/test/v8-stack.lib.test.civet:332:15
[function func1    ] src/test/v8-stack.lib.test.civet:329:15
[function <anon>   ] src/test/v8-stack.lib.test.civet:334:13
[script            ] src/test/v8-stack.lib.test.civet:341:2`)
}

	)();

// ---------------------------------------------------------------------------

(async () => {
	const func1 = async () => {
		func2()
		return await getV8StackStr()
	}

	const func2 = () => {
		return 2 * 2
	}

	equal(await func1(), `[function func1    ] src/test/v8-stack.lib.test.civet:348:15
[function <anon>   ] src/test/v8-stack.lib.test.civet:353:13
[script            ] src/test/v8-stack.lib.test.civet:358:2`)
}
	)();

// ---------------------------------------------------------------------------

(function() {
	let caller1: (TStackFrame | undefined) = undef
	let caller2: (TStackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		caller1 = getMyCaller()
	}

	const func2 = function() {
		caller2 = getMyCaller()
		return
	}

	main()
	like(caller1, {
		type: 'function',
		name: 'main',
		fileName: 'src/test/v8-stack.lib.test.civet'
		})
	like(caller2, {
		type: 'function',
		name: 'main',
		fileName: 'src/test/v8-stack.lib.test.civet'
		})
}
	)()

// ---------------------------------------------------------------------------

DBG("getMyOutsideCaller()");

(function() {
	let caller1: (TStackFrame | undefined) = undef
	let caller2: (TStackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		caller1 = getMyOutsideCaller()
	}

	const func2 = function() {
		caller2 = getMyOutsideCaller()
		return
	}

	main()
	like(caller1, {
		type: 'function',
		name: 'main',
		source: 'src/test/v8-stack.lib.test.civet'
		})
	like(caller2, {
		type: 'function',
		name: 'main',
		source: 'src/test/v8-stack.lib.test.civet'
		})
}
	)()

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcdGVzdFxcdjgtc3RhY2subGliLnRlc3QuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGpvaG5kXFx1dGlsc1xcc3JjXFx0ZXN0XFx2OC1zdGFjay5saWIudGVzdC5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLDBCQUF5QjtBQUN6QixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVztBQUM5QyxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVM7QUFDekIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRO0FBQzFCLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTTtBQUM1QixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVU7QUFDbkMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNO0FBQ3pDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsV0FBVyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQ3RDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxhQUFhLENBQUM7QUFDbkMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVU7QUFDbEIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxVQUFVLENBQUM7QUFD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TyxDQUFDLENBQUM7QUFDdkIsQUFBQSxFQUFFLE07Q0FBTSxDQUFBO0FBQ1IsQUFBQTtBQUNBLEFBQUEsQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUNQLEFBQUEsQ0FBQyxJQUFJLENBQUEsQUFBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JCLEFBQUEsRUFBRSxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUE7QUFDbEIsQUFBQSxFQUFFLElBQUksQ0FBQyxDQUFDLFlBQVksQ0FBQTtBQUNwQixBQUFBLEVBQUUsTUFBTSxDQUFDLENBQUMsbUNBQW1DO0FBQzdDLEVBQUUsQ0FBQyxDQUFBO0FBQ0gsQUFBQSxDQUFDLElBQUksQ0FBQSxBQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDckIsQUFBQSxFQUFFLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQTtBQUNsQixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsWUFBWSxDQUFBO0FBQ3BCLEFBQUEsRUFBRSxNQUFNLENBQUMsQ0FBQyxtQ0FBbUM7QUFDN0MsRUFBRSxDQUFDLENBQUE7QUFDSCxBQUFBLENBQUMsSUFBSSxDQUFBLEFBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNyQixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFBO0FBQ2xCLEFBQUEsRUFBRSxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUE7QUFDcEIsQUFBQSxFQUFFLE1BQU0sQ0FBQyxDQUFDLG1DQUFtQztBQUM3QyxFQUFFLENBQUMsQ0FBQTtBQUNILEFBQUEsQ0FBQyxJQUFJLENBQUEsQUFBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3JCLEFBQUEsRUFBRSxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUE7QUFDbEIsQUFBQSxFQUFFLElBQUksQ0FBQyxDQUFDLFlBQVksQ0FBQTtBQUNwQixBQUFBLEVBQUUsTUFBTSxDQUFDLENBQUMsbUNBQW1DO0FBQzdDLEVBQUUsQ0FBQyxDO0FBQUEsQ0FBQTtBQUNILENBQUMsQ0FBQyxDQUFDLEMsQ0FBQztBQUNKLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLEMsTUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNOLEFBQUEsQ0FBTSxNQUFMLEtBQUssQ0FBQyxDQUFFLEMsTUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNmLEFBQUEsRUFBRSxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDO0NBQUMsQ0FBQTtBQUN0QixBQUFBO0FBQ0EsQUFBQSxDQUFNLE1BQUwsS0FBSyxDQUFDLENBQUUsQyxNQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ2YsQUFBQSxFQUFFLE1BQU0sQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFDLEM7Q0FBQyxDQUFBO0FBQzlCLEFBQUE7QUFDQSxBQUFBLENBQUMsS0FBSyxDQUFBLEFBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFHO0FBQ3pCO0FBQ0E7QUFDQSwyREFFRSxDQUFHLEM7QUFBQSxDQUFBO0FBQ0w7QUFDQSxDQUFDLENBQUMsQ0FBQyxDLENBQUM7QUFDSixBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQTtBQUNBLEFBQUEsQUFBQSxDLE1BQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDTixBQUFBLENBQU0sTUFBTCxLQUFLLENBQUMsQ0FBRSxDLE1BQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDZixBQUFBLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDVCxBQUFBLEVBQUUsTUFBTSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsQztDQUFDLENBQUE7QUFDOUIsQUFBQTtBQUNBLEFBQUEsQ0FBTSxNQUFMLEtBQUssQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDZixBQUFBLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQztDQUFDLENBQUE7QUFDZCxBQUFBO0FBQ0EsQUFBQSxDQUFDLEtBQUssQ0FBQSxBQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRztBQUN6QjtBQUNBLDJEQUVFLENBQUcsQztBQUFBLENBQUE7QUFDTCxDQUFDLENBQUMsQ0FBQyxDLENBQUM7QUFDSixBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFJLFFBQUgsQ0FBQyxDQUFJLENBQUEsQ0FBQTtBQUNOLEFBQUEsQ0FBQyxHQUFHLENBQUMsT0FBTyxDLEMsQ0FBQyxBQUFDLFcsWSxDQUFZLENBQUMsQ0FBQyxDQUFDLEtBQUs7QUFDbEMsQUFBQSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEMsQyxDQUFDLEFBQUMsVyxZLENBQVksQ0FBQyxDQUFDLENBQUMsS0FBSztBQUNsQyxBQUFBO0FBQ0EsQUFBQSxDQUFLLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBSSxRQUFILENBQUMsQ0FBSSxDQUFBLENBQUE7QUFDZCxBQUFBLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDVCxBQUFBLEVBQUUsS0FBSyxDQUFDLEM7Q0FBQyxDQUFBO0FBQ1QsQUFBQTtBQUNBLEFBQUEsQ0FBTSxNQUFMLEtBQUssQ0FBQyxDQUFFLENBQUksUUFBSCxDQUFDLENBQUksQ0FBQSxDQUFBO0FBQ2YsQUFBQSxFQUFFLE9BQU8sQyxDQUFFLENBQUMsV0FBVyxDQUFDLEM7Q0FBQyxDQUFBO0FBQ3pCLEFBQUE7QUFDQSxBQUFBLENBQU0sTUFBTCxLQUFLLENBQUMsQ0FBRSxDQUFJLFFBQUgsQ0FBQyxDQUFJLENBQUEsQ0FBQTtBQUNmLEFBQUEsRUFBRSxPQUFPLEMsQ0FBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ3pCLEFBQUEsRUFBRSxNO0NBQU0sQ0FBQTtBQUNSLEFBQUE7QUFDQSxBQUFBLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDUCxBQUFBLENBQUMsSUFBSSxDQUFBLEFBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUNoQixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFBO0FBQ2xCLEFBQUEsRUFBRSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUE7QUFDZCxBQUFBLEVBQUUsUUFBUSxDQUFDLENBQUMsa0NBQWtDO0FBQzlDLEVBQUUsQ0FBQyxDQUFBO0FBQ0gsQUFBQSxDQUFDLElBQUksQ0FBQSxBQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDaEIsQUFBQSxFQUFFLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQTtBQUNsQixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQ2QsQUFBQSxFQUFFLFFBQVEsQ0FBQyxDQUFDLGtDQUFrQztBQUM5QyxFQUFFLENBQUMsQztBQUFBLENBQUE7QUFDSCxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLEFBQUEsR0FBRyxDQUFBLEFBQUMsc0JBQXNCLEMsQ0FBQTtBQUMxQixBQUFBO0FBQ0EsQUFBQSxBQUFBLENBQUksUUFBSCxDQUFDLENBQUksQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEMsQyxDQUFDLEFBQUMsVyxZLENBQVksQ0FBQyxDQUFDLENBQUMsS0FBSztBQUNsQyxBQUFBLENBQUMsR0FBRyxDQUFDLE9BQU8sQyxDLENBQUMsQUFBQyxXLFksQ0FBWSxDQUFDLENBQUMsQ0FBQyxLQUFLO0FBQ2xDLEFBQUE7QUFDQSxBQUFBLENBQUssTUFBSixJQUFJLENBQUMsQ0FBRSxDQUFJLFFBQUgsQ0FBQyxDQUFJLENBQUEsQ0FBQTtBQUNkLEFBQUEsRUFBRSxLQUFLLENBQUMsQ0FBQztBQUNULEFBQUEsRUFBRSxLQUFLLENBQUMsQztDQUFDLENBQUE7QUFDVCxBQUFBO0FBQ0EsQUFBQSxDQUFNLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBSSxRQUFILENBQUMsQ0FBSSxDQUFBLENBQUE7QUFDZixBQUFBLEVBQUUsT0FBTyxDLENBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxDO0NBQUMsQ0FBQTtBQUNoQyxBQUFBO0FBQ0EsQUFBQSxDQUFNLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBSSxRQUFILENBQUMsQ0FBSSxDQUFBLENBQUE7QUFDZixBQUFBLEVBQUUsT0FBTyxDLENBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO0FBQ2hDLEFBQUEsRUFBRSxNO0NBQU0sQ0FBQTtBQUNSLEFBQUE7QUFDQSxBQUFBLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDUCxBQUFBLENBQUMsSUFBSSxDQUFBLEFBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUNoQixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFBO0FBQ2xCLEFBQUEsRUFBRSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUE7QUFDZCxBQUFBLEVBQUUsTUFBTSxDQUFDLENBQUMsa0NBQWtDO0FBQzVDLEVBQUUsQ0FBQyxDQUFBO0FBQ0gsQUFBQSxDQUFDLElBQUksQ0FBQSxBQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDaEIsQUFBQSxFQUFFLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQTtBQUNsQixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQ2QsQUFBQSxFQUFFLE1BQU0sQ0FBQyxDQUFDLGtDQUFrQztBQUM1QyxFQUFFLENBQUMsQztBQUFBLENBQUE7QUFDSCxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ0oiLCJuYW1lcyI6W10sInNvdXJjZXNDb250ZW50IjpbIiMgdjgtc3RhY2subGliLnRlc3QuY2l2ZXRcclxuXHJcbmltcG9ydCB7dW5kZWYsIGFzc2VydCwgY3JvYWt9IGZyb20gJ2RhdGF0eXBlcydcclxuaW1wb3J0IHtvfSBmcm9tICdsbHV0aWxzJ1xyXG5pbXBvcnQge0RCR30gZnJvbSAnbG9nZ2VyJ1xyXG5pbXBvcnQge3JlbHBhdGh9IGZyb20gJ2ZzeXMnXHJcbmltcG9ydCB7Z2V0Q21kQXJnc30gZnJvbSAnY21kLWFyZ3MnXHJcbmltcG9ydCB7ZXhlY0NtZCwgZXhlY0NtZFN5bmN9IGZyb20gJ2V4ZWMnXHJcbmltcG9ydCB7XHJcblx0VFN0YWNrRnJhbWUsIGdldFY4U3RhY2ssIGdldE15Q2FsbGVyLFxyXG5cdGdldE15T3V0c2lkZUNhbGxlciwgZ2V0VjhTdGFja1N0cixcclxuXHR9IGZyb20gJ3Y4LXN0YWNrJ1xyXG5pbXBvcnQge1xyXG5cdGVxdWFsLCBsaWtlLCBzdWNjZWVkcywgaXNUeXBlLCBub3RUeXBlLCBvYmpMaXN0TGlrZSwgc2V0RGlyVHJlZSxcclxuXHR9IGZyb20gJ3VuaXQtdGVzdCdcclxuXHJcbmdldENtZEFyZ3MoKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbnNldHVwIDo9ICgpOiB2b2lkID0+XHJcblxyXG5cdERCRyBcInNldERpclRyZWUoKVwiXHJcblxyXG5cdHNldERpclRyZWUgJ3NyYy90ZXN0L3Y4LXN0YWNrJywgXCJcIlwiXHJcblx0XHRcdHY4LW1vZHVsZS50c1xyXG5cdFx0XHRcdFwidXNlIHN0cmljdFwiO1xyXG5cdFx0XHRcdC8vIHY4LW1vZHVsZS5jaXZldFxyXG5cclxuXHRcdFx0XHRpbXBvcnQge2dldE15Q2FsbGVyLCBUU3RhY2tGcmFtZX0gZnJvbSAndjgtc3RhY2snXHJcblxyXG5cdFx0XHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHRcdFx0XHR0eXBlIGJvdGhGcmFtZXMgPSAoKFRTdGFja0ZyYW1lPykpW11cclxuXHJcblx0XHRcdFx0Y29uc3QgaXNCb3RoRnJhbWVzID0gKHg6IHVua25vd24pOiB4IGlzIGJvdGhGcmFtZXMgPT4ge1xyXG5cdFx0XHRcdFx0cmV0dXJuIEFycmF5LmlzQXJyYXkoeCkgJiYgKHgubGVuZ3RoID09PSAyKVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cdFx0XHRcdGV4cG9ydCBjb25zdCBnZXRCb3RoID0gZnVuY3Rpb24oKTogYm90aEZyYW1lcyB7XHJcblxyXG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gc2Vjb25kRnVuYygnYm90aCcpXHJcblx0XHRcdFx0XHRpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XHJcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBhcnJheSwgZ290IFRTdGFja0ZyYW1lXCIpXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblx0XHRcdFx0ZXhwb3J0IGNvbnN0IGdldERpcmVjdCA9IGZ1bmN0aW9uKCk6IChUU3RhY2tGcmFtZT8pIHtcclxuXHJcblx0XHRcdFx0XHRjb25zdCByZXN1bHQgPSBzZWNvbmRGdW5jKCdkaXJlY3QnKVxyXG5cdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJHb3QgdW5leHBlY3RlZCBhcnJheVwiKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdFxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cdFx0XHRcdGV4cG9ydCBjb25zdCBnZXRPdXRzaWRlID0gZnVuY3Rpb24oKTogKFRTdGFja0ZyYW1lPykge1xyXG5cclxuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHNlY29uZEZ1bmMoJ291dHNpZGUnKVxyXG5cdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJHb3QgdW5leHBlY3RlZCBhcnJheVwiKVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdFxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5cdFx0XHRcdGNvbnN0IHNlY29uZEZ1bmMgPSBmdW5jdGlvbih0eXBlOiBzdHJpbmcpOiBib3RoRnJhbWVzIHwgKFRTdGFja0ZyYW1lPykge1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiB0aGlyZEZ1bmModHlwZSlcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuXHRcdFx0XHRjb25zdCB0aGlyZEZ1bmMgPSBmdW5jdGlvbih0eXBlOiBzdHJpbmcpOiBib3RoRnJhbWVzIHwgKFRTdGFja0ZyYW1lPykge1xyXG5cclxuXHRcdFx0XHRcdC8vIC0tLSBkaXJlY3QgY2FsbGVyIHNob3VsZCBiZSAnc2Vjb25kRnVuYydcclxuXHRcdFx0XHRcdC8vICAgICBvdXRzaWRlIGNhbGxlciBzaG91bGQgYmUgdGhlIGZ1bmN0aW9uXHJcblx0XHRcdFx0XHQvLyAgICAgICAgdGhhdCBjYWxsZWQgZ2V0Q2FsbGVyKClcclxuXHRcdFx0XHRcdHN3aXRjaCh0eXBlKSB7XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2JvdGgnOiB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFtnZXRNeUNhbGxlcigpLCBnZXRNeUNhbGxlcigpXVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNhc2UgJ2RpcmVjdCc6IHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0TXlDYWxsZXIoKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdGNhc2UgJ291dHNpZGUnOiB7XHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldE15Q2FsbGVyKClcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRkZWZhdWx0OiB7XHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHR5cGU6ICR7dHlwZX1gKVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XCJcIlwiLCBvJ2NsZWFyJ1xyXG5cclxuXHRyZXR1cm5cclxuXHJcbnNldHVwKClcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5EQkcgXCJ0eXBlIFRTdGFja0ZyYW1lXCJcclxuXHJcbmlzVHlwZSAnVFN0YWNrRnJhbWUnLCB7XHJcblx0dHlwZTogJ2Z1bmN0aW9uJ1xyXG5cdGZpbGVOYW1lOiAndGVtcC5jaXZldCdcclxuXHRsaW5lOiA1XHJcblx0Y29sdW1uOiA1XHJcblx0bmFtZTogJ2Z1bmMnXHJcblx0aXNDb25zdHJ1Y3RvcjogZmFsc2VcclxuXHRpc0FzeW5jOiBmYWxzZVxyXG5cdG9ialR5cGU6IHVuZGVmaW5lZFxyXG5cdH1cclxuXHJcbkRCRyBcImdldFY4U3RhY2soKSwgZ2V0VjhTdGFja1N0clwiXHJcblxyXG4oKCkgLT5cclxuXHRsZXQgc3RhY2sxOiBUU3RhY2tGcmFtZVtdID0gW11cclxuXHRsZXQgc3RhY2syOiBUU3RhY2tGcmFtZVtdID0gW11cclxuXHRsZXQgc3RhY2sxU3RyOiBzdHJpbmcgPSAnJ1xyXG5cdGxldCBzdGFjazJTdHI6IHN0cmluZyA9ICcnXHJcblxyXG5cdG1haW4gOj0gKCkgPT5cclxuXHRcdGZ1bmMxKClcclxuXHRcdGZ1bmMyKClcclxuXHJcblx0ZnVuYzEgOj0gKCkgLT5cclxuXHRcdHN0YWNrMSA9IGdldFY4U3RhY2soKVxyXG5cdFx0c3RhY2sxU3RyID0gZ2V0VjhTdGFja1N0cigpXHJcblx0XHRyZXR1cm5cclxuXHJcblx0ZnVuYzIgOj0gKCkgLT5cclxuXHRcdHN0YWNrMiA9IGdldFY4U3RhY2soKVxyXG5cdFx0c3RhY2syU3RyID0gZ2V0VjhTdGFja1N0cigpXHJcblx0XHRyZXR1cm5cclxuXHJcblx0bWFpbigpXHJcblxyXG5cdG9iakxpc3RMaWtlIHN0YWNrMSwgW1xyXG5cdFx0e1xyXG5cdFx0XHR0eXBlOiAnZnVuY3Rpb24nXHJcblx0XHRcdG5hbWU6ICdmdW5jMSdcclxuXHRcdFx0ZmlsZU5hbWU6ICdzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcclxuXHRcdFx0bGluZTogMTM2XHJcblx0XHRcdH1cclxuXHRcdHtcclxuXHRcdFx0dHlwZTogJ2Z1bmN0aW9uJ1xyXG5cdFx0XHRuYW1lOiAnbWFpbidcclxuXHRcdFx0ZmlsZU5hbWU6ICdzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcclxuXHRcdFx0bGluZTogMTMyXHJcblx0XHRcdH1cclxuXHRcdHtcclxuXHRcdFx0dHlwZTogJ2Z1bmN0aW9uJ1xyXG5cdFx0XHRuYW1lOiAnPGFub24+J1xyXG5cdFx0XHRmaWxlTmFtZTogJ3NyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xyXG5cdFx0XHRsaW5lOiAxNDNcclxuXHRcdFx0fVxyXG5cdFx0e1xyXG5cdFx0XHR0eXBlOiAnc2NyaXB0J1xyXG5cdFx0XHRmaWxlTmFtZTogJ3NyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xyXG5cdFx0XHRsaW5lOiAxOTVcclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cclxuXHRvYmpMaXN0TGlrZSBzdGFjazIsIFtcclxuXHRcdHtcclxuXHRcdFx0dHlwZTogJ2Z1bmN0aW9uJ1xyXG5cdFx0XHRuYW1lOiAnZnVuYzInXHJcblx0XHRcdGZpbGVOYW1lOiAnc3JjL3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQnXHJcblx0XHRcdGxpbmU6IDE0MFxyXG5cdFx0XHR9XHJcblx0XHR7XHJcblx0XHRcdHR5cGU6ICdmdW5jdGlvbidcclxuXHRcdFx0bmFtZTogJ21haW4nXHJcblx0XHRcdGZpbGVOYW1lOiAnc3JjL3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQnXHJcblx0XHRcdGxpbmU6IDEzM1xyXG5cdFx0XHR9XHJcblx0XHR7XHJcblx0XHRcdHR5cGU6ICdmdW5jdGlvbidcclxuXHRcdFx0bmFtZTogJzxhbm9uPidcclxuXHRcdFx0ZmlsZU5hbWU6ICdzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcclxuXHRcdFx0bGluZTogMTQzXHJcblx0XHRcdH1cclxuXHRcdHtcclxuXHRcdFx0dHlwZTogJ3NjcmlwdCdcclxuXHRcdFx0ZmlsZU5hbWU6ICdzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcclxuXHRcdFx0bGluZTogMTk1XHJcblx0XHRcdH1cclxuXHRcdF1cclxuXHJcblx0ZXF1YWwgc3RhY2sxU3RyLCBcIlwiXCJcclxuXHRcdFtmdW5jdGlvbiBmdW5jMSAgICBdIHNyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjEzOToxNFxyXG5cdFx0W2Z1bmN0aW9uIG1haW4gICAgIF0gc3JjL3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MTM0OjJcclxuXHRcdFtmdW5jdGlvbiA8YW5vbj4gICBdIHNyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjE0NzoxXHJcblx0XHRbc2NyaXB0ICAgICAgICAgICAgXSBzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDoyMTQ6MlxyXG5cdFx0XCJcIlwiXHJcblxyXG5cdGVxdWFsIHN0YWNrMlN0ciwgXCJcIlwiXHJcblx0XHRbZnVuY3Rpb24gZnVuYzIgICAgXSBzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDoxNDQ6MTRcclxuXHRcdFtmdW5jdGlvbiBtYWluICAgICBdIHNyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjEzNToyXHJcblx0XHRbZnVuY3Rpb24gPGFub24+ICAgXSBzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDoxNDc6MVxyXG5cdFx0W3NjcmlwdCAgICAgICAgICAgIF0gc3JjL3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MjE0OjJcclxuXHRcdFwiXCJcIlxyXG5cdCkoKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkRCRyBcImdldE15Q2FsbGVyKClcIlxyXG5cclxuKCgpIC0+XHJcblx0bGV0IGNhbGxlcjE6IFRTdGFja0ZyYW1lPyA9IHVuZGVmXHJcblx0bGV0IGNhbGxlcjI6IFRTdGFja0ZyYW1lPyA9IHVuZGVmXHJcblxyXG5cdG1haW4gOj0gKCkgLT5cclxuXHRcdGZ1bmMxKClcclxuXHRcdGZ1bmMyKClcclxuXHJcblx0ZnVuYzEgOj0gKCkgLT5cclxuXHRcdGNhbGxlcjEgPSBnZXRNeUNhbGxlcigpXHJcblxyXG5cdGZ1bmMyIDo9ICgpIC0+XHJcblx0XHRjYWxsZXIyID0gZ2V0TXlDYWxsZXIoKVxyXG5cdFx0cmV0dXJuXHJcblxyXG5cdG1haW4oKVxyXG5cdGxpa2UgY2FsbGVyMSwge1xyXG5cdFx0dHlwZTogJ2Z1bmN0aW9uJ1xyXG5cdFx0bmFtZTogJ21haW4nXHJcblx0XHRmaWxlTmFtZTogJ3NyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xyXG5cdFx0fVxyXG5cdGxpa2UgY2FsbGVyMiwge1xyXG5cdFx0dHlwZTogJ2Z1bmN0aW9uJ1xyXG5cdFx0bmFtZTogJ21haW4nXHJcblx0XHRmaWxlTmFtZTogJ3NyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xyXG5cdFx0fVxyXG5cdCkoKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbigoKSAtPlxyXG5cdGxldCBoQ2FsbGVyOiBUU3RhY2tGcmFtZT8gPSB1bmRlZlxyXG5cclxuXHRtYWluIDo9ICgpIC0+XHJcblx0XHRmdW5jMSgpXHJcblx0XHRmdW5jMigpXHJcblxyXG5cdGZ1bmMxIDo9ICgpIC0+XHJcblx0XHRyZXR1cm5cclxuXHJcblx0ZnVuYzIgOj0gKCkgLT5cclxuXHRcdGhDYWxsZXIgPSBnZXRNeUNhbGxlcigpXHJcblx0XHRyZXR1cm5cclxuXHJcblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblx0bWFpbigpXHJcblxyXG5cdGxpa2UgaENhbGxlciwge1xyXG5cdFx0dHlwZTogJ2Z1bmN0aW9uJ1xyXG5cdFx0bmFtZTogJ21haW4nXHJcblx0XHRmaWxlTmFtZTogJ3NyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xyXG5cdFx0fVxyXG5cclxuXHQpKClcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4oKCkgLT5cclxuXHRhd2FpdCBleGVjQ21kICdkZW5vJywgW1xyXG5cdFx0J3J1bidcclxuXHRcdCctQSdcclxuXHRcdCducG06QGRhbmllbHgvY2l2ZXQnXHJcblx0XHQnLS1pbmxpbmUtbWFwJ1xyXG5cdFx0Jy1vJywgJy50cydcclxuXHRcdCctYycsICdzcmMvdGVzdC92OC1zdGFjay92OC1tb2R1bGUuY2l2ZXQnXHJcblx0XHRdXHJcblx0e2dldEJvdGh9IDo9IGF3YWl0IGltcG9ydCgnLi92OC1zdGFjay92OC1tb2R1bGUudHMnKVxyXG5cdGxldCBsQ2FsbGVyczE6IChUU3RhY2tGcmFtZT8pW10gPSBbXVxyXG5cdGxldCBsQ2FsbGVyczI6IChUU3RhY2tGcmFtZT8pW10gPSBbXVxyXG5cclxuXHRtYWluIDo9ICgpIC0+XHJcblx0XHRmdW5jMSgpXHJcblx0XHRmdW5jMigpXHJcblxyXG5cdGZ1bmMxIDo9ICgpIC0+XHJcblx0XHRsQ2FsbGVyczEgPSBnZXRCb3RoKClcclxuXHJcblx0ZnVuYzIgOj0gKCkgLT5cclxuXHRcdGxDYWxsZXJzMiA9IGdldEJvdGgoKVxyXG5cdFx0cmV0dXJuXHJcblxyXG5cdG1haW4oKVxyXG5cdGxpa2UgbENhbGxlcnMxWzBdLCB7XHJcblx0XHR0eXBlOiAnZnVuY3Rpb24nXHJcblx0XHRuYW1lOiAnc2Vjb25kRnVuYydcclxuXHRcdHNvdXJjZTogJ3NyYy90ZXN0L3Y4LXN0YWNrL3Y4LW1vZHVsZS5jaXZldCdcclxuXHRcdH1cclxuXHRsaWtlIGxDYWxsZXJzMVsxXSwge1xyXG5cdFx0dHlwZTogJ2Z1bmN0aW9uJ1xyXG5cdFx0bmFtZTogJ3NlY29uZEZ1bmMnXHJcblx0XHRzb3VyY2U6ICdzcmMvdGVzdC92OC1zdGFjay92OC1tb2R1bGUuY2l2ZXQnXHJcblx0XHR9XHJcblx0bGlrZSBsQ2FsbGVyczJbMF0sIHtcclxuXHRcdHR5cGU6ICdmdW5jdGlvbidcclxuXHRcdG5hbWU6ICdzZWNvbmRGdW5jJ1xyXG5cdFx0c291cmNlOiAnc3JjL3Rlc3Qvdjgtc3RhY2svdjgtbW9kdWxlLmNpdmV0J1xyXG5cdFx0fVxyXG5cdGxpa2UgbENhbGxlcnMyWzFdLCB7XHJcblx0XHR0eXBlOiAnZnVuY3Rpb24nXHJcblx0XHRuYW1lOiAnc2Vjb25kRnVuYydcclxuXHRcdHNvdXJjZTogJ3NyYy90ZXN0L3Y4LXN0YWNrL3Y4LW1vZHVsZS5jaXZldCdcclxuXHRcdH1cclxuXHQpKClcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4oKCkgPT5cclxuXHRmdW5jMSA6PSAoKSA9PlxyXG5cdFx0cmV0dXJuIGF3YWl0IGZ1bmMyKClcclxuXHJcblx0ZnVuYzIgOj0gKCkgPT5cclxuXHRcdHJldHVybiBhd2FpdCBnZXRWOFN0YWNrU3RyKClcclxuXHJcblx0ZXF1YWwgYXdhaXQgZnVuYzEoKSwgXCJcIlwiXHJcblx0XHRbZnVuY3Rpb24gZnVuYzIgICAgXSBzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDozMzI6MTVcclxuXHRcdFtmdW5jdGlvbiBmdW5jMSAgICBdIHNyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjMyOToxNVxyXG5cdFx0W2Z1bmN0aW9uIDxhbm9uPiAgIF0gc3JjL3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MzM0OjEzXHJcblx0XHRbc2NyaXB0ICAgICAgICAgICAgXSBzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDozNDE6MlxyXG5cdFx0XCJcIlwiXHJcblxyXG5cdCkoKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbigoKSA9PlxyXG5cdGZ1bmMxIDo9ICgpID0+XHJcblx0XHRmdW5jMigpXHJcblx0XHRyZXR1cm4gYXdhaXQgZ2V0VjhTdGFja1N0cigpXHJcblxyXG5cdGZ1bmMyIDo9ICgpID0+XHJcblx0XHRyZXR1cm4gMiAqIDJcclxuXHJcblx0ZXF1YWwgYXdhaXQgZnVuYzEoKSwgXCJcIlwiXHJcblx0XHRbZnVuY3Rpb24gZnVuYzEgICAgXSBzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDozNDg6MTVcclxuXHRcdFtmdW5jdGlvbiA8YW5vbj4gICBdIHNyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjM1MzoxM1xyXG5cdFx0W3NjcmlwdCAgICAgICAgICAgIF0gc3JjL3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MzU4OjJcclxuXHRcdFwiXCJcIlxyXG5cdCkoKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbigoKSAtPlxyXG5cdGxldCBjYWxsZXIxOiBUU3RhY2tGcmFtZT8gPSB1bmRlZlxyXG5cdGxldCBjYWxsZXIyOiBUU3RhY2tGcmFtZT8gPSB1bmRlZlxyXG5cclxuXHRtYWluIDo9ICgpIC0+XHJcblx0XHRmdW5jMSgpXHJcblx0XHRmdW5jMigpXHJcblxyXG5cdGZ1bmMxIDo9ICgpIC0+XHJcblx0XHRjYWxsZXIxID0gZ2V0TXlDYWxsZXIoKVxyXG5cclxuXHRmdW5jMiA6PSAoKSAtPlxyXG5cdFx0Y2FsbGVyMiA9IGdldE15Q2FsbGVyKClcclxuXHRcdHJldHVyblxyXG5cclxuXHRtYWluKClcclxuXHRsaWtlIGNhbGxlcjEsIHtcclxuXHRcdHR5cGU6ICdmdW5jdGlvbidcclxuXHRcdG5hbWU6ICdtYWluJ1xyXG5cdFx0ZmlsZU5hbWU6ICdzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcclxuXHRcdH1cclxuXHRsaWtlIGNhbGxlcjIsIHtcclxuXHRcdHR5cGU6ICdmdW5jdGlvbidcclxuXHRcdG5hbWU6ICdtYWluJ1xyXG5cdFx0ZmlsZU5hbWU6ICdzcmMvdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcclxuXHRcdH1cclxuXHQpKClcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5EQkcgXCJnZXRNeU91dHNpZGVDYWxsZXIoKVwiXHJcblxyXG4oKCkgLT5cclxuXHRsZXQgY2FsbGVyMTogVFN0YWNrRnJhbWU/ID0gdW5kZWZcclxuXHRsZXQgY2FsbGVyMjogVFN0YWNrRnJhbWU/ID0gdW5kZWZcclxuXHJcblx0bWFpbiA6PSAoKSAtPlxyXG5cdFx0ZnVuYzEoKVxyXG5cdFx0ZnVuYzIoKVxyXG5cclxuXHRmdW5jMSA6PSAoKSAtPlxyXG5cdFx0Y2FsbGVyMSA9IGdldE15T3V0c2lkZUNhbGxlcigpXHJcblxyXG5cdGZ1bmMyIDo9ICgpIC0+XHJcblx0XHRjYWxsZXIyID0gZ2V0TXlPdXRzaWRlQ2FsbGVyKClcclxuXHRcdHJldHVyblxyXG5cclxuXHRtYWluKClcclxuXHRsaWtlIGNhbGxlcjEsIHtcclxuXHRcdHR5cGU6ICdmdW5jdGlvbidcclxuXHRcdG5hbWU6ICdtYWluJ1xyXG5cdFx0c291cmNlOiAnc3JjL3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQnXHJcblx0XHR9XHJcblx0bGlrZSBjYWxsZXIyLCB7XHJcblx0XHR0eXBlOiAnZnVuY3Rpb24nXHJcblx0XHRuYW1lOiAnbWFpbidcclxuXHRcdHNvdXJjZTogJ3NyYy90ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xyXG5cdFx0fVxyXG5cdCkoKVxyXG4iXX0=