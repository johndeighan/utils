"use strict";
// scope-stack.lib.test.civet

import {undef, assert} from 'datatypes'
import {getCmdArgs} from 'cmd-args'
import {CScopeStack} from 'scope-stack'
import {
	equal, truthy, falsy, succeeds, fails, codeLike,
	isType, notType,
	} from 'unit-test'

getCmdArgs();

// ---------------------------------------------------------------------------

(() => {
	const ss = new CScopeStack()
	ss.addDefined('name')
	ss.addDefined('gender')

	truthy(ss.isDefined('name'))
	truthy(ss.isDefined('gender'))
	falsy( ss.isDefined('dummy'))

	succeeds(() => {
		ss.newScope()
		ss.addDefined('name')
		truthy(ss.isDefined('name'))
		ss.endScope()
		falsy(ss.isDefined('name'))
	})
}
	)();

(() => {
	const ss = new CScopeStack()
	ss.addDefined('name')
	ss.addDefined('gender')

	truthy(ss.isDefined('name'))
	truthy(ss.isDefined('gender'))
	falsy( ss.isDefined('address'))
	succeeds(() => {

		ss.newScope()
		ss.addDefined('name')
		ss.addDefined('gender')
		ss.addDefined('address')

		truthy(ss.isDefined('name'))
		truthy(ss.isDefined('gender'))
		truthy(ss.isDefined('address'))

		ss.endScope()

		truthy(ss.isDefined('name'))
		truthy(ss.isDefined('gender'))
		falsy( ss.isDefined('address'))
	})
}
	)()

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzovVXNlcnMvam9obmQvdXRpbHMvc3JjL3Rlc3Qvc2NvcGUtc3RhY2subGliLnRlc3QuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJDOi9Vc2Vycy9qb2huZC91dGlscy9zcmMvdGVzdC9zY29wZS1zdGFjay5saWIudGVzdC5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLDZCQUE0QjtBQUM1QixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVztBQUN2QyxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVU7QUFDbkMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFhO0FBQ3ZDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQ2pELENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQ2pCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXO0FBQ25CLEFBQUE7QUFDQSxBQUFBLEFBQUEsVUFBVSxDQUFDLEMsQ0FBQztBQUNaLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDTixBQUFBLENBQUcsTUFBRixFQUFFLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN4QixBQUFBLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQSxBQUFDLE1BQU0sQ0FBQTtBQUNyQixBQUFBLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQSxBQUFDLFFBQVEsQ0FBQTtBQUN2QixBQUFBO0FBQ0EsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDNUIsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDOUIsQUFBQSxDQUFDLEtBQUssQ0FBQSxDQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDN0IsQUFBQTtBQUNBLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNmLEFBQUEsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDZixBQUFBLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUM7QUFDdkIsQUFBQSxFQUFFLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDN0IsQUFBQSxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUNmLEFBQUEsRUFBRSxLQUFLLENBQUEsQUFBQyxFQUFFLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDO0NBQUEsQ0FBQSxDO0FBQUEsQ0FBQTtBQUM1QixDQUFDLENBQUMsQ0FBQyxDLENBQUM7QUFDSixBQUFBO0FBQ0EsQUFBQSxBQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDTixBQUFBLENBQUcsTUFBRixFQUFFLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUN4QixBQUFBLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQSxBQUFDLE1BQU0sQ0FBQTtBQUNyQixBQUFBLENBQUMsRUFBRSxDQUFDLFVBQVUsQ0FBQSxBQUFDLFFBQVEsQ0FBQTtBQUN2QixBQUFBO0FBQ0EsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDNUIsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDOUIsQUFBQSxDQUFDLEtBQUssQ0FBQSxDQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUE7QUFDL0IsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ2YsQUFBQTtBQUNBLEFBQUEsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDZixBQUFBLEVBQUUsRUFBRSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUM7QUFDdkIsQUFBQSxFQUFFLEVBQUUsQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDO0FBQ3pCLEFBQUEsRUFBRSxFQUFFLENBQUMsVUFBVSxDQUFDLFNBQVMsQ0FBQztBQUMxQixBQUFBO0FBQ0EsQUFBQSxFQUFFLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDN0IsQUFBQSxFQUFFLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDL0IsQUFBQSxFQUFFLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUE7QUFDaEMsQUFBQTtBQUNBLEFBQUEsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDZixBQUFBO0FBQ0EsQUFBQSxFQUFFLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7QUFDN0IsQUFBQSxFQUFFLE1BQU0sQ0FBQSxBQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDL0IsQUFBQSxFQUFFLEtBQUssQ0FBQSxDQUFFLEVBQUUsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLEM7Q0FBQSxDQUFBLEM7QUFBQSxDQUFBO0FBQ2hDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDSiIsIm5hbWVzIjpbXSwic291cmNlc0NvbnRlbnQiOlsiIyBzY29wZS1zdGFjay5saWIudGVzdC5jaXZldFxuXG5pbXBvcnQge3VuZGVmLCBhc3NlcnR9IGZyb20gJ2RhdGF0eXBlcydcbmltcG9ydCB7Z2V0Q21kQXJnc30gZnJvbSAnY21kLWFyZ3MnXG5pbXBvcnQge0NTY29wZVN0YWNrfSBmcm9tICdzY29wZS1zdGFjaydcbmltcG9ydCB7XG5cdGVxdWFsLCB0cnV0aHksIGZhbHN5LCBzdWNjZWVkcywgZmFpbHMsIGNvZGVMaWtlLFxuXHRpc1R5cGUsIG5vdFR5cGUsXG5cdH0gZnJvbSAndW5pdC10ZXN0J1xuXG5nZXRDbWRBcmdzKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuKCgpID0+XG5cdHNzIDo9IG5ldyBDU2NvcGVTdGFjaygpXG5cdHNzLmFkZERlZmluZWQgJ25hbWUnXG5cdHNzLmFkZERlZmluZWQgJ2dlbmRlcidcblxuXHR0cnV0aHkgc3MuaXNEZWZpbmVkKCduYW1lJylcblx0dHJ1dGh5IHNzLmlzRGVmaW5lZCgnZ2VuZGVyJylcblx0ZmFsc3kgIHNzLmlzRGVmaW5lZCgnZHVtbXknKVxuXG5cdHN1Y2NlZWRzICgpID0+XG5cdFx0c3MubmV3U2NvcGUoKVxuXHRcdHNzLmFkZERlZmluZWQoJ25hbWUnKVxuXHRcdHRydXRoeSBzcy5pc0RlZmluZWQoJ25hbWUnKVxuXHRcdHNzLmVuZFNjb3BlKClcblx0XHRmYWxzeSBzcy5pc0RlZmluZWQoJ25hbWUnKVxuXHQpKClcblxuKCgpID0+XG5cdHNzIDo9IG5ldyBDU2NvcGVTdGFjaygpXG5cdHNzLmFkZERlZmluZWQgJ25hbWUnXG5cdHNzLmFkZERlZmluZWQgJ2dlbmRlcidcblxuXHR0cnV0aHkgc3MuaXNEZWZpbmVkKCduYW1lJylcblx0dHJ1dGh5IHNzLmlzRGVmaW5lZCgnZ2VuZGVyJylcblx0ZmFsc3kgIHNzLmlzRGVmaW5lZCgnYWRkcmVzcycpXG5cdHN1Y2NlZWRzICgpID0+XG5cblx0XHRzcy5uZXdTY29wZSgpXG5cdFx0c3MuYWRkRGVmaW5lZCgnbmFtZScpXG5cdFx0c3MuYWRkRGVmaW5lZCgnZ2VuZGVyJylcblx0XHRzcy5hZGREZWZpbmVkKCdhZGRyZXNzJylcblxuXHRcdHRydXRoeSBzcy5pc0RlZmluZWQoJ25hbWUnKVxuXHRcdHRydXRoeSBzcy5pc0RlZmluZWQoJ2dlbmRlcicpXG5cdFx0dHJ1dGh5IHNzLmlzRGVmaW5lZCgnYWRkcmVzcycpXG5cblx0XHRzcy5lbmRTY29wZSgpXG5cblx0XHR0cnV0aHkgc3MuaXNEZWZpbmVkKCduYW1lJylcblx0XHR0cnV0aHkgc3MuaXNEZWZpbmVkKCdnZW5kZXInKVxuXHRcdGZhbHN5ICBzcy5pc0RlZmluZWQoJ2FkZHJlc3MnKVxuXHQpKClcbiJdfQ==