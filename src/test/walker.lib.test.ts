"use strict";
// walker.lib.test.civet

import {undef, hash} from 'datatypes'
import {hasKey, hasKeys} from 'llutils'
import {DBG} from 'logger'
import {getCmdArgs} from 'cmd-args'
import {Walker} from 'walker'
import {equal, truthy, falsy, isType, notType} from 'unit-test'

getCmdArgs()

// ---------------------------------------------------------------------------

DBG("class Walker");

(() => {
	// --- Try a very simple class

	type TGender = 'male' | 'female'

	class Person {
		name: string
		gender: TGender
		constructor(name1: string, gender1: TGender){this.name = name1;this.gender = gender1;}
	}

	class PersonWalker extends Walker<Person> {
		override isNode = (x: object): x is Person => {
			return x instanceof Person
		}
	}

	const walker = new PersonWalker()

	// --- Walk a single node
	const person = new Person('John', 'male')
	const results=[];for (const {name, gender} of walker.walk(person)) {
		results.push(`${name} is ${gender}`)
	};const lStrings =results
	equal(lStrings, ['John is male'])

	// --- Walk an array
	const results1=[];for (const {name, gender} of walker.walk([
			new Person('John', 'male'),
			new Person('Julie', 'female')
			])) {
		results1.push(`${name} is ${gender}`)
	};const lStrings2 =results1
	equal(lStrings2, ['John is male', 'Julie is female'])

	// --- Walk an object
	const results2=[];for (const {name, gender} of walker.walk({
			first: new Person('John', 'male'),
			second: new Person('Julie', 'female')
			})) {
		results2.push(`${name} is ${gender}`)
	};const lStrings3 =results2
	equal(lStrings3, [
		'John is male',
		'Julie is female'     // TODO add key by querying for parent
		])

	const h = {
		friends: [
			new Person('John Bowling', 'male'),
			new Person('Julie Booker', 'female')
			],
		name: 'John Deighan',
		gender: 'male',
		address: {
			street: '1749 Main St.',
			city: 'Blacksburg',
			state: 'VA'
			}
		} as const

	const results3=[];for (const {name} of walker.walk(h)) {
		results3.push(name)
	};const lNames =results3
	equal(lNames, ['John Bowling', 'Julie Booker'])

	// --- put it in an array
	const arr = [{
		friends: [
			new Person('John Bowling', 'male'),
			new Person('Julie Booker', 'female')
			],
		name: 'John Deighan',
		gender: 'male',
		address: {
			street: '1749 Main St.',
			city: 'Blacksburg',
			state: 'VA'
			}
		}] as const

	const results4=[];for (const {name} of walker.walk(arr)) {
		results4.push(name)
	};const lNames2 =results4
	equal(lNames2, ['John Bowling', 'Julie Booker'])

	// --- put it in a hash
	const h3 = { stuff: {
		friends: [
			new Person('John Bowling', 'male'),
			new Person('Julie Booker', 'female')
			],
		name: 'John Deighan',
		gender: 'male',
		address: {
			street: '1749 Main St.',
			city: 'Blacksburg',
			state: 'VA'
			}
		}} as const

	const results5=[];for (const {name} of walker.walk(h3)) {
		results5.push(`${walker.level} ${name}`)
	};const lNames3 =results5
	equal(lNames3, ['0 John Bowling', '0 Julie Booker'])
}
	)();

// --- NOTE: In the above, the nodes must be Person objects,
//           not just hashes with the keys 'name' and 'gender'
// --- However, if you just want to check for those keys,
//        you can overried the isNode() method

(() => {
	// --- A node is a hash with keys 'name' and 'gender'

	type Person = {
		name: string
		gender: 'male' | 'female'
		}

	class PersonWalker extends Walker<hash> {
		override isNode = (x: object): x is hash => {
			return hasKeys(x, 'name', 'gender')
		}
	}
	const walker = new PersonWalker()

	// --- Walk a single node
	const person = {name: 'John', gender: 'male'}
	const results6=[];for (const {name, gender} of walker.walk(person)) {
		results6.push(`${name} is ${gender}`)
	};const lStrings =results6
	equal(lStrings, ['John is male'])

	// --- Walk an array
	const results7=[];for (const {name, gender} of walker.walk([
			{name: 'John', gender: 'male'},
			{name: 'Julie', gender: 'female'}
			])) {
		results7.push(`${name} is ${gender}`)
	};const lStrings2 =results7
	equal(lStrings2, ['John is male', 'Julie is female'])

	// --- Walk an object
	const results8=[];for (const node of walker.walk({
			first: {name: 'John', gender: 'male'},
			second: {name: 'Julie', gender: 'female'}
			})) {
		results8.push(`${node.name} is ${node.gender}`)
	};const lStrings3 =results8
	equal(lStrings3, [
		'John is male',
		'Julie is female'
		])

	const h = {
		friends: [
			{name: 'John Bowling', gender: 'male'},
			{name: 'Julie Booker', gender: 'female'}
			],
		name: 'John Deighan',
		gender: 'male',
		address: {
			street: '1749 Main St.',
			city: 'Blacksburg',
			state: 'VA'
			}
		} as const

	const results9=[];for (const node of walker.walk(h)) {
		results9.push(node.name)
	};const lNames =results9
	equal(lNames, ['John Deighan', 'John Bowling', 'Julie Booker'])

	// --- put it in an array
	const h2 = [{
		friends: [
			{name: 'John Bowling', gender: 'male'},
			{name: 'Julie Booker', gender: 'female'}
			],
		name: 'John Deighan',
		gender: 'male',
		address: {
			street: '1749 Main St.',
			city: 'Blacksburg',
			state: 'VA'
			}
		}] as const

	const results10=[];for (const node of walker.walk(h2)) {
		results10.push(node.name)
	};const lNames2 =results10
	equal(lNames2, ['John Deighan', 'John Bowling', 'Julie Booker'])

	// --- put it in a hash
	const h3 = { stuff: {
		friends: [
			{name: 'John Bowling', gender: 'male'},
			{name: 'Julie Booker', gender: 'female'}
			],
		name: 'John Deighan',
		gender: 'male',
		address: {
			street: '1749 Main St.',
			city: 'Blacksburg',
			state: 'VA'
			}
		}} as const

	const results11=[];for (const node of walker.walk(h3)) {
		results11.push(node.name)
	};const lNames3 =results11
	equal(lNames3, ['John Deighan', 'John Bowling', 'Julie Booker'])
}
	)();

// ---------------------------------------------------------------------------

(() => {
	const h = {
		name: 'John D',
		age: 72,
		friends: [
			{
				name: 'John B',
				alias: {name: 'male JB'}
				},
			{
				name: 'Julie',
				aliases: [{name: 'female JB'}]
				},
			{name: 'Aaron'},
			{notname: 'building'}
			],
		enemies: {
			a: {name: 'Donald', kind: 'scumbag'},
			b: {name: 'Satan',  kind: 'devil'},
			c: {notname: 'woods', key: 'nothing'}
			}
		}

	class PersonWalker extends Walker<hash> {
		override isNode(x: object): x is hash {
			return hasKey(x, 'name')
		}
	}

	const walker = new PersonWalker()

	const results12=[];for (const node of walker.walk(h)) {
		results12.push([walker.level, node.name])
	};const lItems =results12

	equal(lItems, [
		[ 0, "John D" ],
		[ 1, "John B" ],
		[ 2, "male JB" ],
		[ 1, "Julie" ],
		[ 2, "female JB" ],
		[ 1, "Aaron" ],
		[ 1, "Donald" ],
		[ 1, "Satan" ]
		])
}
	)()


//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcdGVzdFxcd2Fsa2VyLmxpYi50ZXN0LmNpdmV0LnRzeCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcdGVzdFxcd2Fsa2VyLmxpYi50ZXN0LmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsd0JBQXVCO0FBQ3ZCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXO0FBQ3JDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUztBQUN2QyxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVE7QUFDMUIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFVO0FBQ25DLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUTtBQUM3QixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVc7QUFDL0QsQUFBQTtBQUNBLEFBQUEsQUFBQSxVQUFVLENBQUMsQ0FBQztBQUNaLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLEdBQUcsQ0FBQSxBQUFDLGNBQWMsQyxDQUFBO0FBQ2xCLEFBQUE7QUFDQSxBQUFBLEFBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNOLEFBQUEsQ0FBQyw4QkFBNkI7QUFDOUIsQUFBQTtBQUNBLEFBQUEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FB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QyxDQUFDLENBQUMsTUFBTSxDO0VBQUEsQztDQUFBLENBQUE7QUFDMUIsQUFBQTtBQUNBLEFBQUEsQ0FBTyxNQUFOLE1BQU0sQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBQzdCLEFBQUE7QUFDQSxBQUFBLEMsSyxDLFMsRyxDQUFXLEdBQUcsQ0FBQyxDQUFBLE1BQUEsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUNyQyxBQUFBLEUsUyxNQUFFLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEMsQztDQUFDLEMsQ0FEcEIsTUFBTixNQUFNLENBQUMsQyxTQUNtQjtBQUMzQixBQUFBO0FBQ0EsQUFBQSxDQUFDLEtBQUssQ0FBQSxBQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDaEIsQUFBQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ2xCLEFBQUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNsQixBQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDbkIsQUFBQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQ2pCLEFBQUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztBQUNyQixBQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDakIsQUFBQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ2xCLEFBQUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUM7QUFDaEIsQUFBQSxFQUFFLENBQUMsQztBQUFBLENBQUE7QUFDSCxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ0o7QUFDQSIsIm5hbWVzIjpbXSwic291cmNlc0NvbnRlbnQiOlsiIyB3YWxrZXIubGliLnRlc3QuY2l2ZXRcclxuXHJcbmltcG9ydCB7dW5kZWYsIGhhc2h9IGZyb20gJ2RhdGF0eXBlcydcclxuaW1wb3J0IHtoYXNLZXksIGhhc0tleXN9IGZyb20gJ2xsdXRpbHMnXHJcbmltcG9ydCB7REJHfSBmcm9tICdsb2dnZXInXHJcbmltcG9ydCB7Z2V0Q21kQXJnc30gZnJvbSAnY21kLWFyZ3MnXHJcbmltcG9ydCB7V2Fsa2VyfSBmcm9tICd3YWxrZXInXHJcbmltcG9ydCB7ZXF1YWwsIHRydXRoeSwgZmFsc3ksIGlzVHlwZSwgbm90VHlwZX0gZnJvbSAndW5pdC10ZXN0J1xyXG5cclxuZ2V0Q21kQXJncygpXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuREJHIFwiY2xhc3MgV2Fsa2VyXCJcclxuXHJcbigoKSA9PlxyXG5cdCMgLS0tIFRyeSBhIHZlcnkgc2ltcGxlIGNsYXNzXHJcblxyXG5cdHR5cGUgVEdlbmRlciA9ICdtYWxlJyB8ICdmZW1hbGUnXHJcblxyXG5cdGNsYXNzIFBlcnNvblxyXG5cdFx0bmFtZTogc3RyaW5nXHJcblx0XHRnZW5kZXI6IFRHZW5kZXJcclxuXHRcdGNvbnN0cnVjdG9yKEBuYW1lOiBzdHJpbmcsIEBnZW5kZXI6IFRHZW5kZXIpXHJcblxyXG5cdGNsYXNzIFBlcnNvbldhbGtlciBleHRlbmRzIFdhbGtlcjxQZXJzb24+XHJcblx0XHRvdmVycmlkZSBpc05vZGUgPSAoeDogb2JqZWN0KTogeCBpcyBQZXJzb24gPT5cclxuXHRcdFx0cmV0dXJuIHggaW5zdGFuY2VvZiBQZXJzb25cclxuXHJcblx0d2Fsa2VyIDo9IG5ldyBQZXJzb25XYWxrZXIoKVxyXG5cclxuXHQjIC0tLSBXYWxrIGEgc2luZ2xlIG5vZGVcclxuXHRwZXJzb24gOj0gbmV3IFBlcnNvbignSm9obicsICdtYWxlJylcclxuXHRsU3RyaW5ncyA6PSBmb3Ige25hbWUsIGdlbmRlcn0gb2Ygd2Fsa2VyLndhbGsocGVyc29uKVxyXG5cdFx0XCIje25hbWV9IGlzICN7Z2VuZGVyfVwiXHJcblx0ZXF1YWwgbFN0cmluZ3MsIFsnSm9obiBpcyBtYWxlJ11cclxuXHJcblx0IyAtLS0gV2FsayBhbiBhcnJheVxyXG5cdGxTdHJpbmdzMiA6PSBmb3Ige25hbWUsIGdlbmRlcn0gb2Ygd2Fsa2VyLndhbGsoW1xyXG5cdFx0XHRuZXcgUGVyc29uKCdKb2huJywgJ21hbGUnKVxyXG5cdFx0XHRuZXcgUGVyc29uKCdKdWxpZScsICdmZW1hbGUnKVxyXG5cdFx0XHRdKVxyXG5cdFx0XCIje25hbWV9IGlzICN7Z2VuZGVyfVwiXHJcblx0ZXF1YWwgbFN0cmluZ3MyLCBbJ0pvaG4gaXMgbWFsZScsICdKdWxpZSBpcyBmZW1hbGUnXVxyXG5cclxuXHQjIC0tLSBXYWxrIGFuIG9iamVjdFxyXG5cdGxTdHJpbmdzMyA6PSBmb3Ige25hbWUsIGdlbmRlcn0gb2Ygd2Fsa2VyLndhbGsoe1xyXG5cdFx0XHRmaXJzdDogbmV3IFBlcnNvbignSm9obicsICdtYWxlJylcclxuXHRcdFx0c2Vjb25kOiBuZXcgUGVyc29uKCdKdWxpZScsICdmZW1hbGUnKVxyXG5cdFx0XHR9KVxyXG5cdFx0XCIje25hbWV9IGlzICN7Z2VuZGVyfVwiXHJcblx0ZXF1YWwgbFN0cmluZ3MzLCBbXHJcblx0XHQnSm9obiBpcyBtYWxlJyxcclxuXHRcdCdKdWxpZSBpcyBmZW1hbGUnICAgICAjIFRPRE8gYWRkIGtleSBieSBxdWVyeWluZyBmb3IgcGFyZW50XHJcblx0XHRdXHJcblxyXG5cdGggOj0ge1xyXG5cdFx0ZnJpZW5kczogW1xyXG5cdFx0XHRuZXcgUGVyc29uKCdKb2huIEJvd2xpbmcnLCAnbWFsZScpXHJcblx0XHRcdG5ldyBQZXJzb24oJ0p1bGllIEJvb2tlcicsICdmZW1hbGUnKVxyXG5cdFx0XHRdXHJcblx0XHRuYW1lOiAnSm9obiBEZWlnaGFuJ1xyXG5cdFx0Z2VuZGVyOiAnbWFsZSdcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0c3RyZWV0OiAnMTc0OSBNYWluIFN0LidcclxuXHRcdFx0Y2l0eTogJ0JsYWNrc2J1cmcnXHJcblx0XHRcdHN0YXRlOiAnVkEnXHJcblx0XHRcdH1cclxuXHRcdH0gYXMgY29uc3RcclxuXHJcblx0bE5hbWVzIDo9IGZvciB7bmFtZX0gb2Ygd2Fsa2VyLndhbGsoaClcclxuXHRcdG5hbWVcclxuXHRlcXVhbCBsTmFtZXMsIFsnSm9obiBCb3dsaW5nJywgJ0p1bGllIEJvb2tlciddXHJcblxyXG5cdCMgLS0tIHB1dCBpdCBpbiBhbiBhcnJheVxyXG5cdGFyciA6PSBbe1xyXG5cdFx0ZnJpZW5kczogW1xyXG5cdFx0XHRuZXcgUGVyc29uKCdKb2huIEJvd2xpbmcnLCAnbWFsZScpXHJcblx0XHRcdG5ldyBQZXJzb24oJ0p1bGllIEJvb2tlcicsICdmZW1hbGUnKVxyXG5cdFx0XHRdXHJcblx0XHRuYW1lOiAnSm9obiBEZWlnaGFuJ1xyXG5cdFx0Z2VuZGVyOiAnbWFsZSdcclxuXHRcdGFkZHJlc3M6IHtcclxuXHRcdFx0c3RyZWV0OiAnMTc0OSBNYWluIFN0LidcclxuXHRcdFx0Y2l0eTogJ0JsYWNrc2J1cmcnXHJcblx0XHRcdHN0YXRlOiAnVkEnXHJcblx0XHRcdH1cclxuXHRcdH1dIGFzIGNvbnN0XHJcblxyXG5cdGxOYW1lczIgOj0gZm9yIHtuYW1lfSBvZiB3YWxrZXIud2FsayhhcnIpXHJcblx0XHRuYW1lXHJcblx0ZXF1YWwgbE5hbWVzMiwgWydKb2huIEJvd2xpbmcnLCAnSnVsaWUgQm9va2VyJ11cclxuXHJcblx0IyAtLS0gcHV0IGl0IGluIGEgaGFzaFxyXG5cdGgzIDo9IHsgc3R1ZmY6IHtcclxuXHRcdGZyaWVuZHM6IFtcclxuXHRcdFx0bmV3IFBlcnNvbignSm9obiBCb3dsaW5nJywgJ21hbGUnKVxyXG5cdFx0XHRuZXcgUGVyc29uKCdKdWxpZSBCb29rZXInLCAnZmVtYWxlJylcclxuXHRcdFx0XVxyXG5cdFx0bmFtZTogJ0pvaG4gRGVpZ2hhbidcclxuXHRcdGdlbmRlcjogJ21hbGUnXHJcblx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdHN0cmVldDogJzE3NDkgTWFpbiBTdC4nXHJcblx0XHRcdGNpdHk6ICdCbGFja3NidXJnJ1xyXG5cdFx0XHRzdGF0ZTogJ1ZBJ1xyXG5cdFx0XHR9XHJcblx0XHR9fSBhcyBjb25zdFxyXG5cclxuXHRsTmFtZXMzIDo9IGZvciB7bmFtZX0gb2Ygd2Fsa2VyLndhbGsoaDMpXHJcblx0XHRcIiN7d2Fsa2VyLmxldmVsfSAje25hbWV9XCJcclxuXHRlcXVhbCBsTmFtZXMzLCBbJzAgSm9obiBCb3dsaW5nJywgJzAgSnVsaWUgQm9va2VyJ11cclxuXHQpKClcclxuXHJcbiMgLS0tIE5PVEU6IEluIHRoZSBhYm92ZSwgdGhlIG5vZGVzIG11c3QgYmUgUGVyc29uIG9iamVjdHMsXHJcbiMgICAgICAgICAgIG5vdCBqdXN0IGhhc2hlcyB3aXRoIHRoZSBrZXlzICduYW1lJyBhbmQgJ2dlbmRlcidcclxuIyAtLS0gSG93ZXZlciwgaWYgeW91IGp1c3Qgd2FudCB0byBjaGVjayBmb3IgdGhvc2Uga2V5cyxcclxuIyAgICAgICAgeW91IGNhbiBvdmVycmllZCB0aGUgaXNOb2RlKCkgbWV0aG9kXHJcblxyXG4oKCkgPT5cclxuXHQjIC0tLSBBIG5vZGUgaXMgYSBoYXNoIHdpdGgga2V5cyAnbmFtZScgYW5kICdnZW5kZXInXHJcblxyXG5cdHR5cGUgUGVyc29uID0ge1xyXG5cdFx0bmFtZTogc3RyaW5nXHJcblx0XHRnZW5kZXI6ICdtYWxlJyB8ICdmZW1hbGUnXHJcblx0XHR9XHJcblxyXG5cdGNsYXNzIFBlcnNvbldhbGtlciBleHRlbmRzIFdhbGtlcjxoYXNoPlxyXG5cdFx0b3ZlcnJpZGUgaXNOb2RlID0gKHg6IG9iamVjdCk6IHggaXMgaGFzaCA9PlxyXG5cdFx0XHRyZXR1cm4gaGFzS2V5cyh4LCAnbmFtZScsICdnZW5kZXInKVxyXG5cdHdhbGtlciA6PSBuZXcgUGVyc29uV2Fsa2VyKClcclxuXHJcblx0IyAtLS0gV2FsayBhIHNpbmdsZSBub2RlXHJcblx0cGVyc29uIDo9IHtuYW1lOiAnSm9obicsIGdlbmRlcjogJ21hbGUnfVxyXG5cdGxTdHJpbmdzIDo9IGZvciB7bmFtZSwgZ2VuZGVyfSBvZiB3YWxrZXIud2FsayhwZXJzb24pXHJcblx0XHRcIiN7bmFtZX0gaXMgI3tnZW5kZXJ9XCJcclxuXHRlcXVhbCBsU3RyaW5ncywgWydKb2huIGlzIG1hbGUnXVxyXG5cclxuXHQjIC0tLSBXYWxrIGFuIGFycmF5XHJcblx0bFN0cmluZ3MyIDo9IGZvciB7bmFtZSwgZ2VuZGVyfSBvZiB3YWxrZXIud2FsayhbXHJcblx0XHRcdHtuYW1lOiAnSm9obicsIGdlbmRlcjogJ21hbGUnfVxyXG5cdFx0XHR7bmFtZTogJ0p1bGllJywgZ2VuZGVyOiAnZmVtYWxlJ31cclxuXHRcdFx0XSlcclxuXHRcdFwiI3tuYW1lfSBpcyAje2dlbmRlcn1cIlxyXG5cdGVxdWFsIGxTdHJpbmdzMiwgWydKb2huIGlzIG1hbGUnLCAnSnVsaWUgaXMgZmVtYWxlJ11cclxuXHJcblx0IyAtLS0gV2FsayBhbiBvYmplY3RcclxuXHRsU3RyaW5nczMgOj0gZm9yIG5vZGUgb2Ygd2Fsa2VyLndhbGsoe1xyXG5cdFx0XHRmaXJzdDoge25hbWU6ICdKb2huJywgZ2VuZGVyOiAnbWFsZSd9XHJcblx0XHRcdHNlY29uZDoge25hbWU6ICdKdWxpZScsIGdlbmRlcjogJ2ZlbWFsZSd9XHJcblx0XHRcdH0pXHJcblx0XHRcIiN7bm9kZS5uYW1lfSBpcyAje25vZGUuZ2VuZGVyfVwiXHJcblx0ZXF1YWwgbFN0cmluZ3MzLCBbXHJcblx0XHQnSm9obiBpcyBtYWxlJyxcclxuXHRcdCdKdWxpZSBpcyBmZW1hbGUnXHJcblx0XHRdXHJcblxyXG5cdGggOj0ge1xyXG5cdFx0ZnJpZW5kczogW1xyXG5cdFx0XHR7bmFtZTogJ0pvaG4gQm93bGluZycsIGdlbmRlcjogJ21hbGUnfVxyXG5cdFx0XHR7bmFtZTogJ0p1bGllIEJvb2tlcicsIGdlbmRlcjogJ2ZlbWFsZSd9XHJcblx0XHRcdF1cclxuXHRcdG5hbWU6ICdKb2huIERlaWdoYW4nXHJcblx0XHRnZW5kZXI6ICdtYWxlJ1xyXG5cdFx0YWRkcmVzczoge1xyXG5cdFx0XHRzdHJlZXQ6ICcxNzQ5IE1haW4gU3QuJ1xyXG5cdFx0XHRjaXR5OiAnQmxhY2tzYnVyZydcclxuXHRcdFx0c3RhdGU6ICdWQSdcclxuXHRcdFx0fVxyXG5cdFx0fSBhcyBjb25zdFxyXG5cclxuXHRsTmFtZXMgOj0gZm9yIG5vZGUgb2Ygd2Fsa2VyLndhbGsoaClcclxuXHRcdG5vZGUubmFtZVxyXG5cdGVxdWFsIGxOYW1lcywgWydKb2huIERlaWdoYW4nLCAnSm9obiBCb3dsaW5nJywgJ0p1bGllIEJvb2tlciddXHJcblxyXG5cdCMgLS0tIHB1dCBpdCBpbiBhbiBhcnJheVxyXG5cdGgyIDo9IFt7XHJcblx0XHRmcmllbmRzOiBbXHJcblx0XHRcdHtuYW1lOiAnSm9obiBCb3dsaW5nJywgZ2VuZGVyOiAnbWFsZSd9XHJcblx0XHRcdHtuYW1lOiAnSnVsaWUgQm9va2VyJywgZ2VuZGVyOiAnZmVtYWxlJ31cclxuXHRcdFx0XVxyXG5cdFx0bmFtZTogJ0pvaG4gRGVpZ2hhbidcclxuXHRcdGdlbmRlcjogJ21hbGUnXHJcblx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdHN0cmVldDogJzE3NDkgTWFpbiBTdC4nXHJcblx0XHRcdGNpdHk6ICdCbGFja3NidXJnJ1xyXG5cdFx0XHRzdGF0ZTogJ1ZBJ1xyXG5cdFx0XHR9XHJcblx0XHR9XSBhcyBjb25zdFxyXG5cclxuXHRsTmFtZXMyIDo9IGZvciBub2RlIG9mIHdhbGtlci53YWxrKGgyKVxyXG5cdFx0bm9kZS5uYW1lXHJcblx0ZXF1YWwgbE5hbWVzMiwgWydKb2huIERlaWdoYW4nLCAnSm9obiBCb3dsaW5nJywgJ0p1bGllIEJvb2tlciddXHJcblxyXG5cdCMgLS0tIHB1dCBpdCBpbiBhIGhhc2hcclxuXHRoMyA6PSB7IHN0dWZmOiB7XHJcblx0XHRmcmllbmRzOiBbXHJcblx0XHRcdHtuYW1lOiAnSm9obiBCb3dsaW5nJywgZ2VuZGVyOiAnbWFsZSd9XHJcblx0XHRcdHtuYW1lOiAnSnVsaWUgQm9va2VyJywgZ2VuZGVyOiAnZmVtYWxlJ31cclxuXHRcdFx0XVxyXG5cdFx0bmFtZTogJ0pvaG4gRGVpZ2hhbidcclxuXHRcdGdlbmRlcjogJ21hbGUnXHJcblx0XHRhZGRyZXNzOiB7XHJcblx0XHRcdHN0cmVldDogJzE3NDkgTWFpbiBTdC4nXHJcblx0XHRcdGNpdHk6ICdCbGFja3NidXJnJ1xyXG5cdFx0XHRzdGF0ZTogJ1ZBJ1xyXG5cdFx0XHR9XHJcblx0XHR9fSBhcyBjb25zdFxyXG5cclxuXHRsTmFtZXMzIDo9IGZvciBub2RlIG9mIHdhbGtlci53YWxrKGgzKVxyXG5cdFx0bm9kZS5uYW1lXHJcblx0ZXF1YWwgbE5hbWVzMywgWydKb2huIERlaWdoYW4nLCAnSm9obiBCb3dsaW5nJywgJ0p1bGllIEJvb2tlciddXHJcblx0KSgpXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuKCgpID0+XHJcblx0aCA6PSB7XHJcblx0XHRuYW1lOiAnSm9obiBEJ1xyXG5cdFx0YWdlOiA3MlxyXG5cdFx0ZnJpZW5kczogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ0pvaG4gQicsXHJcblx0XHRcdFx0YWxpYXM6IHtuYW1lOiAnbWFsZSBKQid9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0bmFtZTogJ0p1bGllJyxcclxuXHRcdFx0XHRhbGlhc2VzOiBbe25hbWU6ICdmZW1hbGUgSkInfV1cclxuXHRcdFx0XHR9XHJcblx0XHRcdHtuYW1lOiAnQWFyb24nfVxyXG5cdFx0XHR7bm90bmFtZTogJ2J1aWxkaW5nJ31cclxuXHRcdFx0XVxyXG5cdFx0ZW5lbWllczoge1xyXG5cdFx0XHRhOiB7bmFtZTogJ0RvbmFsZCcsIGtpbmQ6ICdzY3VtYmFnJ31cclxuXHRcdFx0Yjoge25hbWU6ICdTYXRhbicsICBraW5kOiAnZGV2aWwnfVxyXG5cdFx0XHRjOiB7bm90bmFtZTogJ3dvb2RzJywga2V5OiAnbm90aGluZyd9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0Y2xhc3MgUGVyc29uV2Fsa2VyIGV4dGVuZHMgV2Fsa2VyPGhhc2g+XHJcblx0XHRvdmVycmlkZSBpc05vZGUoeDogb2JqZWN0KTogeCBpcyBoYXNoXHJcblx0XHRcdHJldHVybiBoYXNLZXkgeCwgJ25hbWUnXHJcblxyXG5cdHdhbGtlciA6PSBuZXcgUGVyc29uV2Fsa2VyKClcclxuXHJcblx0bEl0ZW1zIDo9IGZvciBub2RlIG9mIHdhbGtlci53YWxrKGgpXHJcblx0XHRbd2Fsa2VyLmxldmVsLCBub2RlLm5hbWVdXHJcblxyXG5cdGVxdWFsIGxJdGVtcywgW1xyXG5cdFx0WyAwLCBcIkpvaG4gRFwiIF0sXHJcblx0XHRbIDEsIFwiSm9obiBCXCIgXSxcclxuXHRcdFsgMiwgXCJtYWxlIEpCXCIgXSxcclxuXHRcdFsgMSwgXCJKdWxpZVwiIF0sXHJcblx0XHRbIDIsIFwiZmVtYWxlIEpCXCIgXSxcclxuXHRcdFsgMSwgXCJBYXJvblwiIF0sXHJcblx0XHRbIDEsIFwiRG9uYWxkXCIgXSxcclxuXHRcdFsgMSwgXCJTYXRhblwiIF1cclxuXHRcdF1cclxuXHQpKClcclxuXHJcbiJdfQ==