"use strict";
// logger.lib.test.civet

import {stripAnsiCode} from "@std/fmt/colors"

import {
	undef, defined, notdefined,
	} from 'datatypes'
import {
	clearConsoleLog, getConsoleLog,
	} from 'log-formatter'
import {
	TLogLevel, getLogLevel, isLogLevel,
	setLogLevel, pushLogLevel, popLogLevel,
	TFormatter, TreeLogger,
	getLog, clearLog, removeLogFile, INDENT, UNDENT,
	DBG, LOG, WARN, ERR, DBGVALUE, LOGVALUE,
	} from 'logger'
import {
	equal, truthy, falsy, succeeds, fails, matches,
	isType, notType,
	} from 'unit-test'

// ---------------------------------------------------------------------------

DBG("getLog()")

equal(getLog('console'), "");

(() => {
	DBG("debug this")
	LOG("log this")
	WARN("warn this")
	ERR("error this")
	equal(stripAnsiCode(getConsoleLog()), `log this
warn this
error this`)
}
	)()

DBG("clearLog()")

DBG("const INDENT", "const UNDENT")

DBG("DBG()", "LOG()", "WARN()", "ERR()")

DBG("DBGVALUE()", "LOGVALUE()")

DBG("removeLogFile()")

succeeds(() => removeLogFile())

DBG("type TreeLogger");

(() => {
	clearConsoleLog()
	pushLogLevel('debug')
	const logr = new TreeLogger<number>()
	logr.log(    'starting')
	logr.start(  'enter A')
	logr.log(    'inside A')
	logr.succeed('OK')
	logr.log(    'continuing')
	logr.start(  'enter B')
	logr.log(    'inside B')
	logr.fail(   'FAIL')
	logr.log(    'Done')
	popLogLevel()
	equal(getConsoleLog(), `starting
enter A
│   inside A
└─> OK
continuing
enter B
│   inside B
└─> FAIL
Done`)
}
	)();

(() => {
	clearConsoleLog()
	pushLogLevel('debug')
	const logr = new TreeLogger<number>()
	logr.log(    'starting')
	logr.start(  'enter A')
	logr.log(    'inside A')
	logr.start(  'enter B')
	logr.log(    'inside B')
	logr.fail(   'FAIL')
	logr.succeed('OK')
	logr.log(    'Done')
	popLogLevel()
	equal(getConsoleLog(), `starting
enter A
│   inside A
│   enter B
│   │   inside B
│   └─> FAIL
└─> OK
Done`)
}
	)();

(() => {
	const formatter = (desc: string, n: (number | undefined)) => {
		if (defined(n)) {
			return `${desc} [Number ${n}]`
		}
		else {
			return desc
		}
	}

	clearConsoleLog()
	pushLogLevel('debug')
	const logr = new TreeLogger<number>(formatter)
	logr.log(    'starting', 42)
	logr.start(  'enter A')
	logr.log(    'inside A', 13)
	logr.start(  'enter B')
	logr.log(    'inside B', 26)
	logr.fail(   'FAIL')
	logr.succeed('OK')
	logr.log(    'Done')
	popLogLevel()
	equal(getConsoleLog(), `starting [Number 42]
enter A
│   inside A [Number 13]
│   enter B
│   │   inside B [Number 26]
│   └─> FAIL
└─> OK
Done`)
}
	)()

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcdGVzdFxcbG9nZ2VyLmxpYi50ZXN0LmNpdmV0LnRzeCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcdGVzdFxcbG9nZ2VyLmxpYi50ZXN0LmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsd0JBQXVCO0FBQ3ZCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUI7QUFDN0MsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDO0FBQzVCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXO0FBQ25CLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsZUFBZSxDQUFDLENBQUMsYUFBYSxDQUFDO0FBQ2hDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlO0FBQ3ZCLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsVUFBVSxDQUFDO0FBQ3BDLENBQUMsV0FBVyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQ3hDLENBQUMsVUFBVSxDQUFDLENBQUMsVUFBVSxDQUFDO0FBQ3hCLENBQUMsTUFBTSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ2pELENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQ3pDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRO0FBQ2hCLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMs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QUFBLElBQUssTUFBTSxDQUFBO0FBQ3BCLEFBQUEsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNkLEFBQUEsQ0FBQyxLQUFLLENBQUEsQUFBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBRUUsQ0FBRyxDO0FBQUEsQ0FBQTtBQUNMLENBQUMsQ0FBQyxDQUFDLEMsQ0FBQztBQUNKLEFBQUE7QUFDQSxBQUFBLEFBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNOLEFBQUEsQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUNsQixBQUFBLENBQUMsWUFBWSxDQUFBLEFBQUMsT0FBTyxDQUFBO0FBQ3JCLEFBQUEsQ0FBSyxNQUFKLElBQUksQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ2pDLEFBQUEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFBLElBQUssVUFBVSxDQUFBO0FBQ3hCLEFBQUEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFBLEVBQUcsU0FBUyxDQUFBO0FBQ3ZCLEFBQUEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFBLElBQUssVUFBVSxDQUFBO0FBQ3hCLEFBQUEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFBLEVBQUcsU0FBUyxDQUFBO0FBQ3ZCLEFBQUEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFBLElBQUssVUFBVSxDQUFBO0FBQ3hCLEFBQUEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFBLEdBQUksTUFBTSxDQUFBO0FBQ3BCLEFBQUEsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFBLEFBQUMsSUFBSSxDQUFBO0FBQ2xCLEFBQUEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFBLElBQUssTUFBTSxDQUFBO0FBQ3BCLEFBQUEsQ0FBQyxXQUFXLENBQUMsQ0FBQztBQUNkLEFBQUEsQ0FBQyxLQUFLLENBQUEsQUFBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRztBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUVFLENBQUcsQztBQUFBLENBQUE7QUFDTCxDQUFDLENBQUMsQ0FBQyxDLENBQUM7QUFDSixBQUFBO0FBQ0EsQUFBQSxBQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDTixBQUFBLENBQVUsTUFBVCxTQUFTLENBQUMsQ0FBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDLEMsQ0FBQyxBQUFDLE0sWSxDQUFPLENBQUMsQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUMzQyxBQUFBLEVBQUUsR0FBRyxDQUFBLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDZixBQUFBLEdBQUcsTUFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxDQUFDLEM7RUFBQyxDQUFBO0FBQ2pDLEFBQUEsRUFBRSxJQUFJLENBQUEsQ0FBQTtBQUNOLEFBQUEsR0FBRyxNQUFNLENBQUMsSTtFQUFJLEM7Q0FBQSxDQUFBO0FBQ2QsQUFBQTtBQUNBLEFBQUEsQ0FBQyxlQUFlLENBQUMsQ0FBQztBQUNsQixBQUFBLENBQUMsWUFBWSxDQUFBLEFBQUMsT0FBTyxDQUFBO0FBQ3JCLEFBQUEsQ0FBSyxNQUFKLElBQUksQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDMUMsQUFBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUEsSUFBSyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUE7QUFDNUIsQUFBQSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUEsRUFBRyxTQUFTLENBQUE7QUFDdkIsQUFBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUEsSUFBSyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUE7QUFDNUIsQUFBQSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUEsRUFBRyxTQUFTLENBQUE7QUFDdkIsQUFBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUEsSUFBSyxVQUFVLENBQUMsQ0FBQyxFQUFFLENBQUE7QUFDNUIsQUFBQSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUEsR0FBSSxNQUFNLENBQUE7QUFDcEIsQUFBQSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUEsQUFBQyxJQUFJLENBQUE7QUFDbEIsQUFBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUEsSUFBSyxNQUFNLENBQUE7QUFDcEIsQUFBQSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBQ2QsQUFBQSxDQUFDLEtBQUssQ0FBQSxBQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFHO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBRUUsQ0FBRyxDO0FBQUEsQ0FBQTtBQUNMLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDSiIsIm5hbWVzIjpbXSwic291cmNlc0NvbnRlbnQiOlsiIyBsb2dnZXIubGliLnRlc3QuY2l2ZXRcclxuXHJcbmltcG9ydCB7c3RyaXBBbnNpQ29kZX0gZnJvbSBcIkBzdGQvZm10L2NvbG9yc1wiXHJcblxyXG5pbXBvcnQge1xyXG5cdHVuZGVmLCBkZWZpbmVkLCBub3RkZWZpbmVkLFxyXG5cdH0gZnJvbSAnZGF0YXR5cGVzJ1xyXG5pbXBvcnQge1xyXG5cdGNsZWFyQ29uc29sZUxvZywgZ2V0Q29uc29sZUxvZyxcclxuXHR9IGZyb20gJ2xvZy1mb3JtYXR0ZXInXHJcbmltcG9ydCB7XHJcblx0VExvZ0xldmVsLCBnZXRMb2dMZXZlbCwgaXNMb2dMZXZlbCxcclxuXHRzZXRMb2dMZXZlbCwgcHVzaExvZ0xldmVsLCBwb3BMb2dMZXZlbCxcclxuXHRURm9ybWF0dGVyLCBUcmVlTG9nZ2VyLFxyXG5cdGdldExvZywgY2xlYXJMb2csIHJlbW92ZUxvZ0ZpbGUsIElOREVOVCwgVU5ERU5ULFxyXG5cdERCRywgTE9HLCBXQVJOLCBFUlIsIERCR1ZBTFVFLCBMT0dWQUxVRSxcclxuXHR9IGZyb20gJ2xvZ2dlcidcclxuaW1wb3J0IHtcclxuXHRlcXVhbCwgdHJ1dGh5LCBmYWxzeSwgc3VjY2VlZHMsIGZhaWxzLCBtYXRjaGVzLFxyXG5cdGlzVHlwZSwgbm90VHlwZSxcclxuXHR9IGZyb20gJ3VuaXQtdGVzdCdcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5EQkcgXCJnZXRMb2coKVwiXHJcblxyXG5lcXVhbCBnZXRMb2coJ2NvbnNvbGUnKSwgXCJcIlxyXG5cclxuKCgpID0+XHJcblx0REJHIFwiZGVidWcgdGhpc1wiXHJcblx0TE9HIFwibG9nIHRoaXNcIlxyXG5cdFdBUk4gXCJ3YXJuIHRoaXNcIlxyXG5cdEVSUiBcImVycm9yIHRoaXNcIlxyXG5cdGVxdWFsIHN0cmlwQW5zaUNvZGUoZ2V0Q29uc29sZUxvZygpKSwgXCJcIlwiXHJcblx0XHRsb2cgdGhpc1xyXG5cdFx0d2FybiB0aGlzXHJcblx0XHRlcnJvciB0aGlzXHJcblx0XHRcIlwiXCJcclxuXHQpKClcclxuXHJcbkRCRyBcImNsZWFyTG9nKClcIlxyXG5cclxuREJHIFwiY29uc3QgSU5ERU5UXCIsIFwiY29uc3QgVU5ERU5UXCJcclxuXHJcbkRCRyBcIkRCRygpXCIsIFwiTE9HKClcIiwgXCJXQVJOKClcIiwgXCJFUlIoKVwiXHJcblxyXG5EQkcgXCJEQkdWQUxVRSgpXCIsIFwiTE9HVkFMVUUoKVwiXHJcblxyXG5EQkcgXCJyZW1vdmVMb2dGaWxlKClcIlxyXG5cclxuc3VjY2VlZHMgKCkgPT4gcmVtb3ZlTG9nRmlsZSgpXHJcblxyXG5EQkcgXCJ0eXBlIFRyZWVMb2dnZXJcIlxyXG5cclxuKCgpID0+XHJcblx0Y2xlYXJDb25zb2xlTG9nKClcclxuXHRwdXNoTG9nTGV2ZWwgJ2RlYnVnJ1xyXG5cdGxvZ3IgOj0gbmV3IFRyZWVMb2dnZXI8bnVtYmVyPigpXHJcblx0bG9nci5sb2cgICAgICdzdGFydGluZydcclxuXHRsb2dyLnN0YXJ0ICAgJ2VudGVyIEEnXHJcblx0bG9nci5sb2cgICAgICdpbnNpZGUgQSdcclxuXHRsb2dyLnN1Y2NlZWQgJ09LJ1xyXG5cdGxvZ3IubG9nICAgICAnY29udGludWluZydcclxuXHRsb2dyLnN0YXJ0ICAgJ2VudGVyIEInXHJcblx0bG9nci5sb2cgICAgICdpbnNpZGUgQidcclxuXHRsb2dyLmZhaWwgICAgJ0ZBSUwnXHJcblx0bG9nci5sb2cgICAgICdEb25lJ1xyXG5cdHBvcExvZ0xldmVsKClcclxuXHRlcXVhbCBnZXRDb25zb2xlTG9nKCksIFwiXCJcIlxyXG5cdFx0c3RhcnRpbmdcclxuXHRcdGVudGVyIEFcclxuXHRcdOKUgiAgIGluc2lkZSBBXHJcblx0XHTilJTilIA+IE9LXHJcblx0XHRjb250aW51aW5nXHJcblx0XHRlbnRlciBCXHJcblx0XHTilIIgICBpbnNpZGUgQlxyXG5cdFx04pSU4pSAPiBGQUlMXHJcblx0XHREb25lXHJcblx0XHRcIlwiXCJcclxuXHQpKClcclxuXHJcbigoKSA9PlxyXG5cdGNsZWFyQ29uc29sZUxvZygpXHJcblx0cHVzaExvZ0xldmVsICdkZWJ1ZydcclxuXHRsb2dyIDo9IG5ldyBUcmVlTG9nZ2VyPG51bWJlcj4oKVxyXG5cdGxvZ3IubG9nICAgICAnc3RhcnRpbmcnXHJcblx0bG9nci5zdGFydCAgICdlbnRlciBBJ1xyXG5cdGxvZ3IubG9nICAgICAnaW5zaWRlIEEnXHJcblx0bG9nci5zdGFydCAgICdlbnRlciBCJ1xyXG5cdGxvZ3IubG9nICAgICAnaW5zaWRlIEInXHJcblx0bG9nci5mYWlsICAgICdGQUlMJ1xyXG5cdGxvZ3Iuc3VjY2VlZCAnT0snXHJcblx0bG9nci5sb2cgICAgICdEb25lJ1xyXG5cdHBvcExvZ0xldmVsKClcclxuXHRlcXVhbCBnZXRDb25zb2xlTG9nKCksIFwiXCJcIlxyXG5cdFx0c3RhcnRpbmdcclxuXHRcdGVudGVyIEFcclxuXHRcdOKUgiAgIGluc2lkZSBBXHJcblx0XHTilIIgICBlbnRlciBCXHJcblx0XHTilIIgICDilIIgICBpbnNpZGUgQlxyXG5cdFx04pSCICAg4pSU4pSAPiBGQUlMXHJcblx0XHTilJTilIA+IE9LXHJcblx0XHREb25lXHJcblx0XHRcIlwiXCJcclxuXHQpKClcclxuXHJcbigoKSA9PlxyXG5cdGZvcm1hdHRlciA6PSAoZGVzYzogc3RyaW5nLCBuOiBudW1iZXI/KSA9PlxyXG5cdFx0aWYgZGVmaW5lZChuKVxyXG5cdFx0XHRyZXR1cm4gXCIje2Rlc2N9IFtOdW1iZXIgI3tufV1cIlxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gZGVzY1xyXG5cclxuXHRjbGVhckNvbnNvbGVMb2coKVxyXG5cdHB1c2hMb2dMZXZlbCAnZGVidWcnXHJcblx0bG9nciA6PSBuZXcgVHJlZUxvZ2dlcjxudW1iZXI+KGZvcm1hdHRlcilcclxuXHRsb2dyLmxvZyAgICAgJ3N0YXJ0aW5nJywgNDJcclxuXHRsb2dyLnN0YXJ0ICAgJ2VudGVyIEEnXHJcblx0bG9nci5sb2cgICAgICdpbnNpZGUgQScsIDEzXHJcblx0bG9nci5zdGFydCAgICdlbnRlciBCJ1xyXG5cdGxvZ3IubG9nICAgICAnaW5zaWRlIEInLCAyNlxyXG5cdGxvZ3IuZmFpbCAgICAnRkFJTCdcclxuXHRsb2dyLnN1Y2NlZWQgJ09LJ1xyXG5cdGxvZ3IubG9nICAgICAnRG9uZSdcclxuXHRwb3BMb2dMZXZlbCgpXHJcblx0ZXF1YWwgZ2V0Q29uc29sZUxvZygpLCBcIlwiXCJcclxuXHRcdHN0YXJ0aW5nIFtOdW1iZXIgNDJdXHJcblx0XHRlbnRlciBBXHJcblx0XHTilIIgICBpbnNpZGUgQSBbTnVtYmVyIDEzXVxyXG5cdFx04pSCICAgZW50ZXIgQlxyXG5cdFx04pSCICAg4pSCICAgaW5zaWRlIEIgW051bWJlciAyNl1cclxuXHRcdOKUgiAgIOKUlOKUgD4gRkFJTFxyXG5cdFx04pSU4pSAPiBPS1xyXG5cdFx0RG9uZVxyXG5cdFx0XCJcIlwiXHJcblx0KSgpXHJcbiJdfQ==