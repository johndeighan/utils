"use strict";
// buildlib.cmd.civet

import {
	nonOption, FAIL, lAllLibs, tryCmd, civet2tsFile, flag,
	doUnitTest,
	} from 'base-utils'

const stub = nonOption(0) || FAIL("USAGE: buildlib <stub> [-n]")

// ---------------------------------------------------------------------------

if (stub === 'all') {
	for (const s of lAllLibs) {
		await tryCmd(civet2tsFile, s, 'lib')
	}
	if (!flag('n')) {
		for (const s of lAllLibs) {
			await tryCmd(doUnitTest, s, 'lib')
		}
	}
}
else {
	await tryCmd(civet2tsFile, stub, 'lib')
	if (!flag('n')) {
		await tryCmd(doUnitTest, stub, 'lib')
	}
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjL2NtZC9idWlsZGxpYi5jbWQuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJzcmMvY21kL2J1aWxkbGliLmNtZC5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLHFCQUFvQjtBQUNwQixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQ3ZELENBQUMsVUFBVSxDQUFDO0FBQ1osQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVk7QUFDcEIsQUFBQTtBQUNBLEFBQUEsQUFBSSxNQUFKLElBQUksQ0FBQyxDQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsNkJBQTZCLENBQUM7QUFDM0QsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLEFBQUEsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFFLENBQUMsS0FBSyxDQUFDLENBQUEsQ0FBQTtBQUNsQixBQUFBLENBQUMsR0FBRyxDQUFDLENBQUEsTUFBQSxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQSxDQUFBLENBQUE7QUFDbEIsQUFBQSxFQUFFLEtBQUssQ0FBQyxNQUFNLENBQUEsQUFBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEM7Q0FBQSxDQUFBO0FBQ3JDLEFBQUEsQ0FBQyxHQUFHLENBQUEsQ0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ2pCLEFBQUEsRUFBRSxHQUFHLENBQUMsQ0FBQSxNQUFBLENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFBLENBQUEsQ0FBQTtBQUNuQixBQUFBLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQSxBQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQztFQUFBLEM7Q0FBQSxDO0FBQUEsQ0FBQTtBQUNwQyxBQUFBLEFBQUEsSUFBSSxDQUFBLENBQUE7QUFDSixBQUFBLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQSxBQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQTtBQUN2QyxBQUFBLENBQUMsR0FBRyxDQUFBLENBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUNqQixBQUFBLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQSxBQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQztDQUFBLEM7QUFBQSxDQUFBO0FBQ3RDIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIGJ1aWxkbGliLmNtZC5jaXZldFxyXG5cclxuaW1wb3J0IHtcclxuXHRub25PcHRpb24sIEZBSUwsIGxBbGxMaWJzLCB0cnlDbWQsIGNpdmV0MnRzRmlsZSwgZmxhZyxcclxuXHRkb1VuaXRUZXN0LFxyXG5cdH0gZnJvbSAnYmFzZS11dGlscydcclxuXHJcbnN0dWIgOj0gbm9uT3B0aW9uKDApIHx8IEZBSUwoXCJVU0FHRTogYnVpbGRsaWIgPHN0dWI+IFstbl1cIilcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5pZiAoc3R1YiA9PSAnYWxsJylcclxuXHRmb3IgcyBvZiBsQWxsTGlic1xyXG5cdFx0YXdhaXQgdHJ5Q21kIGNpdmV0MnRzRmlsZSwgcywgJ2xpYidcclxuXHRpZiBub3QgZmxhZygnbicpXHJcblx0XHRmb3IgcyBvZiBsQWxsTGlic1xyXG5cdFx0XHRhd2FpdCB0cnlDbWQgZG9Vbml0VGVzdCwgcywgJ2xpYidcclxuZWxzZVxyXG5cdGF3YWl0IHRyeUNtZCBjaXZldDJ0c0ZpbGUsIHN0dWIsICdsaWInXHJcblx0aWYgbm90IGZsYWcoJ24nKVxyXG5cdFx0YXdhaXQgdHJ5Q21kIGRvVW5pdFRlc3QsIHN0dWIsICdsaWInXHJcbiJdfQ==