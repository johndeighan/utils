"use strict";
// compile.cmd.civet

import {
	undef, defined, notdefined, pass, OL, assert, croak,
	getCmdArgs, watchFiles, allFilesMatching,
	DBG, LOG, WARN, ERR,
	getCompilerGlobPattern, compileFile, TCompileResult,
	} from '../lib/utils.lib.ts'

const {_, w: watch} = getCmdArgs({
	_: `files to compile, as one of the following:
	'<stub>.lib'  - file <stub>.lib.<ext>
	'<stub>.cmd'  - file <stub>.cmd.<ext>
	'<stub>.lib.test'  - file <stub>.lib.test.<ext>
	'<stub>.cmd.test'  - file <stub>.cmd.test.<ext>
	- a full or relative file path
where <ext> is a valid extension to compile`,
	w:    "watch for and recompile files if they change"
	})

let numCompiled = 0

// ---------------------------------------------------------------------------

const logResult = (hResult: TCompileResult): void => {

	const {path, status} = hResult
	switch(status) {
		case 'compiled': {
			LOG(`COMPILED: ${OL(path)}`)
			numCompiled += 1;break;
		}
		case 'exists': {
			pass();break;
		}
		default: {
			ERR(`NOT COMPILED: ${OL(path)}`)
		}
	}
	return
}

// ---------------------------------------------------------------------------

if (_.length === 0) {
	const pattern = getCompilerGlobPattern()
	DBG("=====  Compiling all files  =====")
	DBG(`   pattern = ${OL(pattern)}`)
	for (const {path} of allFilesMatching(pattern)) {
		const hResult = compileFile(path)
		logResult(hResult)
	}
}

else {
	// --- Files can be specified as:
	//        - <stub>.(lib|cmd)
	//        - <stub>.(lib|cmd).test
	//        - a full or relative path
	//     Multiple files can be comma-separated

	for (const item of _) {const str: string = item;
		DBG(`non-option: ${OL(str)}`)
		for (const item1 of str.split(',')) {const str: string = item1;
			let ref;let ref1;if ((ref = str.match(/^([A-Za-z0-9_-]+)\.(lib|cmd)$/))) {const lMatches = ref;
				const [_, stub, purpose] = lMatches
				const pat = `**/${stub}.${purpose}.*`
				for (const {path} of allFilesMatching(pat)) {
					DBG(`compile file ${OL(path)}`)
					logResult(compileFile(path))
				}
			}
			else if ((ref1 = str.match(/^([A-Za-z0-9_-]+)\.(lib|cmd)\.test$/))) {const lMatches = ref1;
				const [_, stub, purpose] = lMatches
				const pat = `**/${stub}.${purpose}.test.*`
				for (const {path} of allFilesMatching(pat)) {
					DBG(`compile file ${OL(path)}`)
					logResult(compileFile(path))
				}
			}
			else {
				DBG(`compile file ${OL(str)}`)
				logResult(compileFile(str))
			}
		}
	}
}

LOG(`(${numCompiled} files compiled)`)

if (watch) {
	watchFiles(Deno.cwd(), ({kind, path}) => {
		console.log(`EVENT: ${kind} ${path}`)
		return false
	})
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjL2NtZC9jb21waWxlLmNtZC5jaXZldC50c3giLCJzb3VyY2VzIjpbInNyYy9jbWQvY29tcGlsZS5jbWQuY2l2ZXQiXSwibWFwcGluZ3MiOiI7QUFBQSxvQkFBbUI7QUFDbkIsQUFBQTtBQUNBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUNyRCxDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLGdCQUFnQixDQUFDO0FBQzFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQ3JCLENBQUMsc0JBQXNCLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxjQUFjLENBQUM7QUFDckQsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLHFCQUFxQjtBQUM3QixBQUFBO0FBQ0EsQUFBQSxBQUFhLE1BQWIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFFLENBQUMsVUFBVSxDQUFBLEFBQUMsQ0FBQztBQUM3QixBQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FFRSxDQUFHLENBQUE7QUFDTCxBQUFBLENBQUMsQ0FBQyxDQUFDLElBQUksOENBQThDO0FBQ3JELENBQUMsQ0FBQyxDQUFBO0FBQ0YsQUFBQTtBQUNBLEFBQUEsQUFBQSxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ25CLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFTLE1BQVQsU0FBUyxDQUFDLENBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENB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RyxDQUFBLEFBQUMsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNuQyxBQUFBLEtBQUssU0FBUyxDQUFBLEFBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxDO0lBQUEsQztHQUFBLENBQUE7QUFDaEMsQUFBQSxHQUFHLElBQUksQ0FBQSxDQUFBO0FBQ1AsQUFBQSxJQUFJLEdBQUcsQ0FBQSxBQUFDLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDakMsQUFBQSxJQUFJLFNBQVMsQ0FBQSxBQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQztHQUFBLEM7RUFBQSxDO0NBQUEsQztBQUFBLENBQUE7QUFDOUIsQUFBQTtBQUNBLEFBQUEsQUFBQSxHQUFHLENBQUEsQUFBQyxDQUFDLENBQUMsRUFBRSxXQUFXLENBQUMsZ0JBQWdCLENBQUMsQ0FBQTtBQUNyQyxBQUFBO0FBQ0EsQUFBQSxBQUFBLEdBQUcsQ0FBQSxLQUFLLENBQUEsQ0FBQSxDQUFBO0FBQ1IsQUFBQSxDQUFDLFVBQVUsQ0FBQSxBQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDekMsQUFBQSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUEsQUFBQyxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUE7QUFDdEMsQUFBQSxFQUFFLE1BQU0sQ0FBQyxLO0NBQUssQ0FBQSxDO0FBQUEsQ0FBQTtBQUNkIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIGNvbXBpbGUuY21kLmNpdmV0XG5cbmltcG9ydCB7XG5cdHVuZGVmLCBkZWZpbmVkLCBub3RkZWZpbmVkLCBwYXNzLCBPTCwgYXNzZXJ0LCBjcm9hayxcblx0Z2V0Q21kQXJncywgd2F0Y2hGaWxlcywgYWxsRmlsZXNNYXRjaGluZyxcblx0REJHLCBMT0csIFdBUk4sIEVSUixcblx0Z2V0Q29tcGlsZXJHbG9iUGF0dGVybiwgY29tcGlsZUZpbGUsIFRDb21waWxlUmVzdWx0LFxuXHR9IGZyb20gJy4uL2xpYi91dGlscy5saWIudHMnXG5cbntfLCB3OiB3YXRjaH0gOj0gZ2V0Q21kQXJncyB7XG5cdF86IFwiXCJcIlxuXHRcdGZpbGVzIHRvIGNvbXBpbGUsIGFzIG9uZSBvZiB0aGUgZm9sbG93aW5nOlxuXHRcdFx0JzxzdHViPi5saWInICAtIGZpbGUgPHN0dWI+LmxpYi48ZXh0PlxuXHRcdFx0JzxzdHViPi5jbWQnICAtIGZpbGUgPHN0dWI+LmNtZC48ZXh0PlxuXHRcdFx0JzxzdHViPi5saWIudGVzdCcgIC0gZmlsZSA8c3R1Yj4ubGliLnRlc3QuPGV4dD5cblx0XHRcdCc8c3R1Yj4uY21kLnRlc3QnICAtIGZpbGUgPHN0dWI+LmNtZC50ZXN0LjxleHQ+XG5cdFx0XHQtIGEgZnVsbCBvciByZWxhdGl2ZSBmaWxlIHBhdGhcblx0XHR3aGVyZSA8ZXh0PiBpcyBhIHZhbGlkIGV4dGVuc2lvbiB0byBjb21waWxlXG5cdFx0XCJcIlwiXG5cdHc6ICAgIFwid2F0Y2ggZm9yIGFuZCByZWNvbXBpbGUgZmlsZXMgaWYgdGhleSBjaGFuZ2VcIlxuXHR9XG5cbmxldCBudW1Db21waWxlZCA9IDBcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxubG9nUmVzdWx0IDo9IChoUmVzdWx0OiBUQ29tcGlsZVJlc3VsdCk6IHZvaWQgPT5cblxuXHR7cGF0aCwgc3RhdHVzfSA6PSBoUmVzdWx0XG5cdHN3aXRjaCBzdGF0dXNcblx0XHR3aGVuICdjb21waWxlZCdcblx0XHRcdExPRyBcIkNPTVBJTEVEOiAje09MKHBhdGgpfVwiXG5cdFx0XHRudW1Db21waWxlZCArPSAxXG5cdFx0d2hlbiAnZXhpc3RzJ1xuXHRcdFx0cGFzcygpXG5cdFx0ZWxzZVxuXHRcdFx0RVJSIFwiTk9UIENPTVBJTEVEOiAje09MKHBhdGgpfVwiXG5cdHJldHVyblxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5pZiAoXy5sZW5ndGggPT0gMClcblx0cGF0dGVybiA6PSBnZXRDb21waWxlckdsb2JQYXR0ZXJuKClcblx0REJHIFwiPT09PT0gIENvbXBpbGluZyBhbGwgZmlsZXMgID09PT09XCJcblx0REJHIFwiICAgcGF0dGVybiA9ICN7T0wocGF0dGVybil9XCJcblx0Zm9yIHtwYXRofSBvZiBhbGxGaWxlc01hdGNoaW5nKHBhdHRlcm4pXG5cdFx0aFJlc3VsdCA6PSBjb21waWxlRmlsZSBwYXRoXG5cdFx0bG9nUmVzdWx0IGhSZXN1bHRcblxuZWxzZVxuXHQjIC0tLSBGaWxlcyBjYW4gYmUgc3BlY2lmaWVkIGFzOlxuXHQjICAgICAgICAtIDxzdHViPi4obGlifGNtZClcblx0IyAgICAgICAgLSA8c3R1Yj4uKGxpYnxjbWQpLnRlc3Rcblx0IyAgICAgICAgLSBhIGZ1bGwgb3IgcmVsYXRpdmUgcGF0aFxuXHQjICAgICBNdWx0aXBsZSBmaWxlcyBjYW4gYmUgY29tbWEtc2VwYXJhdGVkXG5cblx0Zm9yIHN0cjogc3RyaW5nIG9mIF9cblx0XHREQkcgXCJub24tb3B0aW9uOiAje09MKHN0cil9XCJcblx0XHRmb3Igc3RyOiBzdHJpbmcgb2Ygc3RyLnNwbGl0KCcsJylcblx0XHRcdGlmIGxNYXRjaGVzIDo9IHN0ci5tYXRjaCgvLy9eXG5cdFx0XHRcdFx0KFtBLVphLXowLTlfLV0rKVxuXHRcdFx0XHRcdFxcLlxuXHRcdFx0XHRcdChsaWJ8Y21kKVxuXHRcdFx0XHRcdCQvLy8pXG5cdFx0XHRcdFtfLCBzdHViLCBwdXJwb3NlXSA6PSBsTWF0Y2hlc1xuXHRcdFx0XHRwYXQgOj0gXCIqKi8je3N0dWJ9LiN7cHVycG9zZX0uKlwiXG5cdFx0XHRcdGZvciB7cGF0aH0gb2YgYWxsRmlsZXNNYXRjaGluZyhwYXQpXG5cdFx0XHRcdFx0REJHIFwiY29tcGlsZSBmaWxlICN7T0wocGF0aCl9XCJcblx0XHRcdFx0XHRsb2dSZXN1bHQgY29tcGlsZUZpbGUocGF0aClcblx0XHRcdGVsc2UgaWYgbE1hdGNoZXMgOj0gc3RyLm1hdGNoKC8vL15cblx0XHRcdFx0XHQoW0EtWmEtejAtOV8tXSspXG5cdFx0XHRcdFx0XFwuXG5cdFx0XHRcdFx0KGxpYnxjbWQpXG5cdFx0XHRcdFx0XFwuXG5cdFx0XHRcdFx0dGVzdFxuXHRcdFx0XHRcdCQvLy8pXG5cdFx0XHRcdFtfLCBzdHViLCBwdXJwb3NlXSA6PSBsTWF0Y2hlc1xuXHRcdFx0XHRwYXQgOj0gXCIqKi8je3N0dWJ9LiN7cHVycG9zZX0udGVzdC4qXCJcblx0XHRcdFx0Zm9yIHtwYXRofSBvZiBhbGxGaWxlc01hdGNoaW5nKHBhdClcblx0XHRcdFx0XHREQkcgXCJjb21waWxlIGZpbGUgI3tPTChwYXRoKX1cIlxuXHRcdFx0XHRcdGxvZ1Jlc3VsdCBjb21waWxlRmlsZShwYXRoKVxuXHRcdFx0ZWxzZVxuXHRcdFx0XHREQkcgXCJjb21waWxlIGZpbGUgI3tPTChzdHIpfVwiXG5cdFx0XHRcdGxvZ1Jlc3VsdCBjb21waWxlRmlsZShzdHIpXG5cbkxPRyBcIigje251bUNvbXBpbGVkfSBmaWxlcyBjb21waWxlZClcIlxuXG5pZiB3YXRjaFxuXHR3YXRjaEZpbGVzIERlbm8uY3dkKCksICh7a2luZCwgcGF0aH0pID0+XG5cdFx0Y29uc29sZS5sb2cgXCJFVkVOVDogI3traW5kfSAje3BhdGh9XCJcblx0XHRyZXR1cm4gZmFsc2VcbiJdfQ==