"use strict";
// buildcmd.cmd.civet

import {
	exit, flag, nonOption, tryCmd,
	doCompile, doUnitTest, doInstallCmd,
	} from 'base-utils'

const stub = nonOption(0)
if (!stub) {
	exit("USAGE: buildcmd <stub> [-n]")
}

// ---------------------------------------------------------------------------

await tryCmd(doCompile, stub, 'cmd')
if (!flag('n')) {
	await tryCmd(doUnitTest, stub, 'cmd')
	await tryCmd(doInstallCmd, stub, 'cmd')
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjL2NtZC9idWlsZGNtZC5jbWQuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJzcmMvY21kL2J1aWxkY21kLmNtZC5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLHFCQUFvQjtBQUNwQixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQy9CLENBQUMsU0FBUyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsWUFBWSxDQUFDO0FBQ3JDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZO0FBQ3BCLEFBQUE7QUFDQSxBQUFBLEFBQUksTUFBSixJQUFJLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDcEIsQUFBQSxBQUFBLEdBQUcsQ0FBQSxDQUFJLElBQUksQ0FBQSxDQUFBLENBQUE7QUFDWCxBQUFBLENBQUMsSUFBSSxDQUFBLEFBQUMsNkJBQTZCLEM7QUFBQSxDQUFBO0FBQ25DLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLEtBQUssQ0FBQyxNQUFNLENBQUEsQUFBQyxTQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUE7QUFDbkMsQUFBQSxBQUFBLEdBQUcsQ0FBQSxDQUFJLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDaEIsQUFBQSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUEsQUFBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUE7QUFDckMsQUFBQSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUEsQUFBQyxZQUFZLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEM7QUFBQSxDQUFBO0FBQ3ZDIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIGJ1aWxkY21kLmNtZC5jaXZldFxyXG5cclxuaW1wb3J0IHtcclxuXHRleGl0LCBmbGFnLCBub25PcHRpb24sIHRyeUNtZCxcclxuXHRkb0NvbXBpbGUsIGRvVW5pdFRlc3QsIGRvSW5zdGFsbENtZCxcclxuXHR9IGZyb20gJ2Jhc2UtdXRpbHMnXHJcblxyXG5zdHViIDo9IG5vbk9wdGlvbigwKVxyXG5pZiBub3Qgc3R1YlxyXG5cdGV4aXQgXCJVU0FHRTogYnVpbGRjbWQgPHN0dWI+IFstbl1cIlxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmF3YWl0IHRyeUNtZCBkb0NvbXBpbGUsIHN0dWIsICdjbWQnXHJcbmlmIG5vdCBmbGFnKCduJylcclxuXHRhd2FpdCB0cnlDbWQgZG9Vbml0VGVzdCwgc3R1YiwgJ2NtZCdcclxuXHRhd2FpdCB0cnlDbWQgZG9JbnN0YWxsQ21kLCBzdHViLCAnY21kJ1xyXG4iXX0=