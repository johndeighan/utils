"use strict";
// buildcmd.cmd.civet

import {
	nonOption, FAIL, tryCmd, civet2tsFile, flag,
	doUnitTest, doInstallCmd,
	} from 'base-utils'

const stub = nonOption(0) || FAIL("USAGE: buildcmd <stub> [-n]")

// ---------------------------------------------------------------------------

// --- if tryCmd fails, an exception is thrown

await tryCmd(civet2tsFile, stub, 'cmd')
if (!flag('n')) {
	await tryCmd(doUnitTest, stub, 'cmd')
	await tryCmd(doInstallCmd, stub, 'cmd')
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjL2NtZC9idWlsZGNtZC5jbWQuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJzcmMvY21kL2J1aWxkY21kLmNtZC5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLHFCQUFvQjtBQUNwQixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQzdDLENBQUMsVUFBVSxDQUFDLENBQUMsWUFBWSxDQUFDO0FBQzFCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZO0FBQ3BCLEFBQUE7QUFDQSxBQUFBLEFBQUksTUFBSixJQUFJLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLDZCQUE2QixDQUFDO0FBQzNELEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSw4Q0FBNkM7QUFDN0MsQUFBQTtBQUNBLEFBQUEsQUFBQSxLQUFLLENBQUMsTUFBTSxDQUFBLEFBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFBO0FBQ3RDLEFBQUEsQUFBQSxHQUFHLENBQUEsQ0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ2hCLEFBQUEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFBLEFBQUMsVUFBVSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFBO0FBQ3JDLEFBQUEsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFBLEFBQUMsWUFBWSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDO0FBQUEsQ0FBQTtBQUN2QyIsIm5hbWVzIjpbXSwic291cmNlc0NvbnRlbnQiOlsiIyBidWlsZGNtZC5jbWQuY2l2ZXRcclxuXHJcbmltcG9ydCB7XHJcblx0bm9uT3B0aW9uLCBGQUlMLCB0cnlDbWQsIGNpdmV0MnRzRmlsZSwgZmxhZyxcclxuXHRkb1VuaXRUZXN0LCBkb0luc3RhbGxDbWQsXHJcblx0fSBmcm9tICdiYXNlLXV0aWxzJ1xyXG5cclxuc3R1YiA6PSBub25PcHRpb24oMCkgfHwgRkFJTChcIlVTQUdFOiBidWlsZGNtZCA8c3R1Yj4gWy1uXVwiKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbiMgLS0tIGlmIHRyeUNtZCBmYWlscywgYW4gZXhjZXB0aW9uIGlzIHRocm93blxyXG5cclxuYXdhaXQgdHJ5Q21kIGNpdmV0MnRzRmlsZSwgc3R1YiwgJ2NtZCdcclxuaWYgbm90IGZsYWcoJ24nKVxyXG5cdGF3YWl0IHRyeUNtZCBkb1VuaXRUZXN0LCBzdHViLCAnY21kJ1xyXG5cdGF3YWl0IHRyeUNtZCBkb0luc3RhbGxDbWQsIHN0dWIsICdjbWQnXHJcbiJdfQ==