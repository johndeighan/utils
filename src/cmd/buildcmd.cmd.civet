# buildcmd.cmd.civet

import {
	nonOption, FAIL, tryCmd, civet2tsFile, flag,
	doUnitTest, doInstallCmd,
	} from 'base-utils'

stub := nonOption(0) || FAIL("USAGE: buildcmd <stub> [-n]")

# ---------------------------------------------------------------------------

# --- if tryCmd fails, an exception is thrown

await tryCmd civet2tsFile, stub, 'cmd'
if not flag('n')
	await tryCmd doUnitTest, stub, 'cmd'
	await tryCmd doInstallCmd, stub, 'cmd'
