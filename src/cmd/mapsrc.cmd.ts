"use strict";
// mapsrc.cmd.civet

import {
	undef, defined, notdefined, slurp, stdChecks,
	LOG, DBG, DIR, flag, nonOption, assert, croak, findFile, fileExt,
	} from 'base-utils'
import {assertIsDefined} from 'datatypes'
import {getCmdArgs} from 'cmd-args'
import {DUMP} from 'to-nice'
import {isFile} from 'fsys'
import {ts2ast, astAsString, analyze} from 'typescript'
import {civet2ast, civet2ts} from 'civet'
import {mapSourcePos} from 'source-map'

stdChecks()
getCmdArgs()

// ---------------------------------------------------------------------------

const line = nonOption(0)
assertIsDefined(line)
assert(line.match(/^\d+$/), `Bad line number: ${line}`)

const path = nonOption(1)
assertIsDefined(path)
assert(isFile(path), `No such file: ${path}`)

const hPos = mapSourcePos({path, line: parseInt(line), column: 1})
console.dir(hPos)

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcY21kXFxtYXBzcmMuY21kLmNpdmV0LnRzeCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcY21kXFxtYXBzcmMuY21kLmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsbUJBQWtCO0FBQ2xCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDOUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUM7QUFDbEUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVk7QUFDcEIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXO0FBQ3pDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVTtBQUNuQyxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVM7QUFDNUIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNO0FBQzNCLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWTtBQUN2RCxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU87QUFDekMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQyxZQUFZO0FBQ3ZDLEFBQUE7QUFDQSxBQUFBLEFBQUEsU0FBUyxDQUFDLENBQUM7QUFDWCxBQUFBLEFBQUEsVUFBVSxDQUFDLENBQUM7QUFDWixBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQTtBQUNBLEFBQUEsQUFBSSxNQUFKLElBQUksQ0FBQyxDQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztBQUNwQixBQUFBLEFBQUEsZUFBZSxDQUFBLEFBQUMsSUFBSSxDQUFBO0FBQ3BCLEFBQUEsQUFBQSxNQUFNLENBQUEsQUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxpQkFBaUIsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFBO0FBQ3RELEFBQUE7QUFDQSxBQUFBLEFBQUksTUFBSixJQUFJLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUM7QUFDcEIsQUFBQSxBQUFBLGVBQWUsQ0FBQSxBQUFDLElBQUksQ0FBQTtBQUNwQixBQUFBLEFBQUEsTUFBTSxDQUFBLEFBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxjQUFjLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQTtBQUM1QyxBQUFBO0FBQ0EsQUFBQSxBQUFJLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBQyxZQUFZLENBQUEsQUFBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQzVELEFBQUEsQUFBQSxPQUFPLENBQUMsR0FBRyxDQUFBLEFBQUMsSUFBSSxDQUFBO0FBQ2hCIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIG1hcHNyYy5jbWQuY2l2ZXRcclxuXHJcbmltcG9ydCB7XHJcblx0dW5kZWYsIGRlZmluZWQsIG5vdGRlZmluZWQsIHNsdXJwLCBzdGRDaGVja3MsXHJcblx0TE9HLCBEQkcsIERJUiwgZmxhZywgbm9uT3B0aW9uLCBhc3NlcnQsIGNyb2FrLCBmaW5kRmlsZSwgZmlsZUV4dCxcclxuXHR9IGZyb20gJ2Jhc2UtdXRpbHMnXHJcbmltcG9ydCB7YXNzZXJ0SXNEZWZpbmVkfSBmcm9tICdkYXRhdHlwZXMnXHJcbmltcG9ydCB7Z2V0Q21kQXJnc30gZnJvbSAnY21kLWFyZ3MnXHJcbmltcG9ydCB7RFVNUH0gZnJvbSAndG8tbmljZSdcclxuaW1wb3J0IHtpc0ZpbGV9IGZyb20gJ2ZzeXMnXHJcbmltcG9ydCB7dHMyYXN0LCBhc3RBc1N0cmluZywgYW5hbHl6ZX0gZnJvbSAndHlwZXNjcmlwdCdcclxuaW1wb3J0IHtjaXZldDJhc3QsIGNpdmV0MnRzfSBmcm9tICdjaXZldCdcclxuaW1wb3J0IHttYXBTb3VyY2VQb3N9IGZyb20gJ3NvdXJjZS1tYXAnXHJcblxyXG5zdGRDaGVja3MoKVxyXG5nZXRDbWRBcmdzKClcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5saW5lIDo9IG5vbk9wdGlvbigwKVxyXG5hc3NlcnRJc0RlZmluZWQgbGluZVxyXG5hc3NlcnQgbGluZS5tYXRjaCgvXlxcZCskLyksIFwiQmFkIGxpbmUgbnVtYmVyOiAje2xpbmV9XCJcclxuXHJcbnBhdGggOj0gbm9uT3B0aW9uKDEpXHJcbmFzc2VydElzRGVmaW5lZCBwYXRoXHJcbmFzc2VydCBpc0ZpbGUocGF0aCksIFwiTm8gc3VjaCBmaWxlOiAje3BhdGh9XCJcclxuXHJcbmhQb3MgOj0gbWFwU291cmNlUG9zIHtwYXRoLCBsaW5lOiBwYXJzZUludChsaW5lKSwgY29sdW1uOiAxfVxyXG5jb25zb2xlLmRpciBoUG9zXHJcbiJdfQ==