"use strict";
// automate.lib.civet

type AutoPromise<T> = Promise<Awaited<T>>;
import {
	compile as compileSvelte,
	} from 'npm:svelte/compiler'

import {
	undef, defined, notdefined, assert, croak, TAssertFunc,
	isEmpty, nonEmpty, isInteger,
	nonEmptyString, isNonEmptyString,
	hash, hashof, isHash, integer,
	} from 'datatypes'
import {
	words, allMatches, o, OL, keys, getOptions,
	} from 'llutils'
import {
	LOG, LOGVALUE, DBG, DBGVALUE, WARN, INDENT, UNDENT,
	pushLogLevel, popLogLevel,
	} from 'logger'
import {TextTable} from 'text-table'
import {
	TPathInfo, slurp, barf, patchFirstLine, parsePath,
	isFile, isDir, rmFile, findSrcFile,
	withExt, newerDestFileExists, allFilesMatching,
	} from 'fsys'
import {execCmd, execCmdSync, cmdSucceeds} from 'exec'
import {cielo2civetFile, configFromFile} from 'cielo'
import {civet2tsFile} from 'civet'

// ---------------------------------------------------------------------------
// Please, no dependencies on the directory structure!
// ---------------------------------------------------------------------------

export type TTesterFunc = () => boolean

export type TCompileStatus =
	'temp'       |    // --- it's an intermediate file, not compiled
	'nocompiler' |    //     no compiler configured for this file
	'exists'     |    //     newer output files exist, not compiled
	'failed'     |    //     compiling failed
	'compiled'        //     compiling succeeded, output file exists

export type TCompilerFunc = (path: string) => TCompileStatus
export type TPostProcessor = (path: string) => void

export type TCompilerInfo = {
	tester: TTesterFunc
	compiler: TCompilerFunc
	getOutPaths: (path: string) => string[]
	}

export const isCompilerInfo = (x: unknown): x is TCompilerInfo => {
	return isHash(x) && ('tester' in x) && ('compiler' in x) && ('getOutPaths' in x)
}

export type TCompilerConfig = {
	hCompilers: hashof<TCompilerInfo>         // <string>: <TCompilerInfo>
	hPostProcessors: hashof<TPostProcessor>   // <string>: <TPostProcessor>
	}

export const isCompilerConfig = (x: unknown): x is TCompilerConfig => {
	return isHash(x) && ('hCompilers' in x) && ('hPostProcessors' in x)
}

export type TCompileResult = {
	status: TCompileStatus
	path: string
	lOutPaths?: string[]
	postProcStatus?: unknown
	}

export type TUnitTestResult = {
	stub: string
	success: boolean
	msg?: string
	code?: number
	signal?: string
	}

// ---------------------------------------------------------------------------

export const build = (
		name: string = '*',
		purp: string = '{lib,cmd}',
		hOptions: hash={}
		): void => {

	type opt = {
		nopp: boolean
		}
	const {nopp} = getOptions<opt>(hOptions, {
		nopp: false
		})

	// --- Even though it's a constant, we can still
	//     append strings to it!
	const lUnitTests: string[] = []

	const pat = `**/${name}.${purp}.civet`
	for (const hInfo of allFilesMatching(pat)) {
		const {type, path, fileName, purpose, stub, relPath} = hInfo
		assert((type === 'file'), `Not a file: ${path}`)
		assert(isNonEmptyString(stub), "Empty stub")
		LOG(`${relPath} (${purpose})`)
		if (newerDestFileExists(relPath, '.ts')) {
			LOG("   EXISTS");
		}
		else {
			// --- Compile civet file to TypeScript

			const {success} = execCmdSync('civet', [
				'--inline-map',
				'-o', '.ts',
				'-c', relPath
				])
			if (success) {
				LOG("   BUILD OK")

				// --- type check the TypeScript file

				const hResult = execCmdSync('deno', [
					'check',
					'-q', withExt(relPath, '.ts')
					])
				if (hResult.success) {
					LOG("   CHECK OK")
				}
				else {
					LOG("   CHECK FAILED")
					continue
				}
			}   // don't install if a command
			else {
				LOG("   BUILD FAILED")
				continue
			}
		}   // don't install if a command

		switch(purpose) {
			case 'cmd': {
				const {success} = execCmdSync('deno', [
					'install',
					'-fgA',
					'-n', stub || 'unknown',
					'--no-config',
					'--import-map', 'import_map.json',
					withExt(relPath, '.ts')
					])
				LOG(`   INSTALL ${success ? 'OK' : 'FAILED'}`);break;
			}
			case 'lib': {
				if (defined(stub) && !nopp) {
					lUnitTests.push(stub)
				};break;
			}
		}
	}
	LOGVALUE('lUnitTests', lUnitTests)
	return
}

// ---------------------------------------------------------------------------
// --- What an ugly syntax, but it works! (i.e. type narrows)

const assertIsCompilerConfig: (val: unknown) => asserts val is TCompilerConfig = function(
		val: unknown
		): asserts val is TCompilerConfig {

	assert(isCompilerConfig(val), "Not a compiler config")
}

// ---------------------------------------------------------------------------

export const getCompilerConfig = (
	fileName: string = 'compile.config.civet'
	): TCompilerConfig => {

	const path = findSrcFile(fileName)
	if (defined(path)) {
		DBG(`load compiler config from ${OL(path)}`)
		const hConfig = configFromFile(path)
		assertIsCompilerConfig(hConfig)
		DBGVALUE('hConfig', hConfig)

		// --- Remove any compilers for which the
		//     compiler software has not been installed

		const {hCompilers} = hConfig
		for (const ext of keys(hCompilers)) {
			const {tester} = hCompilers[ext]
			pushLogLevel('silent')
			const works = tester()
			popLogLevel()

			if (!works) {
				DBG(`Deleting compiler for ext ${OL(ext)}`)
				delete hCompilers[ext]
			}
		}
		return hConfig
	}
	else {
		return {
			hCompilers: {
				// --- keys are file extensions
				//     NOTE: compilers must be synchronous!!!

				'.svelte': {
					getOutPaths: (path: string) => {
						return [withExt(path, '.js')]
					},

					tester: () => {
						return true
					},

					compiler: (path: string) => {
						const jsPath = withExt(path, '.js')
						rmFile(jsPath)
						const {js, warnings} = compileSvelte(slurp(path), {
							customElement: true,
							runes: true
							})
						const {code, map} = js
						barf(jsPath, code)
						return 'compiled'
					}
					},

				'.dot': {
					getOutPaths: (path: string) => {
						return [withExt(path, '.svg')]
					},

					tester: () => {
						return cmdSucceeds('dot', ['--version'], o`quiet`)
					},

					compiler: (path: string) => {
						const svgPath = withExt(path, '.svg')
						rmFile(svgPath)
						execCmdSync('dot', ['-Tsvg', path])
						return 'compiled'
					}
					},

				'.cielo': {

					// --- We produce an intermediate .civet file,
					//     but give it a purpose of 'temp'
					//     so it won't get compiled by the compile script
					getOutPaths: (path: string) => [withExt(path, '.ts')],

					tester: () => {
						// --- we need civet to be installed
						return cmdSucceeds('civet', ['--version'], o`quiet`)
					},

					compiler: (path: string) => {
						// --- start with a *.cielo file
						const civetPath = withExt(path, '.temp.civet')
						const tsPath = withExt(path, '.ts')

						rmFile(civetPath)    // --- needed?
						rmFile(tsPath)       // --- needed?

						cielo2civetFile(path, civetPath)
						civet2tsFile(civetPath, tsPath)

						const {fileName} = parsePath(path)
						patchFirstLine(civetPath, fileName, withExt(fileName, '.temp.civet'))
						patchFirstLine(tsPath, fileName, withExt(fileName, '.ts'))

						return 'compiled'
					}
					},

				'.civet': {

					getOutPaths: (path: string) => {
						return [withExt(path, '.ts')]
					},

					tester: () => {
						return cmdSucceeds('civet', ['--version'], o`quiet`)
					},

					compiler: (path: string) => {
						const {purpose, fileName} = parsePath(path)
						if (defined(purpose) && ['temp','debug'].includes(purpose)) {
							return 'temp'
						}

						const tsPath = withExt(path, '.ts')
						const tsName = withExt(fileName, '.ts')

						civet2tsFile(path, tsPath)
						patchFirstLine(tsPath, fileName, tsName)
						return 'compiled'
					}
					}
				},

			hPostProcessors: {
				// --- Keys are a purpose

				'test': (path: string): void => {
					return
				},

				'lib': (path: string): void => {
					const {stub} = parsePath(path)
					if (defined(stub)) {
						for (const {success} of runUnitTestsFor(stub)) {
							if (!success) {
								WARN(`Unit test ${path} failed`)
							}
						}
					}
					return
				},

				'cmd': (path: string): void => {
					LOG(`- installing command ${path}`)
					installCmd(path)
					return
				}
				}
			}
	}
}

// ---------------------------------------------------------------------------
// --- returns a TCompilerInfo or undef

export const getCompilerInfo = (
		ext: string
		): (TCompilerInfo | undefined) => {

	const hConfig = getCompilerConfig()
	const hInfo = hConfig.hCompilers[ext]
	if (defined(hInfo)) {
		return hInfo
	}
	else {
		DBG(`No compiler for ${ext} files`)
		return undef
	}
}

// ---------------------------------------------------------------------------

export const getPostProcessor = (
		purpose: string
		): (TPostProcessor | undefined) => {

	const hConfig = getCompilerConfig()
	const pp = hConfig.hPostProcessors[purpose]
	if (defined(pp)) {
		return pp
	}
	else {
		DBG(`No post processor for ${purpose} files`)
		return undef
	}
}

// ---------------------------------------------------------------------------
// --- src can be a full or relative path
//     throws error if file does not exist
//
//     Possible status values:
//        'temp'       - it was a temp file, not compiled
//        'nocompiler' - has no compiler, not compiled
//        'exists'     - newer compiled file already exists
//        'failed'     - compiling failed
//        'compiled'   - successfully compiled

export const compileFile = (
	path: string,
	hOptions: hash={}
	): TCompileResult => {

	assert(isFile(path), `No such file: ${OL(path)}`)
	DBG(`COMPILE: ${OL(path)}`, INDENT)

	type opt = {
		nopp: boolean
		}
	const {nopp} = getOptions<opt>(hOptions, {
		nopp: false
		})

	const {relPath, stub, purpose, ext} = parsePath(path)

	if (notdefined(ext)) {
		DBG(`Not compiling - no file extension in ${OL(path)}`, UNDENT)
		return {status: 'nocompiler', path: relPath}
	}

	const hCompilerInfo = getCompilerInfo(ext)
	if (notdefined(hCompilerInfo)) {
		DBG(`Not compiling - no compiler for ${OL(ext)}`, UNDENT)
		return {status: 'nocompiler', path: relPath}
	}

	const {compiler, getOutPaths} = hCompilerInfo
	const lOutPaths = getOutPaths(relPath)
	DBG(`lOutPaths = ${OL(lOutPaths)}`)

	let allNewer = true
	for (const outPath of lOutPaths) {
		if (!newerDestFileExists(relPath, outPath)) {
			allNewer = false
			break
		}
	}
	if (allNewer) {
		DBG(`Not compiling, newer ${OL(lOutPaths)} exist`, UNDENT)
		return {status: 'exists', path: relPath, lOutPaths}
	}

	DBG(`compiling ${OL(path)} to ${OL(lOutPaths)}`)
	const status = compiler(path)
	let postProcStatus: (unknown | undefined) = undef
	if ((status === 'compiled') && defined(purpose) && !nopp) {
		const postProc = getPostProcessor(purpose)
		if (defined(postProc)) {
			DBG("post-processing file")
			try {
				postProc(path)
			}
			catch (err) {
				postProcStatus = err
			}
		}
	}
	DBG(UNDENT)
	if (defined(postProcStatus)) {
		return {status, path: relPath, lOutPaths, postProcStatus}
	}
	else {
		return {status, path: relPath, lOutPaths}
	}
}

// ---------------------------------------------------------------------------
// --- GENERATOR

export const runUnitTestsFor = function*(
	stub: nonEmptyString,
	hOptions: hash={}
	): Generator<TUnitTestResult, void, void> {

	type opt = {
		verbose: boolean
		}
	const {verbose} = getOptions<opt>(hOptions, {
		verbose: false
		})

	DBG(`Running unit tests for ${stub}`)
	if (!verbose) {
		pushLogLevel('silent')
	}

	// --- Ensure that matching lib & cmd files are compiled
	//     (no error if there is no compiler for the file)
	build(stub)
//	for {path} of allFilesMatching("**/#{stub}.*")
//		{status} := compileFile path, o'nopp'
//		assert (status != 'failed'), "compile of #{path} failed"

	// --- Compile and run all unit tests for stub
	for (const {path} of allFilesMatching(`**/${stub}*.test.*`)) {
		const {status, lOutPaths} = compileFile(path, o`nopp`)
		assert((status !== 'failed'), `compile of ${path} failed`)
		if (notdefined(lOutPaths)) {
			continue
		}
		for (const outPath of lOutPaths) {
			assert(isFile(outPath), `File ${OL(outPath)} not found`)
		}

		// --- Compile all files in subdir if it exists
		if (isDir(`test/${stub}`)) {
			for (const {path} of allFilesMatching(`test/${stub}/*`)) {
				const {status, lOutPaths} = compileFile(path)
				assert((status !== 'failed'), `Compile of ${path} failed`)
				if (notdefined(lOutPaths)) {
					WARN(`File ${OL(path)} not compiled to ${OL(lOutPaths)}`)
				}
			}
		}

		// --- Run the unit tests, yield results
		for (const outPath of lOutPaths) {
			const {success, code, signal} = execCmdSync('deno', [
					'test',
					'-qA',
					outPath
					])
			yield {stub, success, code, signal}
		}
	}
	if (!verbose) {
		popLogLevel()
	}
	return
}

// ---------------------------------------------------------------------------
// --- GENERATOR

export const runAllUnitTests = function*(
		): Generator<TUnitTestResult, void, void> {

	DBG("Running all unit tests")

	const hGlobOptions = {
		exclude: ['node_modules/**', '.git/**']
		}

	const pattern = '**/*.{lib,cmd}.ts'
	DBG(`pattern = ${OL(pattern)}`)
	for (const {path, stub} of allFilesMatching(pattern, hGlobOptions)) {
		if (stub === undef) {
			WARN(`No stub found in ${OL(path)}`)
		}
		else {
			DBG(`UNIT TEST: ${path}`)
			for (const hResult of runUnitTestsFor(stub)) {
				yield hResult
			}
		}
	}
	return
}

// ---------------------------------------------------------------------------
// ASYNC

export const installCmd = async (
		path: string,
		name: (string | undefined) = undef
		): AutoPromise<void> => {

	if (notdefined(name)) {
		await execCmd('deno', [
			'install',
			'-fgA',
			'--config',
			'deno.jsonc',
			path
			])
	}
	else {
		await execCmd('deno', [
			'install',
			'-fgA',
			'-n',
			name,
			'--config',
			'deno.jsonc',
			path
			])
	}
	return
}

// ---------------------------------------------------------------------------
// ASYNC

export const uninstallCmd = async (
		path: string,
		name: (string | undefined) = undef
		): AutoPromise<void> => {

	if (notdefined(name)) {
		await execCmd('deno', [
			'uninstall',
			'-g',
			path
			])
	}
	else {
		await execCmd('deno', [
			'uninstall',
			'-g',
			'-n',
			name,
			path
			])
	}
	return
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcbGliXFxhdXRvbWF0ZS5saWIuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGpvaG5kXFx1dGlsc1xcc3JjXFxsaWJcXGF1dG9tYXRlLmxpYi5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLHFCQUFvQjtBQUNwQixBQUFBO0FBQ0EsSyxXLHlCO0FBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDO0FBQzFCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUI7QUFDN0IsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQ3hELENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQzlCLENBQUMsY0FBYyxDQUFDLENBQUMsZ0JBQWdCLENBQUM7QUFDbEMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUM7QUFDL0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVc7QUFDbkIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUM7QUFDNUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVM7QUFDakIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxN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QyxDQUFDLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtBQUMxRCxBQUFBLEVBQUUsR0FBRyxDQUFBLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDMUIsQUFBQSxHQUFHLFE7RUFBUSxDQUFBO0FBQ1gsQUFBQSxFQUFFLEdBQUcsQ0FBQyxDQUFBLE1BQUEsT0FBTyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUEsQ0FBQSxDQUFBO0FBQzFCLEFBQUEsR0FBRyxNQUFNLENBQUEsQUFBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLEM7RUFBQSxDQUFBO0FBQzFELEFBQUE7QUFDQSxBQUFBLEVBQUUsK0NBQThDO0FBQ2hELEFBQUEsRUFBRSxHQUFHLENBQUEsS0FBSyxDQUFDLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDMUIsQUFBQSxHQUFHLEdBQUcsQ0FBQyxDQUFBLE1BQUEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ25ELEFBQUEsSUFBdUIsTUFBbkIsQ0FBQyxNQUFNLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFFLENBQUMsV0FBVyxDQUFBLEFBQUMsSUFBSSxDQUFBO0FBQzNDLEFBQUEsSUFBSSxNQUFNLENBQUEsQUFBQyxDQUFDLE1BQU0sQ0FBQyxHQUFFLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7QUFDNUQsQUFBQSxJQUFJLEdBQUcsQ0FBQSxVQUFVLENBQUMsU0FBUyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQzVCLEFBQUEsS0FBSyxJQUFJLENBQUEsQUFBQyxDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUMsaUJBQWlCLEVBQUUsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQztJQUFBLEM7R0FBQSxDO0VBQUEsQ0FBQTtBQUM3RCxBQUFBO0FBQ0EsQUFBQSxFQUFFLHdDQUF1QztBQUN6QyxBQUFBLEVBQUUsR0FBRyxDQUFDLENBQUEsTUFBQSxPQUFPLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQSxDQUFBLENBQUE7QUFDMUIsQUFBQSxHQUEwQixNQUF2QixDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUUsQ0FBQyxXQUFXLENBQUEsQUFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ25ELEFBQUEsS0FBSyxNQUFNLENBQUM7QUFDWixBQUFBLEtBQUssS0FBSyxDQUFDO0FBQ1gsQUFBQSxLQUFLLE9BQU87QUFDWixBQUFBLEtBQUssQ0FBQyxDQUFBO0FBQ04sQUFBQSxHQUFHLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQztFQUFDLEM7Q0FBQSxDQUFBO0FBQ3RDLEFBQUEsQ0FBQyxHQUFHLENBQUEsQ0FBSSxPQUFPLENBQUEsQ0FBQSxDQUFBO0FBQ2YsQUFBQSxFQUFFLFdBQVcsQ0FBQyxDO0NBQUMsQ0FBQTtBQUNmLEFBQUEsQ0FBQyxNO0FBQU0sQ0FBQTtBQUNQLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBLGdCQUFlO0FBQ2YsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQWdCLE1BQWYsZUFBZSxDQUFDLENBQUUsQ0FDbUIsUSxDQURsQixDQUFDO0FBQzNCLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLGVBQWUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBSSxDQUFBLENBQUE7QUFDOUMsQUFBQTtBQUNBLEFBQUEsQ0FBQyxHQUFHLENBQUEsQUFBQyx3QkFBd0IsQ0FBQTtBQUM3QixBQUFBO0FBQ0EsQUFBQSxDQUFhLE1BQVosWUFBWSxDQUFDLENBQUUsQ0FBQyxDQUFDO0FBQ2xCLEFBQUEsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ3pDLEVBQUUsQ0FBQztBQUNILEFBQUE7QUFDQSxBQUFBLENBQVEsTUFBUCxPQUFPLENBQUMsQ0FBRSxDQUFDLG1CQUFtQjtBQUMvQixBQUFBLENBQUMsR0FBRyxDQUFBLEFBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUMvQixBQUFBLENBQUMsR0FBRyxDQUFDLENBQUEsTUFBQSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDNUQsQUFBQSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRSxDQUFDLEtBQUssQ0FBQyxDQUFBLENBQUE7QUFDcEIsQUFBQSxHQUFHLElBQUksQ0FBQSxBQUFDLENBQUMsaUJBQWlCLEVBQUUsRUFBRSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQztFQUFBLENBQUE7QUFDdEMsQUFBQSxFQUFFLElBQUksQ0FBQSxDQUFBO0FBQ04sQUFBQSxHQUFHLEdBQUcsQ0FBQSxBQUFDLENBQUMsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUE7QUFDM0IsQUFBQSxHQUFHLEdBQUcsQ0FBQyxDQUFBLE1BQUEsT0FBTyxDQUFDLEVBQUUsQ0FBQyxlQUFlLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ3ZDLEFBQUEsSUFBSSxLQUFLLENBQUMsTztHQUFPLEM7RUFBQSxDO0NBQUEsQ0FBQTtBQUNqQixBQUFBLENBQUMsTTtBQUFNLENBQUE7QUFDUCxBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQSxRQUFPO0FBQ1AsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQVcsTUFBVixVQUFVLENBQUMsQ0FBRSxDLE1BQUMsQ0FBQztBQUN0QixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQ2QsQUFBQSxFQUFFLElBQUksQyxDLENBQUMsQUFBQyxNLFksQ0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLO0FBQ3ZCLEVBQUUsQ0FBQyxDLEMsVyxDQUFDLEFBQUMsSSxDQUFJLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDWixBQUFBO0FBQ0EsQUFBQSxDQUFDLEdBQUcsQ0FBQSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ3BCLEFBQUEsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFBLEFBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUN6QixBQUFBLEdBQUcsU0FBUyxDQUFBO0FBQ1osQUFBQSxHQUFHLE1BQU0sQ0FBQTtBQUNULEFBQUEsR0FBRyxVQUFVLENBQUE7QUFDYixBQUFBLEdBQUcsWUFBWSxDQUFBO0FBQ2YsQUFBQSxHQUFHLElBQUk7QUFDUCxBQUFBLEdBQUcsQ0FBQyxDO0NBQUEsQ0FBQTtBQUNKLEFBQUEsQ0FBQyxJQUFJLENBQUEsQ0FBQTtBQUNMLEFBQUEsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFBLEFBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUN6QixBQUFBLEdBQUcsU0FBUyxDQUFBO0FBQ1osQUFBQSxHQUFHLE1BQU0sQ0FBQTtBQUNULEFBQUEsR0FBRyxJQUFJLENBQUE7QUFDUCxBQUFBLEdBQUcsSUFBSSxDQUFBO0FBQ1AsQUFBQSxHQUFHLFVBQVUsQ0FBQTtBQUNiLEFBQUEsR0FBRyxZQUFZLENBQUE7QUFDZixBQUFBLEdBQUcsSUFBSTtBQUNQLEFBQUEsR0FBRyxDQUFDLEM7Q0FBQSxDQUFBO0FBQ0osQUFBQSxDQUFDLE07QUFBTSxDQUFBO0FBQ1AsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUEsUUFBTztBQUNQLEFBQUE7QUFDQSxBQUFBLEFBQUEsTUFBTSxDQUFhLE1BQVosWUFBWSxDQUFDLENBQUUsQyxNQUFDLENBQUM7QUFDeEIsQUFBQSxFQUFFLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUNkLEFBQUEsRUFBRSxJQUFJLEMsQyxDQUFDLEFBQUMsTSxZLENBQU8sQ0FBQyxDQUFDLENBQUMsS0FBSztBQUN2QixFQUFFLENBQUMsQyxDLFcsQ0FBQyxBQUFDLEksQ0FBSSxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ1osQUFBQTtBQUNBLEFBQUEsQ0FBQyxHQUFHLENBQUEsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUNwQixBQUFBLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQSxBQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDekIsQUFBQSxHQUFHLFdBQVcsQ0FBQTtBQUNkLEFBQUEsR0FBRyxJQUFJLENBQUE7QUFDUCxBQUFBLEdBQUcsSUFBSTtBQUNQLEFBQUEsR0FBRyxDQUFDLEM7Q0FBQSxDQUFBO0FBQ0osQUFBQSxDQUFDLElBQUksQ0FBQSxDQUFBO0FBQ0wsQUFBQSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUEsQUFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ3pCLEFBQUEsR0FBRyxXQUFXLENBQUE7QUFDZCxBQUFBLEdBQUcsSUFBSSxDQUFBO0FBQ1AsQUFBQSxHQUFHLElBQUksQ0FBQTtBQUNQLEFBQUEsR0FBRyxJQUFJLENBQUE7QUFDUCxBQUFBLEdBQUcsSUFBSTtBQUNQLEFBQUEsR0FBRyxDQUFDLEM7Q0FBQSxDQUFBO0FBQ0osQUFBQSxDQUFDLE07QUFBTSxDQUFBO0FBQ1AiLCJuYW1lcyI6W10sInNvdXJjZXNDb250ZW50IjpbIiMgYXV0b21hdGUubGliLmNpdmV0XG5cbmltcG9ydCB7XG5cdGNvbXBpbGUgYXMgY29tcGlsZVN2ZWx0ZSxcblx0fSBmcm9tICducG06c3ZlbHRlL2NvbXBpbGVyJ1xuXG5pbXBvcnQge1xuXHR1bmRlZiwgZGVmaW5lZCwgbm90ZGVmaW5lZCwgYXNzZXJ0LCBjcm9haywgVEFzc2VydEZ1bmMsXG5cdGlzRW1wdHksIG5vbkVtcHR5LCBpc0ludGVnZXIsXG5cdG5vbkVtcHR5U3RyaW5nLCBpc05vbkVtcHR5U3RyaW5nLFxuXHRoYXNoLCBoYXNob2YsIGlzSGFzaCwgaW50ZWdlcixcblx0fSBmcm9tICdkYXRhdHlwZXMnXG5pbXBvcnQge1xuXHR3b3JkcywgYWxsTWF0Y2hlcywgbywgT0wsIGtleXMsIGdldE9wdGlvbnMsXG5cdH0gZnJvbSAnbGx1dGlscydcbmltcG9ydCB7XG5cdExPRywgTE9HVkFMVUUsIERCRywgREJHVkFMVUUsIFdBUk4sIElOREVOVCwgVU5ERU5ULFxuXHRwdXNoTG9nTGV2ZWwsIHBvcExvZ0xldmVsLFxuXHR9IGZyb20gJ2xvZ2dlcidcbmltcG9ydCB7VGV4dFRhYmxlfSBmcm9tICd0ZXh0LXRhYmxlJ1xuaW1wb3J0IHtcblx0VFBhdGhJbmZvLCBzbHVycCwgYmFyZiwgcGF0Y2hGaXJzdExpbmUsIHBhcnNlUGF0aCxcblx0aXNGaWxlLCBpc0Rpciwgcm1GaWxlLCBmaW5kU3JjRmlsZSxcblx0d2l0aEV4dCwgbmV3ZXJEZXN0RmlsZUV4aXN0cywgYWxsRmlsZXNNYXRjaGluZyxcblx0fSBmcm9tICdmc3lzJ1xuaW1wb3J0IHtleGVjQ21kLCBleGVjQ21kU3luYywgY21kU3VjY2VlZHN9IGZyb20gJ2V4ZWMnXG5pbXBvcnQge2NpZWxvMmNpdmV0RmlsZSwgY29uZmlnRnJvbUZpbGV9IGZyb20gJ2NpZWxvJ1xuaW1wb3J0IHtjaXZldDJ0c0ZpbGV9IGZyb20gJ2NpdmV0J1xuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBQbGVhc2UsIG5vIGRlcGVuZGVuY2llcyBvbiB0aGUgZGlyZWN0b3J5IHN0cnVjdHVyZSFcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCB0eXBlIFRUZXN0ZXJGdW5jID0gKCkgPT4gYm9vbGVhblxuXG5leHBvcnQgdHlwZSBUQ29tcGlsZVN0YXR1cyA9XG5cdCd0ZW1wJyAgICAgICB8ICAgICMgLS0tIGl0J3MgYW4gaW50ZXJtZWRpYXRlIGZpbGUsIG5vdCBjb21waWxlZFxuXHQnbm9jb21waWxlcicgfCAgICAjICAgICBubyBjb21waWxlciBjb25maWd1cmVkIGZvciB0aGlzIGZpbGVcblx0J2V4aXN0cycgICAgIHwgICAgIyAgICAgbmV3ZXIgb3V0cHV0IGZpbGVzIGV4aXN0LCBub3QgY29tcGlsZWRcblx0J2ZhaWxlZCcgICAgIHwgICAgIyAgICAgY29tcGlsaW5nIGZhaWxlZFxuXHQnY29tcGlsZWQnICAgICAgICAjICAgICBjb21waWxpbmcgc3VjY2VlZGVkLCBvdXRwdXQgZmlsZSBleGlzdHNcblxuZXhwb3J0IHR5cGUgVENvbXBpbGVyRnVuYyA9IChwYXRoOiBzdHJpbmcpID0+IFRDb21waWxlU3RhdHVzXG5leHBvcnQgdHlwZSBUUG9zdFByb2Nlc3NvciA9IChwYXRoOiBzdHJpbmcpID0+IHZvaWRcblxuZXhwb3J0IHR5cGUgVENvbXBpbGVySW5mbyA9IHtcblx0dGVzdGVyOiBUVGVzdGVyRnVuY1xuXHRjb21waWxlcjogVENvbXBpbGVyRnVuY1xuXHRnZXRPdXRQYXRoczogKHBhdGg6IHN0cmluZykgPT4gc3RyaW5nW11cblx0fVxuXG5leHBvcnQgaXNDb21waWxlckluZm8gOj0gKHg6IHVua25vd24pOiB4IGlzIFRDb21waWxlckluZm8gPT5cblx0cmV0dXJuIGlzSGFzaCh4KSAmJiAoJ3Rlc3RlcicgaW4geCkgJiYgKCdjb21waWxlcicgaW4geCkgJiYgKCdnZXRPdXRQYXRocycgaW4geClcblxuZXhwb3J0IHR5cGUgVENvbXBpbGVyQ29uZmlnID0ge1xuXHRoQ29tcGlsZXJzOiBoYXNob2Y8VENvbXBpbGVySW5mbz4gICAgICAgICAjIDxzdHJpbmc+OiA8VENvbXBpbGVySW5mbz5cblx0aFBvc3RQcm9jZXNzb3JzOiBoYXNob2Y8VFBvc3RQcm9jZXNzb3I+ICAgIyA8c3RyaW5nPjogPFRQb3N0UHJvY2Vzc29yPlxuXHR9XG5cbmV4cG9ydCBpc0NvbXBpbGVyQ29uZmlnIDo9ICh4OiB1bmtub3duKTogeCBpcyBUQ29tcGlsZXJDb25maWcgPT5cblx0cmV0dXJuIGlzSGFzaCh4KSAmJiAoJ2hDb21waWxlcnMnIGluIHgpICYmICgnaFBvc3RQcm9jZXNzb3JzJyBpbiB4KVxuXG5leHBvcnQgdHlwZSBUQ29tcGlsZVJlc3VsdCA9IHtcblx0c3RhdHVzOiBUQ29tcGlsZVN0YXR1c1xuXHRwYXRoOiBzdHJpbmdcblx0bE91dFBhdGhzPzogc3RyaW5nW11cblx0cG9zdFByb2NTdGF0dXM/OiB1bmtub3duXG5cdH1cblxuZXhwb3J0IHR5cGUgVFVuaXRUZXN0UmVzdWx0ID0ge1xuXHRzdHViOiBzdHJpbmdcblx0c3VjY2VzczogYm9vbGVhblxuXHRtc2c/OiBzdHJpbmdcblx0Y29kZT86IG51bWJlclxuXHRzaWduYWw/OiBzdHJpbmdcblx0fVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgYnVpbGQgOj0gKFxuXHRcdG5hbWU6IHN0cmluZyA9ICcqJ1xuXHRcdHB1cnA6IHN0cmluZyA9ICd7bGliLGNtZH0nXG5cdFx0aE9wdGlvbnM6IGhhc2g9e31cblx0XHQpOiB2b2lkID0+XG5cblx0dHlwZSBvcHQgPSB7XG5cdFx0bm9wcDogYm9vbGVhblxuXHRcdH1cblx0e25vcHB9IDo9IGdldE9wdGlvbnM8b3B0PiBoT3B0aW9ucywge1xuXHRcdG5vcHA6IGZhbHNlXG5cdFx0fVxuXG5cdCMgLS0tIEV2ZW4gdGhvdWdoIGl0J3MgYSBjb25zdGFudCwgd2UgY2FuIHN0aWxsXG5cdCMgICAgIGFwcGVuZCBzdHJpbmdzIHRvIGl0IVxuXHRsVW5pdFRlc3RzOiBzdHJpbmdbXSA6PSBbXVxuXG5cdHBhdCA6PSBcIioqLyN7bmFtZX0uI3twdXJwfS5jaXZldFwiXG5cdGZvciBoSW5mbyBvZiBhbGxGaWxlc01hdGNoaW5nKHBhdClcblx0XHR7dHlwZSwgcGF0aCwgZmlsZU5hbWUsIHB1cnBvc2UsIHN0dWIsIHJlbFBhdGh9IDo9IGhJbmZvXG5cdFx0YXNzZXJ0ICh0eXBlID09ICdmaWxlJyksIFwiTm90IGEgZmlsZTogI3twYXRofVwiXG5cdFx0YXNzZXJ0IGlzTm9uRW1wdHlTdHJpbmcoc3R1YiksIFwiRW1wdHkgc3R1YlwiXG5cdFx0TE9HIFwiI3tyZWxQYXRofSAoI3twdXJwb3NlfSlcIlxuXHRcdGlmIG5ld2VyRGVzdEZpbGVFeGlzdHMocmVsUGF0aCwgJy50cycpXG5cdFx0XHRMT0cgXCIgICBFWElTVFNcIjtcblx0XHRlbHNlXG5cdFx0XHQjIC0tLSBDb21waWxlIGNpdmV0IGZpbGUgdG8gVHlwZVNjcmlwdFxuXG5cdFx0XHR7c3VjY2Vzc30gOj0gZXhlY0NtZFN5bmMgJ2NpdmV0JywgW1xuXHRcdFx0XHQnLS1pbmxpbmUtbWFwJ1xuXHRcdFx0XHQnLW8nLCAnLnRzJ1xuXHRcdFx0XHQnLWMnLCByZWxQYXRoXG5cdFx0XHRcdF1cblx0XHRcdGlmIHN1Y2Nlc3Ncblx0XHRcdFx0TE9HIFwiICAgQlVJTEQgT0tcIlxuXG5cdFx0XHRcdCMgLS0tIHR5cGUgY2hlY2sgdGhlIFR5cGVTY3JpcHQgZmlsZVxuXG5cdFx0XHRcdGhSZXN1bHQgOj0gZXhlY0NtZFN5bmMgJ2Rlbm8nLCBbXG5cdFx0XHRcdFx0J2NoZWNrJyxcblx0XHRcdFx0XHQnLXEnLCB3aXRoRXh0KHJlbFBhdGgsICcudHMnKVxuXHRcdFx0XHRcdF1cblx0XHRcdFx0aWYgaFJlc3VsdC5zdWNjZXNzXG5cdFx0XHRcdFx0TE9HIFwiICAgQ0hFQ0sgT0tcIlxuXHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0TE9HIFwiICAgQ0hFQ0sgRkFJTEVEXCJcblx0XHRcdFx0XHRjb250aW51ZSAgICMgZG9uJ3QgaW5zdGFsbCBpZiBhIGNvbW1hbmRcblx0XHRcdGVsc2Vcblx0XHRcdFx0TE9HIFwiICAgQlVJTEQgRkFJTEVEXCJcblx0XHRcdFx0Y29udGludWUgICAjIGRvbid0IGluc3RhbGwgaWYgYSBjb21tYW5kXG5cblx0XHRzd2l0Y2ggcHVycG9zZVxuXHRcdFx0d2hlbiAnY21kJ1xuXHRcdFx0XHR7c3VjY2Vzc30gOj0gZXhlY0NtZFN5bmMgJ2Rlbm8nLCBbXG5cdFx0XHRcdFx0J2luc3RhbGwnXG5cdFx0XHRcdFx0Jy1mZ0EnXG5cdFx0XHRcdFx0Jy1uJywgc3R1YiB8fCAndW5rbm93bidcblx0XHRcdFx0XHQnLS1uby1jb25maWcnXG5cdFx0XHRcdFx0Jy0taW1wb3J0LW1hcCcsICdpbXBvcnRfbWFwLmpzb24nXG5cdFx0XHRcdFx0d2l0aEV4dChyZWxQYXRoLCAnLnRzJylcblx0XHRcdFx0XHRdXG5cdFx0XHRcdExPRyBcIiAgIElOU1RBTEwgI3tzdWNjZXNzID8gJ09LJyA6ICdGQUlMRUQnfVwiXG5cdFx0XHR3aGVuICdsaWInXG5cdFx0XHRcdGlmIGRlZmluZWQoc3R1YikgJiYgbm90IG5vcHBcblx0XHRcdFx0XHRsVW5pdFRlc3RzLnB1c2ggc3R1YlxuXHRMT0dWQUxVRSAnbFVuaXRUZXN0cycsIGxVbml0VGVzdHNcblx0cmV0dXJuXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIC0tLSBXaGF0IGFuIHVnbHkgc3ludGF4LCBidXQgaXQgd29ya3MhIChpLmUuIHR5cGUgbmFycm93cylcblxuYXNzZXJ0SXNDb21waWxlckNvbmZpZzogKHZhbDogdW5rbm93bikgPT4gYXNzZXJ0cyB2YWwgaXMgVENvbXBpbGVyQ29uZmlnIDo9IChcblx0XHR2YWw6IHVua25vd25cblx0XHQpOiBhc3NlcnRzIHZhbCBpcyBUQ29tcGlsZXJDb25maWcgLT5cblxuXHRhc3NlcnQgaXNDb21waWxlckNvbmZpZyh2YWwpLCBcIk5vdCBhIGNvbXBpbGVyIGNvbmZpZ1wiXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBnZXRDb21waWxlckNvbmZpZyA6PSAoXG5cdGZpbGVOYW1lOiBzdHJpbmcgPSAnY29tcGlsZS5jb25maWcuY2l2ZXQnXG5cdCk6IFRDb21waWxlckNvbmZpZyA9PlxuXG5cdHBhdGggOj0gZmluZFNyY0ZpbGUoZmlsZU5hbWUpXG5cdGlmIGRlZmluZWQocGF0aClcblx0XHREQkcgXCJsb2FkIGNvbXBpbGVyIGNvbmZpZyBmcm9tICN7T0wocGF0aCl9XCJcblx0XHRoQ29uZmlnIDo9IGNvbmZpZ0Zyb21GaWxlKHBhdGgpXG5cdFx0YXNzZXJ0SXNDb21waWxlckNvbmZpZyhoQ29uZmlnKVxuXHRcdERCR1ZBTFVFICdoQ29uZmlnJywgaENvbmZpZ1xuXG5cdFx0IyAtLS0gUmVtb3ZlIGFueSBjb21waWxlcnMgZm9yIHdoaWNoIHRoZVxuXHRcdCMgICAgIGNvbXBpbGVyIHNvZnR3YXJlIGhhcyBub3QgYmVlbiBpbnN0YWxsZWRcblxuXHRcdHtoQ29tcGlsZXJzfSA6PSBoQ29uZmlnXG5cdFx0Zm9yIGV4dCBvZiBrZXlzKGhDb21waWxlcnMpXG5cdFx0XHR7dGVzdGVyfSA6PSBoQ29tcGlsZXJzW2V4dF1cblx0XHRcdHB1c2hMb2dMZXZlbCAnc2lsZW50J1xuXHRcdFx0d29ya3MgOj0gdGVzdGVyKClcblx0XHRcdHBvcExvZ0xldmVsKClcblxuXHRcdFx0aWYgbm90IHdvcmtzXG5cdFx0XHRcdERCRyBcIkRlbGV0aW5nIGNvbXBpbGVyIGZvciBleHQgI3tPTChleHQpfVwiXG5cdFx0XHRcdGRlbGV0ZSBoQ29tcGlsZXJzW2V4dF1cblx0XHRyZXR1cm4gaENvbmZpZ1xuXHRlbHNlXG5cdFx0cmV0dXJuIHtcblx0XHRcdGhDb21waWxlcnM6IHtcblx0XHRcdFx0IyAtLS0ga2V5cyBhcmUgZmlsZSBleHRlbnNpb25zXG5cdFx0XHRcdCMgICAgIE5PVEU6IGNvbXBpbGVycyBtdXN0IGJlIHN5bmNocm9ub3VzISEhXG5cblx0XHRcdFx0Jy5zdmVsdGUnOiB7XG5cdFx0XHRcdFx0Z2V0T3V0UGF0aHM6IChwYXRoOiBzdHJpbmcpID0+XG5cdFx0XHRcdFx0XHRyZXR1cm4gW3dpdGhFeHQocGF0aCwgJy5qcycpXVxuXG5cdFx0XHRcdFx0dGVzdGVyOiAoKSA9PlxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWVcblxuXHRcdFx0XHRcdGNvbXBpbGVyOiAocGF0aDogc3RyaW5nKSA9PlxuXHRcdFx0XHRcdFx0anNQYXRoIDo9IHdpdGhFeHQocGF0aCwgJy5qcycpXG5cdFx0XHRcdFx0XHRybUZpbGUganNQYXRoXG5cdFx0XHRcdFx0XHR7anMsIHdhcm5pbmdzfSA6PSBjb21waWxlU3ZlbHRlIHNsdXJwKHBhdGgpLCB7XG5cdFx0XHRcdFx0XHRcdGN1c3RvbUVsZW1lbnQ6IHRydWVcblx0XHRcdFx0XHRcdFx0cnVuZXM6IHRydWVcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0e2NvZGUsIG1hcH0gOj0ganNcblx0XHRcdFx0XHRcdGJhcmYganNQYXRoLCBjb2RlXG5cdFx0XHRcdFx0XHRyZXR1cm4gJ2NvbXBpbGVkJ1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQnLmRvdCc6IHtcblx0XHRcdFx0XHRnZXRPdXRQYXRoczogKHBhdGg6IHN0cmluZykgPT5cblx0XHRcdFx0XHRcdHJldHVybiBbd2l0aEV4dChwYXRoLCAnLnN2ZycpXVxuXG5cdFx0XHRcdFx0dGVzdGVyOiAoKSA9PlxuXHRcdFx0XHRcdFx0cmV0dXJuIGNtZFN1Y2NlZWRzKCdkb3QnLCBbJy0tdmVyc2lvbiddLCBvJ3F1aWV0JylcblxuXHRcdFx0XHRcdGNvbXBpbGVyOiAocGF0aDogc3RyaW5nKSA9PlxuXHRcdFx0XHRcdFx0c3ZnUGF0aCA6PSB3aXRoRXh0KHBhdGgsICcuc3ZnJylcblx0XHRcdFx0XHRcdHJtRmlsZSBzdmdQYXRoXG5cdFx0XHRcdFx0XHRleGVjQ21kU3luYyAnZG90JywgWyctVHN2ZycsIHBhdGhdXG5cdFx0XHRcdFx0XHRyZXR1cm4gJ2NvbXBpbGVkJ1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHQnLmNpZWxvJzoge1xuXG5cdFx0XHRcdFx0IyAtLS0gV2UgcHJvZHVjZSBhbiBpbnRlcm1lZGlhdGUgLmNpdmV0IGZpbGUsXG5cdFx0XHRcdFx0IyAgICAgYnV0IGdpdmUgaXQgYSBwdXJwb3NlIG9mICd0ZW1wJ1xuXHRcdFx0XHRcdCMgICAgIHNvIGl0IHdvbid0IGdldCBjb21waWxlZCBieSB0aGUgY29tcGlsZSBzY3JpcHRcblx0XHRcdFx0XHRnZXRPdXRQYXRoczogKHBhdGg6IHN0cmluZykgPT4gW3dpdGhFeHQocGF0aCwgJy50cycpXVxuXG5cdFx0XHRcdFx0dGVzdGVyOiAoKSA9PlxuXHRcdFx0XHRcdFx0IyAtLS0gd2UgbmVlZCBjaXZldCB0byBiZSBpbnN0YWxsZWRcblx0XHRcdFx0XHRcdHJldHVybiBjbWRTdWNjZWVkcygnY2l2ZXQnLCBbJy0tdmVyc2lvbiddLCBvJ3F1aWV0JylcblxuXHRcdFx0XHRcdGNvbXBpbGVyOiAocGF0aDogc3RyaW5nKSA9PlxuXHRcdFx0XHRcdFx0IyAtLS0gc3RhcnQgd2l0aCBhICouY2llbG8gZmlsZVxuXHRcdFx0XHRcdFx0Y2l2ZXRQYXRoIDo9IHdpdGhFeHQocGF0aCwgJy50ZW1wLmNpdmV0Jylcblx0XHRcdFx0XHRcdHRzUGF0aCA6PSB3aXRoRXh0KHBhdGgsICcudHMnKVxuXG5cdFx0XHRcdFx0XHRybUZpbGUgY2l2ZXRQYXRoICAgICMgLS0tIG5lZWRlZD9cblx0XHRcdFx0XHRcdHJtRmlsZSB0c1BhdGggICAgICAgIyAtLS0gbmVlZGVkP1xuXG5cdFx0XHRcdFx0XHRjaWVsbzJjaXZldEZpbGUgcGF0aCwgY2l2ZXRQYXRoXG5cdFx0XHRcdFx0XHRjaXZldDJ0c0ZpbGUgY2l2ZXRQYXRoLCB0c1BhdGhcblxuXHRcdFx0XHRcdFx0e2ZpbGVOYW1lfSA6PSBwYXJzZVBhdGgocGF0aClcblx0XHRcdFx0XHRcdHBhdGNoRmlyc3RMaW5lIGNpdmV0UGF0aCwgZmlsZU5hbWUsIHdpdGhFeHQoZmlsZU5hbWUsICcudGVtcC5jaXZldCcpXG5cdFx0XHRcdFx0XHRwYXRjaEZpcnN0TGluZSB0c1BhdGgsIGZpbGVOYW1lLCB3aXRoRXh0KGZpbGVOYW1lLCAnLnRzJylcblxuXHRcdFx0XHRcdFx0cmV0dXJuICdjb21waWxlZCdcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0Jy5jaXZldCc6IHtcblxuXHRcdFx0XHRcdGdldE91dFBhdGhzOiAocGF0aDogc3RyaW5nKSA9PlxuXHRcdFx0XHRcdFx0cmV0dXJuIFt3aXRoRXh0KHBhdGgsICcudHMnKV1cblxuXHRcdFx0XHRcdHRlc3RlcjogKCkgPT5cblx0XHRcdFx0XHRcdHJldHVybiBjbWRTdWNjZWVkcygnY2l2ZXQnLCBbJy0tdmVyc2lvbiddLCBvJ3F1aWV0JylcblxuXHRcdFx0XHRcdGNvbXBpbGVyOiAocGF0aDogc3RyaW5nKSA9PlxuXHRcdFx0XHRcdFx0e3B1cnBvc2UsIGZpbGVOYW1lfSA6PSBwYXJzZVBhdGgocGF0aClcblx0XHRcdFx0XHRcdGlmIGRlZmluZWQocHVycG9zZSkgJiYgWyd0ZW1wJywnZGVidWcnXS5pbmNsdWRlcyhwdXJwb3NlKVxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gJ3RlbXAnXG5cblx0XHRcdFx0XHRcdHRzUGF0aCA6PSB3aXRoRXh0KHBhdGgsICcudHMnKVxuXHRcdFx0XHRcdFx0dHNOYW1lIDo9IHdpdGhFeHQoZmlsZU5hbWUsICcudHMnKVxuXG5cdFx0XHRcdFx0XHRjaXZldDJ0c0ZpbGUgcGF0aCwgdHNQYXRoXG5cdFx0XHRcdFx0XHRwYXRjaEZpcnN0TGluZSB0c1BhdGgsIGZpbGVOYW1lLCB0c05hbWVcblx0XHRcdFx0XHRcdHJldHVybiAnY29tcGlsZWQnXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdGhQb3N0UHJvY2Vzc29yczoge1xuXHRcdFx0XHQjIC0tLSBLZXlzIGFyZSBhIHB1cnBvc2VcblxuXHRcdFx0XHQndGVzdCc6IChwYXRoOiBzdHJpbmcpOiB2b2lkID0+XG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0J2xpYic6IChwYXRoOiBzdHJpbmcpOiB2b2lkID0+XG5cdFx0XHRcdFx0e3N0dWJ9IDo9IHBhcnNlUGF0aChwYXRoKVxuXHRcdFx0XHRcdGlmIGRlZmluZWQoc3R1Yilcblx0XHRcdFx0XHRcdGZvciB7c3VjY2Vzc30gb2YgcnVuVW5pdFRlc3RzRm9yKHN0dWIpXG5cdFx0XHRcdFx0XHRcdGlmIG5vdCBzdWNjZXNzXG5cdFx0XHRcdFx0XHRcdFx0V0FSTiBcIlVuaXQgdGVzdCAje3BhdGh9IGZhaWxlZFwiXG5cdFx0XHRcdFx0cmV0dXJuXG5cblx0XHRcdFx0J2NtZCc6IChwYXRoOiBzdHJpbmcpOiB2b2lkID0+XG5cdFx0XHRcdFx0TE9HIFwiLSBpbnN0YWxsaW5nIGNvbW1hbmQgI3twYXRofVwiXG5cdFx0XHRcdFx0aW5zdGFsbENtZCBwYXRoXG5cdFx0XHRcdFx0cmV0dXJuXG5cdFx0XHRcdH1cblx0XHRcdH1cblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgLS0tIHJldHVybnMgYSBUQ29tcGlsZXJJbmZvIG9yIHVuZGVmXG5cbmV4cG9ydCBnZXRDb21waWxlckluZm8gOj0gKFxuXHRcdGV4dDogc3RyaW5nXG5cdFx0KTogVENvbXBpbGVySW5mbz8gPT5cblxuXHRoQ29uZmlnIDo9IGdldENvbXBpbGVyQ29uZmlnKClcblx0aEluZm8gOj0gaENvbmZpZy5oQ29tcGlsZXJzW2V4dF1cblx0aWYgZGVmaW5lZChoSW5mbylcblx0XHRyZXR1cm4gaEluZm9cblx0ZWxzZVxuXHRcdERCRyBcIk5vIGNvbXBpbGVyIGZvciAje2V4dH0gZmlsZXNcIlxuXHRcdHJldHVybiB1bmRlZlxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgZ2V0UG9zdFByb2Nlc3NvciA6PSAoXG5cdFx0cHVycG9zZTogc3RyaW5nXG5cdFx0KTogVFBvc3RQcm9jZXNzb3I/ID0+XG5cblx0aENvbmZpZyA6PSBnZXRDb21waWxlckNvbmZpZygpXG5cdHBwIDo9IGhDb25maWcuaFBvc3RQcm9jZXNzb3JzW3B1cnBvc2VdXG5cdGlmIGRlZmluZWQocHApXG5cdFx0cmV0dXJuIHBwXG5cdGVsc2Vcblx0XHREQkcgXCJObyBwb3N0IHByb2Nlc3NvciBmb3IgI3twdXJwb3NlfSBmaWxlc1wiXG5cdFx0cmV0dXJuIHVuZGVmXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIC0tLSBzcmMgY2FuIGJlIGEgZnVsbCBvciByZWxhdGl2ZSBwYXRoXG4jICAgICB0aHJvd3MgZXJyb3IgaWYgZmlsZSBkb2VzIG5vdCBleGlzdFxuI1xuIyAgICAgUG9zc2libGUgc3RhdHVzIHZhbHVlczpcbiMgICAgICAgICd0ZW1wJyAgICAgICAtIGl0IHdhcyBhIHRlbXAgZmlsZSwgbm90IGNvbXBpbGVkXG4jICAgICAgICAnbm9jb21waWxlcicgLSBoYXMgbm8gY29tcGlsZXIsIG5vdCBjb21waWxlZFxuIyAgICAgICAgJ2V4aXN0cycgICAgIC0gbmV3ZXIgY29tcGlsZWQgZmlsZSBhbHJlYWR5IGV4aXN0c1xuIyAgICAgICAgJ2ZhaWxlZCcgICAgIC0gY29tcGlsaW5nIGZhaWxlZFxuIyAgICAgICAgJ2NvbXBpbGVkJyAgIC0gc3VjY2Vzc2Z1bGx5IGNvbXBpbGVkXG5cbmV4cG9ydCBjb21waWxlRmlsZSA6PSAoXG5cdHBhdGg6IHN0cmluZyxcblx0aE9wdGlvbnM6IGhhc2g9e31cblx0KTogVENvbXBpbGVSZXN1bHQgPT5cblxuXHRhc3NlcnQgaXNGaWxlKHBhdGgpLCBcIk5vIHN1Y2ggZmlsZTogI3tPTChwYXRoKX1cIlxuXHREQkcgXCJDT01QSUxFOiAje09MKHBhdGgpfVwiLCBJTkRFTlRcblxuXHR0eXBlIG9wdCA9IHtcblx0XHRub3BwOiBib29sZWFuXG5cdFx0fVxuXHR7bm9wcH0gOj0gZ2V0T3B0aW9uczxvcHQ+IGhPcHRpb25zLCB7XG5cdFx0bm9wcDogZmFsc2Vcblx0XHR9XG5cblx0e3JlbFBhdGgsIHN0dWIsIHB1cnBvc2UsIGV4dH0gOj0gcGFyc2VQYXRoIHBhdGhcblxuXHRpZiBub3RkZWZpbmVkKGV4dClcblx0XHREQkcgXCJOb3QgY29tcGlsaW5nIC0gbm8gZmlsZSBleHRlbnNpb24gaW4gI3tPTChwYXRoKX1cIiwgVU5ERU5UXG5cdFx0cmV0dXJuIHtzdGF0dXM6ICdub2NvbXBpbGVyJywgcGF0aDogcmVsUGF0aH1cblxuXHRoQ29tcGlsZXJJbmZvIDo9IGdldENvbXBpbGVySW5mbyhleHQpXG5cdGlmIG5vdGRlZmluZWQoaENvbXBpbGVySW5mbylcblx0XHREQkcgXCJOb3QgY29tcGlsaW5nIC0gbm8gY29tcGlsZXIgZm9yICN7T0woZXh0KX1cIiwgVU5ERU5UXG5cdFx0cmV0dXJuIHtzdGF0dXM6ICdub2NvbXBpbGVyJywgcGF0aDogcmVsUGF0aH1cblxuXHR7Y29tcGlsZXIsIGdldE91dFBhdGhzfSA6PSBoQ29tcGlsZXJJbmZvXG5cdGxPdXRQYXRocyA6PSBnZXRPdXRQYXRocyhyZWxQYXRoKVxuXHREQkcgXCJsT3V0UGF0aHMgPSAje09MKGxPdXRQYXRocyl9XCJcblxuXHRsZXQgYWxsTmV3ZXIgPSB0cnVlXG5cdGZvciBvdXRQYXRoIG9mIGxPdXRQYXRoc1xuXHRcdGlmIG5vdCBuZXdlckRlc3RGaWxlRXhpc3RzKHJlbFBhdGgsIG91dFBhdGgpXG5cdFx0XHRhbGxOZXdlciA9IGZhbHNlXG5cdFx0XHRicmVha1xuXHRpZiBhbGxOZXdlclxuXHRcdERCRyBcIk5vdCBjb21waWxpbmcsIG5ld2VyICN7T0wobE91dFBhdGhzKX0gZXhpc3RcIiwgVU5ERU5UXG5cdFx0cmV0dXJuIHtzdGF0dXM6ICdleGlzdHMnLCBwYXRoOiByZWxQYXRoLCBsT3V0UGF0aHN9XG5cblx0REJHIFwiY29tcGlsaW5nICN7T0wocGF0aCl9IHRvICN7T0wobE91dFBhdGhzKX1cIlxuXHRzdGF0dXMgOj0gY29tcGlsZXIgcGF0aFxuXHRsZXQgcG9zdFByb2NTdGF0dXM6IHVua25vd24/ID0gdW5kZWZcblx0aWYgKHN0YXR1cyA9PSAnY29tcGlsZWQnKSAmJiBkZWZpbmVkKHB1cnBvc2UpICYmIG5vdCBub3BwXG5cdFx0cG9zdFByb2MgOj0gZ2V0UG9zdFByb2Nlc3NvcihwdXJwb3NlKVxuXHRcdGlmIGRlZmluZWQocG9zdFByb2MpXG5cdFx0XHREQkcgXCJwb3N0LXByb2Nlc3NpbmcgZmlsZVwiXG5cdFx0XHR0cnlcblx0XHRcdFx0cG9zdFByb2MgcGF0aFxuXHRcdFx0Y2F0Y2ggZXJyXG5cdFx0XHRcdHBvc3RQcm9jU3RhdHVzID0gZXJyXG5cdERCRyBVTkRFTlRcblx0aWYgZGVmaW5lZChwb3N0UHJvY1N0YXR1cylcblx0XHRyZXR1cm4ge3N0YXR1cywgcGF0aDogcmVsUGF0aCwgbE91dFBhdGhzLCBwb3N0UHJvY1N0YXR1c31cblx0ZWxzZVxuXHRcdHJldHVybiB7c3RhdHVzLCBwYXRoOiByZWxQYXRoLCBsT3V0UGF0aHN9XG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIC0tLSBHRU5FUkFUT1JcblxuZXhwb3J0IHJ1blVuaXRUZXN0c0ZvciA6PSAoXG5cdHN0dWI6IG5vbkVtcHR5U3RyaW5nXG5cdGhPcHRpb25zOiBoYXNoPXt9XG5cdCk6IEdlbmVyYXRvcjxUVW5pdFRlc3RSZXN1bHQsIHZvaWQsIHZvaWQ+IC0+XG5cblx0dHlwZSBvcHQgPSB7XG5cdFx0dmVyYm9zZTogYm9vbGVhblxuXHRcdH1cblx0e3ZlcmJvc2V9IDo9IGdldE9wdGlvbnM8b3B0PiBoT3B0aW9ucywge1xuXHRcdHZlcmJvc2U6IGZhbHNlXG5cdFx0fVxuXG5cdERCRyBcIlJ1bm5pbmcgdW5pdCB0ZXN0cyBmb3IgI3tzdHVifVwiXG5cdGlmIG5vdCB2ZXJib3NlXG5cdFx0cHVzaExvZ0xldmVsICdzaWxlbnQnXG5cblx0IyAtLS0gRW5zdXJlIHRoYXQgbWF0Y2hpbmcgbGliICYgY21kIGZpbGVzIGFyZSBjb21waWxlZFxuXHQjICAgICAobm8gZXJyb3IgaWYgdGhlcmUgaXMgbm8gY29tcGlsZXIgZm9yIHRoZSBmaWxlKVxuXHRidWlsZCBzdHViXG4jXHRmb3Ige3BhdGh9IG9mIGFsbEZpbGVzTWF0Y2hpbmcoXCIqKi8je3N0dWJ9LipcIilcbiNcdFx0e3N0YXR1c30gOj0gY29tcGlsZUZpbGUgcGF0aCwgbydub3BwJ1xuI1x0XHRhc3NlcnQgKHN0YXR1cyAhPSAnZmFpbGVkJyksIFwiY29tcGlsZSBvZiAje3BhdGh9IGZhaWxlZFwiXG5cblx0IyAtLS0gQ29tcGlsZSBhbmQgcnVuIGFsbCB1bml0IHRlc3RzIGZvciBzdHViXG5cdGZvciB7cGF0aH0gb2YgYWxsRmlsZXNNYXRjaGluZyhcIioqLyN7c3R1Yn0qLnRlc3QuKlwiKVxuXHRcdHtzdGF0dXMsIGxPdXRQYXRoc30gOj0gY29tcGlsZUZpbGUgcGF0aCwgbydub3BwJ1xuXHRcdGFzc2VydCAoc3RhdHVzICE9ICdmYWlsZWQnKSwgXCJjb21waWxlIG9mICN7cGF0aH0gZmFpbGVkXCJcblx0XHRpZiBub3RkZWZpbmVkKGxPdXRQYXRocylcblx0XHRcdGNvbnRpbnVlXG5cdFx0Zm9yIG91dFBhdGggb2YgbE91dFBhdGhzXG5cdFx0XHRhc3NlcnQgaXNGaWxlKG91dFBhdGgpLCBcIkZpbGUgI3tPTChvdXRQYXRoKX0gbm90IGZvdW5kXCJcblxuXHRcdCMgLS0tIENvbXBpbGUgYWxsIGZpbGVzIGluIHN1YmRpciBpZiBpdCBleGlzdHNcblx0XHRpZiBpc0RpcihcInRlc3QvI3tzdHVifVwiKVxuXHRcdFx0Zm9yIHtwYXRofSBvZiBhbGxGaWxlc01hdGNoaW5nKFwidGVzdC8je3N0dWJ9LypcIilcblx0XHRcdFx0e3N0YXR1cywgbE91dFBhdGhzfSA6PSBjb21waWxlRmlsZSBwYXRoXG5cdFx0XHRcdGFzc2VydCAoc3RhdHVzICE9ICdmYWlsZWQnKSwgXCJDb21waWxlIG9mICN7cGF0aH0gZmFpbGVkXCJcblx0XHRcdFx0aWYgbm90ZGVmaW5lZChsT3V0UGF0aHMpXG5cdFx0XHRcdFx0V0FSTiBcIkZpbGUgI3tPTChwYXRoKX0gbm90IGNvbXBpbGVkIHRvICN7T0wobE91dFBhdGhzKX1cIlxuXG5cdFx0IyAtLS0gUnVuIHRoZSB1bml0IHRlc3RzLCB5aWVsZCByZXN1bHRzXG5cdFx0Zm9yIG91dFBhdGggb2YgbE91dFBhdGhzXG5cdFx0XHR7c3VjY2VzcywgY29kZSwgc2lnbmFsfSA6PSBleGVjQ21kU3luYyAnZGVubycsIFtcblx0XHRcdFx0XHQndGVzdCcsXG5cdFx0XHRcdFx0Jy1xQScsXG5cdFx0XHRcdFx0b3V0UGF0aFxuXHRcdFx0XHRcdF1cblx0XHRcdHlpZWxkIHtzdHViLCBzdWNjZXNzLCBjb2RlLCBzaWduYWx9XG5cdGlmIG5vdCB2ZXJib3NlXG5cdFx0cG9wTG9nTGV2ZWwoKVxuXHRyZXR1cm5cblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgLS0tIEdFTkVSQVRPUlxuXG5leHBvcnQgcnVuQWxsVW5pdFRlc3RzIDo9IChcblx0XHQpOiBHZW5lcmF0b3I8VFVuaXRUZXN0UmVzdWx0LCB2b2lkLCB2b2lkPiAtPlxuXG5cdERCRyBcIlJ1bm5pbmcgYWxsIHVuaXQgdGVzdHNcIlxuXG5cdGhHbG9iT3B0aW9ucyA6PSB7XG5cdFx0ZXhjbHVkZTogWydub2RlX21vZHVsZXMvKionLCAnLmdpdC8qKiddXG5cdFx0fVxuXG5cdHBhdHRlcm4gOj0gJyoqLyoue2xpYixjbWR9LnRzJ1xuXHREQkcgXCJwYXR0ZXJuID0gI3tPTChwYXR0ZXJuKX1cIlxuXHRmb3Ige3BhdGgsIHN0dWJ9IG9mIGFsbEZpbGVzTWF0Y2hpbmcocGF0dGVybiwgaEdsb2JPcHRpb25zKVxuXHRcdGlmIChzdHViID09IHVuZGVmKVxuXHRcdFx0V0FSTiBcIk5vIHN0dWIgZm91bmQgaW4gI3tPTChwYXRoKX1cIlxuXHRcdGVsc2Vcblx0XHRcdERCRyBcIlVOSVQgVEVTVDogI3twYXRofVwiXG5cdFx0XHRmb3IgaFJlc3VsdCBvZiBydW5Vbml0VGVzdHNGb3Ioc3R1Yilcblx0XHRcdFx0eWllbGQgaFJlc3VsdFxuXHRyZXR1cm5cblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgQVNZTkNcblxuZXhwb3J0IGluc3RhbGxDbWQgOj0gKFxuXHRcdHBhdGg6IHN0cmluZ1xuXHRcdG5hbWU6IHN0cmluZz8gPSB1bmRlZlxuXHRcdCk6IHZvaWQgPT5cblxuXHRpZiBub3RkZWZpbmVkKG5hbWUpXG5cdFx0YXdhaXQgZXhlY0NtZCAnZGVubycsIFtcblx0XHRcdCdpbnN0YWxsJ1xuXHRcdFx0Jy1mZ0EnXG5cdFx0XHQnLS1jb25maWcnXG5cdFx0XHQnZGVuby5qc29uYydcblx0XHRcdHBhdGhcblx0XHRcdF1cblx0ZWxzZVxuXHRcdGF3YWl0IGV4ZWNDbWQgJ2Rlbm8nLCBbXG5cdFx0XHQnaW5zdGFsbCdcblx0XHRcdCctZmdBJ1xuXHRcdFx0Jy1uJ1xuXHRcdFx0bmFtZVxuXHRcdFx0Jy0tY29uZmlnJ1xuXHRcdFx0J2Rlbm8uanNvbmMnXG5cdFx0XHRwYXRoXG5cdFx0XHRdXG5cdHJldHVyblxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBBU1lOQ1xuXG5leHBvcnQgdW5pbnN0YWxsQ21kIDo9IChcblx0XHRwYXRoOiBzdHJpbmdcblx0XHRuYW1lOiBzdHJpbmc/ID0gdW5kZWZcblx0XHQpOiB2b2lkID0+XG5cblx0aWYgbm90ZGVmaW5lZChuYW1lKVxuXHRcdGF3YWl0IGV4ZWNDbWQgJ2Rlbm8nLCBbXG5cdFx0XHQndW5pbnN0YWxsJ1xuXHRcdFx0Jy1nJ1xuXHRcdFx0cGF0aFxuXHRcdFx0XVxuXHRlbHNlXG5cdFx0YXdhaXQgZXhlY0NtZCAnZGVubycsIFtcblx0XHRcdCd1bmluc3RhbGwnXG5cdFx0XHQnLWcnXG5cdFx0XHQnLW4nXG5cdFx0XHRuYW1lXG5cdFx0XHRwYXRoXG5cdFx0XHRdXG5cdHJldHVyblxuIl19