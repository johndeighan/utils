"use strict";
// automate.lib.civet

type AutoPromise<T> = Promise<Awaited<T>>;
import {
	compile as compileSvelte,
	} from 'npm:svelte/compiler'

import {
	undef, defined, notdefined, assert, croak, TAssertFunc,
	isEmpty, nonEmpty, isInteger,
	nonEmptyString, isNonEmptyString,
	hash, hashof, isHash, integer,
	} from 'datatypes'
import {
	words, allMatches, o, OL, keys, getOptions,
	} from 'llutils'
import {
	LOG, LOGVALUE, DBG, DBGVALUE, WARN, INDENT, UNDENT,
	pushLogLevel, popLogLevel,
	} from 'logger'
import {TextTable} from 'text-table'
import {
	TPathInfo, slurp, barf, patchFirstLine, parsePath,
	isFile, isDir, rmFile, findSrcFile,
	withExt, newerDestFileExists, allFilesMatching,
	} from 'fsys'
import {execCmd, execCmdSync, cmdSucceeds} from 'exec'
import {cielo2civetFile, configFromFile} from 'cielo'
import {civet2tsFile, compileCivetFiles} from 'civet'

// ---------------------------------------------------------------------------
// Please, no dependencies on the directory structure!
// ---------------------------------------------------------------------------

export type TTesterFunc = () => boolean

export type TCompileStatus =
	'temp'       |    // --- it's an intermediate file, not compiled
	'nocompiler' |    //     no compiler configured for this file
	'exists'     |    //     newer output files exist, not compiled
	'failed'     |    //     compiling failed
	'compiled'        //     compiling succeeded, output file exists

export type TCompilerFunc = (path: string) => TCompileStatus
export type TPostProcessor = (path: string) => void

export type TCompilerInfo = {
	tester: TTesterFunc
	compiler: TCompilerFunc
	getOutPaths: (path: string) => string[]
	}

export const isCompilerInfo = (x: unknown): x is TCompilerInfo => {
	return isHash(x) && ('tester' in x) && ('compiler' in x) && ('getOutPaths' in x)
}

export type TCompilerConfig = {
	hCompilers: hashof<TCompilerInfo>         // <string>: <TCompilerInfo>
	hPostProcessors: hashof<TPostProcessor>   // <string>: <TPostProcessor>
	}

export const isCompilerConfig = (x: unknown): x is TCompilerConfig => {
	return isHash(x) && ('hCompilers' in x) && ('hPostProcessors' in x)
}

export type TCompileResult = {
	status: TCompileStatus
	path: string
	lOutPaths?: string[]
	postProcStatus?: unknown
	}

export type TUnitTestResult = {
	stub: string
	success: boolean
	msg?: string
	code?: number
	signal?: string
	}

// ---------------------------------------------------------------------------

export const build = (
		name: string = '*',
		purp: string = '{lib,cmd}',
		hOptions: hash={}
		): void => {

	type opt = {
		nopp: boolean
		}
	const {nopp} = getOptions<opt>(hOptions, {
		nopp: false
		})

	// --- Even though it's a constant, we can still
	//     append strings to it!
	const lUnitTests: string[] = []

	const pat = `**/${name}.${purp}.civet`
	for (const hInfo of allFilesMatching(pat)) {
		const {type, path, fileName, purpose, stub, relPath} = hInfo
		assert((type === 'file'), `Not a file: ${path}`)
		assert(isNonEmptyString(stub), "Empty stub")
		LOG(`${relPath} (${purpose})`)
		if (newerDestFileExists(relPath, '.ts')) {
			LOG("   EXISTS");
		}
		else {
			// --- Compile civet file to TypeScript

			const {success} = execCmdSync('civet', [
				'--inline-map',
				'-o', '.ts',
				'-c', relPath
				])
			if (success) {
				LOG("   BUILD OK")

				// --- type check the TypeScript file

				const hResult = execCmdSync('deno', [
					'check',
					'-q', withExt(relPath, '.ts')
					])
				if (hResult.success) {
					LOG("   CHECK OK")
				}
				else {
					LOG("   CHECK FAILED")
					continue
				}
			}   // don't install if a command
			else {
				LOG("   BUILD FAILED")
				continue
			}
		}   // don't install if a command

		switch(purpose) {
			case 'cmd': {
				const {success} = execCmdSync('deno', [
					'install',
					'-fgA',
					'-n', stub || 'unknown',
					'--no-config',
					'--import-map', 'import_map.jsonc',
					withExt(relPath, '.ts')
					])
				LOG(`   INSTALL ${success ? 'OK' : 'FAILED'}`);break;
			}
			case 'lib': {
				if (defined(stub) && !nopp) {
					lUnitTests.push(stub)
				};break;
			}
		}
	}
	LOGVALUE('lUnitTests', lUnitTests)
	return
}

// ---------------------------------------------------------------------------
// --- What an ugly syntax, but it works! (i.e. type narrows)

const assertIsCompilerConfig: (val: unknown) => asserts val is TCompilerConfig = function(
		val: unknown
		): asserts val is TCompilerConfig {

	assert(isCompilerConfig(val), "Not a compiler config")
}

// ---------------------------------------------------------------------------

export const getCompilerConfig = (
	fileName: string = 'compile.config.civet'
	): TCompilerConfig => {

	const path = findSrcFile(fileName)
	if (defined(path)) {
		DBG(`load compiler config from ${OL(path)}`)
		const hConfig = configFromFile(path)
		assertIsCompilerConfig(hConfig)
		DBGVALUE('hConfig', hConfig)

		// --- Remove any compilers for which the
		//     compiler software has not been installed

		const {hCompilers} = hConfig
		for (const ext of keys(hCompilers)) {
			const {tester} = hCompilers[ext]
			pushLogLevel('silent')
			const works = tester()
			popLogLevel()

			if (!works) {
				DBG(`Deleting compiler for ext ${OL(ext)}`)
				delete hCompilers[ext]
			}
		}
		return hConfig
	}
	else {
		return {
			hCompilers: {
				// --- keys are file extensions
				//     NOTE: compilers must be synchronous!!!

				'.svelte': {
					getOutPaths: (path: string) => {
						return [withExt(path, '.js')]
					},

					tester: () => {
						return true
					},

					compiler: (path: string) => {
						const jsPath = withExt(path, '.js')
						rmFile(jsPath)
						const {js, warnings} = compileSvelte(slurp(path), {
							customElement: true,
							runes: true
							})
						const {code, map} = js
						barf(jsPath, code)
						return 'compiled'
					}
					},

				'.dot': {
					getOutPaths: (path: string) => {
						return [withExt(path, '.svg')]
					},

					tester: () => {
						return cmdSucceeds('dot', ['--version'], o`quiet`)
					},

					compiler: (path: string) => {
						const svgPath = withExt(path, '.svg')
						rmFile(svgPath)
						execCmdSync('dot', ['-Tsvg', path])
						return 'compiled'
					}
					},

				'.cielo': {

					// --- We produce an intermediate .civet file,
					//     but give it a purpose of 'temp'
					//     so it won't get compiled by the compile script
					getOutPaths: (path: string) => [withExt(path, '.ts')],

					tester: () => {
						// --- we need civet to be installed
						return cmdSucceeds('civet', ['--version'], o`quiet`)
					},

					compiler: (path: string) => {
						// --- start with a *.cielo file
						const civetPath = withExt(path, '.temp.civet')
						const tsPath = withExt(path, '.ts')

						rmFile(civetPath)    // --- needed?
						rmFile(tsPath)       // --- needed?

						cielo2civetFile(path, civetPath)
						civet2tsFile(civetPath, tsPath)

						const {fileName} = parsePath(path)
						patchFirstLine(civetPath, fileName, withExt(fileName, '.temp.civet'))
						patchFirstLine(tsPath, fileName, withExt(fileName, '.ts'))

						return 'compiled'
					}
					},

				'.civet': {

					getOutPaths: (path: string) => {
						return [withExt(path, '.ts')]
					},

					tester: () => {
						return cmdSucceeds('civet', ['--version'], o`quiet`)
					},

					compiler: (path: string) => {
						const {purpose, fileName} = parsePath(path)
						if (defined(purpose) && ['temp','debug'].includes(purpose)) {
							return 'temp'
						}

						const tsPath = withExt(path, '.ts')
						const tsName = withExt(fileName, '.ts')

						civet2tsFile(path, tsPath)
						patchFirstLine(tsPath, fileName, tsName)
						return 'compiled'
					}
					}
				},

			hPostProcessors: {
				// --- Keys are a purpose

				'test': (path: string): void => {
					return
				},

				'lib': (path: string): void => {
					const {stub} = parsePath(path)
					if (defined(stub)) {
						for (const {success} of runUnitTestsFor(stub)) {
							if (!success) {
								WARN(`Unit test ${path} failed`)
							}
						}
					}
					return
				},

				'cmd': (path: string): void => {
					LOG(`- installing command ${path}`)
					installCmd(path)
					return
				}
				}
			}
	}
}

// ---------------------------------------------------------------------------
// --- returns a TCompilerInfo or undef

export const getCompilerInfo = (
		ext: string
		): (TCompilerInfo | undefined) => {

	const hConfig = getCompilerConfig()
	const hInfo = hConfig.hCompilers[ext]
	if (defined(hInfo)) {
		return hInfo
	}
	else {
		DBG(`No compiler for ${ext} files`)
		return undef
	}
}

// ---------------------------------------------------------------------------

export const getPostProcessor = (
		purpose: string
		): (TPostProcessor | undefined) => {

	const hConfig = getCompilerConfig()
	const pp = hConfig.hPostProcessors[purpose]
	if (defined(pp)) {
		return pp
	}
	else {
		DBG(`No post processor for ${purpose} files`)
		return undef
	}
}

// ---------------------------------------------------------------------------
// --- src can be a full or relative path
//     throws error if file does not exist
//
//     Possible status values:
//        'temp'       - it was a temp file, not compiled
//        'nocompiler' - has no compiler, not compiled
//        'exists'     - newer compiled file already exists
//        'failed'     - compiling failed
//        'compiled'   - successfully compiled

export const compileFile = (
	path: string,
	hOptions: hash={}
	): TCompileResult => {

	assert(isFile(path), `No such file: ${OL(path)}`)
	DBG(`COMPILE: ${OL(path)}`, INDENT)

	type opt = {
		nopp: boolean
		}
	const {nopp} = getOptions<opt>(hOptions, {
		nopp: false
		})

	const {relPath, stub, purpose, ext} = parsePath(path)

	if (notdefined(ext)) {
		DBG(`Not compiling - no file extension in ${OL(path)}`, UNDENT)
		return {status: 'nocompiler', path: relPath}
	}

	const hCompilerInfo = getCompilerInfo(ext)
	if (notdefined(hCompilerInfo)) {
		DBG(`Not compiling - no compiler for ${OL(ext)}`, UNDENT)
		return {status: 'nocompiler', path: relPath}
	}

	const {compiler, getOutPaths} = hCompilerInfo
	const lOutPaths = getOutPaths(relPath)
	DBG(`lOutPaths = ${OL(lOutPaths)}`)

	let allNewer = true
	for (const outPath of lOutPaths) {
		if (!newerDestFileExists(relPath, outPath)) {
			allNewer = false
			break
		}
	}
	if (allNewer) {
		DBG(`Not compiling, newer ${OL(lOutPaths)} exist`, UNDENT)
		return {status: 'exists', path: relPath, lOutPaths}
	}

	DBG(`compiling ${OL(path)} to ${OL(lOutPaths)}`)
	const status = compiler(path)
	let postProcStatus: (unknown | undefined) = undef
	if ((status === 'compiled') && defined(purpose) && !nopp) {
		const postProc = getPostProcessor(purpose)
		if (defined(postProc)) {
			DBG("post-processing file")
			try {
				postProc(path)
			}
			catch (err) {
				postProcStatus = err
			}
		}
	}
	DBG(UNDENT)
	if (defined(postProcStatus)) {
		return {status, path: relPath, lOutPaths, postProcStatus}
	}
	else {
		return {status, path: relPath, lOutPaths}
	}
}

// ---------------------------------------------------------------------------
// --- GENERATOR

export const runUnitTestsFor = function*(
	stub: nonEmptyString,
	hOptions: hash={}
	): Generator<TUnitTestResult, void, void> {

	type opt = {
		verbose: boolean
		}
	const {verbose} = getOptions<opt>(hOptions, {
		verbose: false
		})

	DBG(`Running unit tests for ${stub}`)
	if (!verbose) {
		pushLogLevel('silent')
	}

	// --- Ensure that matching lib & cmd files are compiled
	//     (no error if there is no compiler for the file)
	build(stub)
//	for {path} of allFilesMatching("**/#{stub}.*")
//		{status} := compileFile path, o'nopp'
//		assert (status != 'failed'), "compile of #{path} failed"

	// --- Compile and run all unit tests for stub
	for (const {path} of allFilesMatching(`**/${stub}*.test.*`)) {
		const {status, lOutPaths} = compileFile(path, o`nopp`)
		assert((status !== 'failed'), `compile of ${path} failed`)
		if (notdefined(lOutPaths)) {
			continue
		}
		for (const outPath of lOutPaths) {
			assert(isFile(outPath), `File ${OL(outPath)} not found`)
		}

		// --- Compile all files in subdir if it exists
		if (isDir(`test/${stub}`)) {
			for (const {path} of allFilesMatching(`test/${stub}/*`)) {
				const {status, lOutPaths} = compileFile(path)
				assert((status !== 'failed'), `Compile of ${path} failed`)
				if (notdefined(lOutPaths)) {
					WARN(`File ${OL(path)} not compiled to ${OL(lOutPaths)}`)
				}
			}
		}

		// --- Run the unit tests, yield results
		for (const outPath of lOutPaths) {
			const {success, code, signal} = execCmdSync('deno', [
					'test',
					'-qA',
					outPath
					])
			yield {stub, success, code, signal}
		}
	}
	if (!verbose) {
		popLogLevel()
	}
	return
}

// ---------------------------------------------------------------------------
// --- GENERATOR

export const runAllUnitTests = function*(
		): Generator<TUnitTestResult, void, void> {

	DBG("Running all unit tests")

	const hGlobOptions = {
		exclude: ['node_modules/**', '.git/**']
		}

	const pattern = '**/*.{lib,cmd}.ts'
	DBG(`pattern = ${OL(pattern)}`)
	for (const {path, stub} of allFilesMatching(pattern, hGlobOptions)) {
		if (stub === undef) {
			WARN(`No stub found in ${OL(path)}`)
		}
		else {
			DBG(`UNIT TEST: ${path}`)
			for (const hResult of runUnitTestsFor(stub)) {
				yield hResult
			}
		}
	}
	return
}

// ---------------------------------------------------------------------------
// ASYNC

export const installCmd = async (
		path: string,
		name: (string | undefined) = undef
		): AutoPromise<void> => {

	if (notdefined(name)) {
		await execCmd('deno', [
			'install',
			'-fgA',
			'--config',
			'deno.jsonc',
			path
			])
	}
	else {
		await execCmd('deno', [
			'install',
			'-fgA',
			'-n',
			name,
			'--config',
			'deno.jsonc',
			path
			])
	}
	return
}

// ---------------------------------------------------------------------------
// ASYNC

export const uninstallCmd = async (
		path: string,
		name: (string | undefined) = undef
		): AutoPromise<void> => {

	if (notdefined(name)) {
		await execCmd('deno', [
			'uninstall',
			'-g',
			path
			])
	}
	else {
		await execCmd('deno', [
			'uninstall',
			'-g',
			'-n',
			name,
			path
			])
	}
	return
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcbGliXFxhdXRvbWF0ZS5saWIuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGpvaG5kXFx1dGlsc1xcc3JjXFxsaWJcXGF1dG9tYXRlLmxpYi5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLHFCQUFvQjtBQUNwQixBQUFBO0FBQ0EsSyxXLHlCO0FBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDO0FBQzFCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxxQkFBcUI7QUFDN0IsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQ3hELENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQzlCLENBQUMsY0FBYyxDQUFDLENBQUMsZ0JBQWdCLENBQUM7QUFDbEMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUM7QUFDL0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVc7QUFDbkIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUM7QUFDNUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVM7QUFDakIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxN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LENBQUMsQ0FBRSxDLE1BQUMsQ0FBQztBQUN4QixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQ2QsQUFBQSxFQUFFLElBQUksQyxDLENBQUMsQUFBQyxNLFksQ0FBTyxDQUFDLENBQUMsQ0FBQyxLQUFLO0FBQ3ZCLEVBQUUsQ0FBQyxDLEMsVyxDQUFDLEFBQUMsSSxDQUFJLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDWixBQUFBO0FBQ0EsQUFBQSxDQUFDLEdBQUcsQ0FBQSxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ3BCLEFBQUEsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFBLEFBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUN6QixBQUFBLEdBQUcsV0FBVyxDQUFBO0FBQ2QsQUFBQSxHQUFHLElBQUksQ0FBQTtBQUNQLEFBQUEsR0FBRyxJQUFJO0FBQ1AsQUFBQSxHQUFHLENBQUMsQztDQUFBLENBQUE7QUFDSixBQUFBLENBQUMsSUFBSSxDQUFBLENBQUE7QUFDTCxBQUFBLEVBQUUsS0FBSyxDQUFDLE9BQU8sQ0FBQSxBQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7QUFDekIsQUFBQSxHQUFHLFdBQVcsQ0FBQTtBQUNkLEFBQUEsR0FBRyxJQUFJLENBQUE7QUFDUCxBQUFBLEdBQUcsSUFBSSxDQUFBO0FBQ1AsQUFBQSxHQUFHLElBQUksQ0FBQTtBQUNQLEFBQUEsR0FBRyxJQUFJO0FBQ1AsQUFBQSxHQUFHLENBQUMsQztDQUFBLENBQUE7QUFDSixBQUFBLENBQUMsTTtBQUFNLENBQUE7QUFDUCIsIm5hbWVzIjpbXSwic291cmNlc0NvbnRlbnQiOlsiIyBhdXRvbWF0ZS5saWIuY2l2ZXRcclxuXHJcbmltcG9ydCB7XHJcblx0Y29tcGlsZSBhcyBjb21waWxlU3ZlbHRlLFxyXG5cdH0gZnJvbSAnbnBtOnN2ZWx0ZS9jb21waWxlcidcclxuXHJcbmltcG9ydCB7XHJcblx0dW5kZWYsIGRlZmluZWQsIG5vdGRlZmluZWQsIGFzc2VydCwgY3JvYWssIFRBc3NlcnRGdW5jLFxyXG5cdGlzRW1wdHksIG5vbkVtcHR5LCBpc0ludGVnZXIsXHJcblx0bm9uRW1wdHlTdHJpbmcsIGlzTm9uRW1wdHlTdHJpbmcsXHJcblx0aGFzaCwgaGFzaG9mLCBpc0hhc2gsIGludGVnZXIsXHJcblx0fSBmcm9tICdkYXRhdHlwZXMnXHJcbmltcG9ydCB7XHJcblx0d29yZHMsIGFsbE1hdGNoZXMsIG8sIE9MLCBrZXlzLCBnZXRPcHRpb25zLFxyXG5cdH0gZnJvbSAnbGx1dGlscydcclxuaW1wb3J0IHtcclxuXHRMT0csIExPR1ZBTFVFLCBEQkcsIERCR1ZBTFVFLCBXQVJOLCBJTkRFTlQsIFVOREVOVCxcclxuXHRwdXNoTG9nTGV2ZWwsIHBvcExvZ0xldmVsLFxyXG5cdH0gZnJvbSAnbG9nZ2VyJ1xyXG5pbXBvcnQge1RleHRUYWJsZX0gZnJvbSAndGV4dC10YWJsZSdcclxuaW1wb3J0IHtcclxuXHRUUGF0aEluZm8sIHNsdXJwLCBiYXJmLCBwYXRjaEZpcnN0TGluZSwgcGFyc2VQYXRoLFxyXG5cdGlzRmlsZSwgaXNEaXIsIHJtRmlsZSwgZmluZFNyY0ZpbGUsXHJcblx0d2l0aEV4dCwgbmV3ZXJEZXN0RmlsZUV4aXN0cywgYWxsRmlsZXNNYXRjaGluZyxcclxuXHR9IGZyb20gJ2ZzeXMnXHJcbmltcG9ydCB7ZXhlY0NtZCwgZXhlY0NtZFN5bmMsIGNtZFN1Y2NlZWRzfSBmcm9tICdleGVjJ1xyXG5pbXBvcnQge2NpZWxvMmNpdmV0RmlsZSwgY29uZmlnRnJvbUZpbGV9IGZyb20gJ2NpZWxvJ1xyXG5pbXBvcnQge2NpdmV0MnRzRmlsZSwgY29tcGlsZUNpdmV0RmlsZXN9IGZyb20gJ2NpdmV0J1xyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyBQbGVhc2UsIG5vIGRlcGVuZGVuY2llcyBvbiB0aGUgZGlyZWN0b3J5IHN0cnVjdHVyZSFcclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCB0eXBlIFRUZXN0ZXJGdW5jID0gKCkgPT4gYm9vbGVhblxyXG5cclxuZXhwb3J0IHR5cGUgVENvbXBpbGVTdGF0dXMgPVxyXG5cdCd0ZW1wJyAgICAgICB8ICAgICMgLS0tIGl0J3MgYW4gaW50ZXJtZWRpYXRlIGZpbGUsIG5vdCBjb21waWxlZFxyXG5cdCdub2NvbXBpbGVyJyB8ICAgICMgICAgIG5vIGNvbXBpbGVyIGNvbmZpZ3VyZWQgZm9yIHRoaXMgZmlsZVxyXG5cdCdleGlzdHMnICAgICB8ICAgICMgICAgIG5ld2VyIG91dHB1dCBmaWxlcyBleGlzdCwgbm90IGNvbXBpbGVkXHJcblx0J2ZhaWxlZCcgICAgIHwgICAgIyAgICAgY29tcGlsaW5nIGZhaWxlZFxyXG5cdCdjb21waWxlZCcgICAgICAgICMgICAgIGNvbXBpbGluZyBzdWNjZWVkZWQsIG91dHB1dCBmaWxlIGV4aXN0c1xyXG5cclxuZXhwb3J0IHR5cGUgVENvbXBpbGVyRnVuYyA9IChwYXRoOiBzdHJpbmcpID0+IFRDb21waWxlU3RhdHVzXHJcbmV4cG9ydCB0eXBlIFRQb3N0UHJvY2Vzc29yID0gKHBhdGg6IHN0cmluZykgPT4gdm9pZFxyXG5cclxuZXhwb3J0IHR5cGUgVENvbXBpbGVySW5mbyA9IHtcclxuXHR0ZXN0ZXI6IFRUZXN0ZXJGdW5jXHJcblx0Y29tcGlsZXI6IFRDb21waWxlckZ1bmNcclxuXHRnZXRPdXRQYXRoczogKHBhdGg6IHN0cmluZykgPT4gc3RyaW5nW11cclxuXHR9XHJcblxyXG5leHBvcnQgaXNDb21waWxlckluZm8gOj0gKHg6IHVua25vd24pOiB4IGlzIFRDb21waWxlckluZm8gPT5cclxuXHRyZXR1cm4gaXNIYXNoKHgpICYmICgndGVzdGVyJyBpbiB4KSAmJiAoJ2NvbXBpbGVyJyBpbiB4KSAmJiAoJ2dldE91dFBhdGhzJyBpbiB4KVxyXG5cclxuZXhwb3J0IHR5cGUgVENvbXBpbGVyQ29uZmlnID0ge1xyXG5cdGhDb21waWxlcnM6IGhhc2hvZjxUQ29tcGlsZXJJbmZvPiAgICAgICAgICMgPHN0cmluZz46IDxUQ29tcGlsZXJJbmZvPlxyXG5cdGhQb3N0UHJvY2Vzc29yczogaGFzaG9mPFRQb3N0UHJvY2Vzc29yPiAgICMgPHN0cmluZz46IDxUUG9zdFByb2Nlc3Nvcj5cclxuXHR9XHJcblxyXG5leHBvcnQgaXNDb21waWxlckNvbmZpZyA6PSAoeDogdW5rbm93bik6IHggaXMgVENvbXBpbGVyQ29uZmlnID0+XHJcblx0cmV0dXJuIGlzSGFzaCh4KSAmJiAoJ2hDb21waWxlcnMnIGluIHgpICYmICgnaFBvc3RQcm9jZXNzb3JzJyBpbiB4KVxyXG5cclxuZXhwb3J0IHR5cGUgVENvbXBpbGVSZXN1bHQgPSB7XHJcblx0c3RhdHVzOiBUQ29tcGlsZVN0YXR1c1xyXG5cdHBhdGg6IHN0cmluZ1xyXG5cdGxPdXRQYXRocz86IHN0cmluZ1tdXHJcblx0cG9zdFByb2NTdGF0dXM/OiB1bmtub3duXHJcblx0fVxyXG5cclxuZXhwb3J0IHR5cGUgVFVuaXRUZXN0UmVzdWx0ID0ge1xyXG5cdHN0dWI6IHN0cmluZ1xyXG5cdHN1Y2Nlc3M6IGJvb2xlYW5cclxuXHRtc2c/OiBzdHJpbmdcclxuXHRjb2RlPzogbnVtYmVyXHJcblx0c2lnbmFsPzogc3RyaW5nXHJcblx0fVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBidWlsZCA6PSAoXHJcblx0XHRuYW1lOiBzdHJpbmcgPSAnKidcclxuXHRcdHB1cnA6IHN0cmluZyA9ICd7bGliLGNtZH0nXHJcblx0XHRoT3B0aW9uczogaGFzaD17fVxyXG5cdFx0KTogdm9pZCA9PlxyXG5cclxuXHR0eXBlIG9wdCA9IHtcclxuXHRcdG5vcHA6IGJvb2xlYW5cclxuXHRcdH1cclxuXHR7bm9wcH0gOj0gZ2V0T3B0aW9uczxvcHQ+IGhPcHRpb25zLCB7XHJcblx0XHRub3BwOiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHQjIC0tLSBFdmVuIHRob3VnaCBpdCdzIGEgY29uc3RhbnQsIHdlIGNhbiBzdGlsbFxyXG5cdCMgICAgIGFwcGVuZCBzdHJpbmdzIHRvIGl0IVxyXG5cdGxVbml0VGVzdHM6IHN0cmluZ1tdIDo9IFtdXHJcblxyXG5cdHBhdCA6PSBcIioqLyN7bmFtZX0uI3twdXJwfS5jaXZldFwiXHJcblx0Zm9yIGhJbmZvIG9mIGFsbEZpbGVzTWF0Y2hpbmcocGF0KVxyXG5cdFx0e3R5cGUsIHBhdGgsIGZpbGVOYW1lLCBwdXJwb3NlLCBzdHViLCByZWxQYXRofSA6PSBoSW5mb1xyXG5cdFx0YXNzZXJ0ICh0eXBlID09ICdmaWxlJyksIFwiTm90IGEgZmlsZTogI3twYXRofVwiXHJcblx0XHRhc3NlcnQgaXNOb25FbXB0eVN0cmluZyhzdHViKSwgXCJFbXB0eSBzdHViXCJcclxuXHRcdExPRyBcIiN7cmVsUGF0aH0gKCN7cHVycG9zZX0pXCJcclxuXHRcdGlmIG5ld2VyRGVzdEZpbGVFeGlzdHMocmVsUGF0aCwgJy50cycpXHJcblx0XHRcdExPRyBcIiAgIEVYSVNUU1wiO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHQjIC0tLSBDb21waWxlIGNpdmV0IGZpbGUgdG8gVHlwZVNjcmlwdFxyXG5cclxuXHRcdFx0e3N1Y2Nlc3N9IDo9IGV4ZWNDbWRTeW5jICdjaXZldCcsIFtcclxuXHRcdFx0XHQnLS1pbmxpbmUtbWFwJ1xyXG5cdFx0XHRcdCctbycsICcudHMnXHJcblx0XHRcdFx0Jy1jJywgcmVsUGF0aFxyXG5cdFx0XHRcdF1cclxuXHRcdFx0aWYgc3VjY2Vzc1xyXG5cdFx0XHRcdExPRyBcIiAgIEJVSUxEIE9LXCJcclxuXHJcblx0XHRcdFx0IyAtLS0gdHlwZSBjaGVjayB0aGUgVHlwZVNjcmlwdCBmaWxlXHJcblxyXG5cdFx0XHRcdGhSZXN1bHQgOj0gZXhlY0NtZFN5bmMgJ2Rlbm8nLCBbXHJcblx0XHRcdFx0XHQnY2hlY2snLFxyXG5cdFx0XHRcdFx0Jy1xJywgd2l0aEV4dChyZWxQYXRoLCAnLnRzJylcclxuXHRcdFx0XHRcdF1cclxuXHRcdFx0XHRpZiBoUmVzdWx0LnN1Y2Nlc3NcclxuXHRcdFx0XHRcdExPRyBcIiAgIENIRUNLIE9LXCJcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRMT0cgXCIgICBDSEVDSyBGQUlMRURcIlxyXG5cdFx0XHRcdFx0Y29udGludWUgICAjIGRvbid0IGluc3RhbGwgaWYgYSBjb21tYW5kXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRMT0cgXCIgICBCVUlMRCBGQUlMRURcIlxyXG5cdFx0XHRcdGNvbnRpbnVlICAgIyBkb24ndCBpbnN0YWxsIGlmIGEgY29tbWFuZFxyXG5cclxuXHRcdHN3aXRjaCBwdXJwb3NlXHJcblx0XHRcdHdoZW4gJ2NtZCdcclxuXHRcdFx0XHR7c3VjY2Vzc30gOj0gZXhlY0NtZFN5bmMgJ2Rlbm8nLCBbXHJcblx0XHRcdFx0XHQnaW5zdGFsbCdcclxuXHRcdFx0XHRcdCctZmdBJ1xyXG5cdFx0XHRcdFx0Jy1uJywgc3R1YiB8fCAndW5rbm93bidcclxuXHRcdFx0XHRcdCctLW5vLWNvbmZpZydcclxuXHRcdFx0XHRcdCctLWltcG9ydC1tYXAnLCAnaW1wb3J0X21hcC5qc29uJ1xyXG5cdFx0XHRcdFx0d2l0aEV4dChyZWxQYXRoLCAnLnRzJylcclxuXHRcdFx0XHRcdF1cclxuXHRcdFx0XHRMT0cgXCIgICBJTlNUQUxMICN7c3VjY2VzcyA/ICdPSycgOiAnRkFJTEVEJ31cIlxyXG5cdFx0XHR3aGVuICdsaWInXHJcblx0XHRcdFx0aWYgZGVmaW5lZChzdHViKSAmJiBub3Qgbm9wcFxyXG5cdFx0XHRcdFx0bFVuaXRUZXN0cy5wdXNoIHN0dWJcclxuXHRMT0dWQUxVRSAnbFVuaXRUZXN0cycsIGxVbml0VGVzdHNcclxuXHRyZXR1cm5cclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIFdoYXQgYW4gdWdseSBzeW50YXgsIGJ1dCBpdCB3b3JrcyEgKGkuZS4gdHlwZSBuYXJyb3dzKVxyXG5cclxuYXNzZXJ0SXNDb21waWxlckNvbmZpZzogKHZhbDogdW5rbm93bikgPT4gYXNzZXJ0cyB2YWwgaXMgVENvbXBpbGVyQ29uZmlnIDo9IChcclxuXHRcdHZhbDogdW5rbm93blxyXG5cdFx0KTogYXNzZXJ0cyB2YWwgaXMgVENvbXBpbGVyQ29uZmlnIC0+XHJcblxyXG5cdGFzc2VydCBpc0NvbXBpbGVyQ29uZmlnKHZhbCksIFwiTm90IGEgY29tcGlsZXIgY29uZmlnXCJcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgZ2V0Q29tcGlsZXJDb25maWcgOj0gKFxyXG5cdGZpbGVOYW1lOiBzdHJpbmcgPSAnY29tcGlsZS5jb25maWcuY2l2ZXQnXHJcblx0KTogVENvbXBpbGVyQ29uZmlnID0+XHJcblxyXG5cdHBhdGggOj0gZmluZFNyY0ZpbGUoZmlsZU5hbWUpXHJcblx0aWYgZGVmaW5lZChwYXRoKVxyXG5cdFx0REJHIFwibG9hZCBjb21waWxlciBjb25maWcgZnJvbSAje09MKHBhdGgpfVwiXHJcblx0XHRoQ29uZmlnIDo9IGNvbmZpZ0Zyb21GaWxlKHBhdGgpXHJcblx0XHRhc3NlcnRJc0NvbXBpbGVyQ29uZmlnKGhDb25maWcpXHJcblx0XHREQkdWQUxVRSAnaENvbmZpZycsIGhDb25maWdcclxuXHJcblx0XHQjIC0tLSBSZW1vdmUgYW55IGNvbXBpbGVycyBmb3Igd2hpY2ggdGhlXHJcblx0XHQjICAgICBjb21waWxlciBzb2Z0d2FyZSBoYXMgbm90IGJlZW4gaW5zdGFsbGVkXHJcblxyXG5cdFx0e2hDb21waWxlcnN9IDo9IGhDb25maWdcclxuXHRcdGZvciBleHQgb2Yga2V5cyhoQ29tcGlsZXJzKVxyXG5cdFx0XHR7dGVzdGVyfSA6PSBoQ29tcGlsZXJzW2V4dF1cclxuXHRcdFx0cHVzaExvZ0xldmVsICdzaWxlbnQnXHJcblx0XHRcdHdvcmtzIDo9IHRlc3RlcigpXHJcblx0XHRcdHBvcExvZ0xldmVsKClcclxuXHJcblx0XHRcdGlmIG5vdCB3b3Jrc1xyXG5cdFx0XHRcdERCRyBcIkRlbGV0aW5nIGNvbXBpbGVyIGZvciBleHQgI3tPTChleHQpfVwiXHJcblx0XHRcdFx0ZGVsZXRlIGhDb21waWxlcnNbZXh0XVxyXG5cdFx0cmV0dXJuIGhDb25maWdcclxuXHRlbHNlXHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRoQ29tcGlsZXJzOiB7XHJcblx0XHRcdFx0IyAtLS0ga2V5cyBhcmUgZmlsZSBleHRlbnNpb25zXHJcblx0XHRcdFx0IyAgICAgTk9URTogY29tcGlsZXJzIG11c3QgYmUgc3luY2hyb25vdXMhISFcclxuXHJcblx0XHRcdFx0Jy5zdmVsdGUnOiB7XHJcblx0XHRcdFx0XHRnZXRPdXRQYXRoczogKHBhdGg6IHN0cmluZykgPT5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIFt3aXRoRXh0KHBhdGgsICcuanMnKV1cclxuXHJcblx0XHRcdFx0XHR0ZXN0ZXI6ICgpID0+XHJcblx0XHRcdFx0XHRcdHJldHVybiB0cnVlXHJcblxyXG5cdFx0XHRcdFx0Y29tcGlsZXI6IChwYXRoOiBzdHJpbmcpID0+XHJcblx0XHRcdFx0XHRcdGpzUGF0aCA6PSB3aXRoRXh0KHBhdGgsICcuanMnKVxyXG5cdFx0XHRcdFx0XHRybUZpbGUganNQYXRoXHJcblx0XHRcdFx0XHRcdHtqcywgd2FybmluZ3N9IDo9IGNvbXBpbGVTdmVsdGUgc2x1cnAocGF0aCksIHtcclxuXHRcdFx0XHRcdFx0XHRjdXN0b21FbGVtZW50OiB0cnVlXHJcblx0XHRcdFx0XHRcdFx0cnVuZXM6IHRydWVcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHtjb2RlLCBtYXB9IDo9IGpzXHJcblx0XHRcdFx0XHRcdGJhcmYganNQYXRoLCBjb2RlXHJcblx0XHRcdFx0XHRcdHJldHVybiAnY29tcGlsZWQnXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdCcuZG90Jzoge1xyXG5cdFx0XHRcdFx0Z2V0T3V0UGF0aHM6IChwYXRoOiBzdHJpbmcpID0+XHJcblx0XHRcdFx0XHRcdHJldHVybiBbd2l0aEV4dChwYXRoLCAnLnN2ZycpXVxyXG5cclxuXHRcdFx0XHRcdHRlc3RlcjogKCkgPT5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIGNtZFN1Y2NlZWRzKCdkb3QnLCBbJy0tdmVyc2lvbiddLCBvJ3F1aWV0JylcclxuXHJcblx0XHRcdFx0XHRjb21waWxlcjogKHBhdGg6IHN0cmluZykgPT5cclxuXHRcdFx0XHRcdFx0c3ZnUGF0aCA6PSB3aXRoRXh0KHBhdGgsICcuc3ZnJylcclxuXHRcdFx0XHRcdFx0cm1GaWxlIHN2Z1BhdGhcclxuXHRcdFx0XHRcdFx0ZXhlY0NtZFN5bmMgJ2RvdCcsIFsnLVRzdmcnLCBwYXRoXVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJ2NvbXBpbGVkJ1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQnLmNpZWxvJzoge1xyXG5cclxuXHRcdFx0XHRcdCMgLS0tIFdlIHByb2R1Y2UgYW4gaW50ZXJtZWRpYXRlIC5jaXZldCBmaWxlLFxyXG5cdFx0XHRcdFx0IyAgICAgYnV0IGdpdmUgaXQgYSBwdXJwb3NlIG9mICd0ZW1wJ1xyXG5cdFx0XHRcdFx0IyAgICAgc28gaXQgd29uJ3QgZ2V0IGNvbXBpbGVkIGJ5IHRoZSBjb21waWxlIHNjcmlwdFxyXG5cdFx0XHRcdFx0Z2V0T3V0UGF0aHM6IChwYXRoOiBzdHJpbmcpID0+IFt3aXRoRXh0KHBhdGgsICcudHMnKV1cclxuXHJcblx0XHRcdFx0XHR0ZXN0ZXI6ICgpID0+XHJcblx0XHRcdFx0XHRcdCMgLS0tIHdlIG5lZWQgY2l2ZXQgdG8gYmUgaW5zdGFsbGVkXHJcblx0XHRcdFx0XHRcdHJldHVybiBjbWRTdWNjZWVkcygnY2l2ZXQnLCBbJy0tdmVyc2lvbiddLCBvJ3F1aWV0JylcclxuXHJcblx0XHRcdFx0XHRjb21waWxlcjogKHBhdGg6IHN0cmluZykgPT5cclxuXHRcdFx0XHRcdFx0IyAtLS0gc3RhcnQgd2l0aCBhICouY2llbG8gZmlsZVxyXG5cdFx0XHRcdFx0XHRjaXZldFBhdGggOj0gd2l0aEV4dChwYXRoLCAnLnRlbXAuY2l2ZXQnKVxyXG5cdFx0XHRcdFx0XHR0c1BhdGggOj0gd2l0aEV4dChwYXRoLCAnLnRzJylcclxuXHJcblx0XHRcdFx0XHRcdHJtRmlsZSBjaXZldFBhdGggICAgIyAtLS0gbmVlZGVkP1xyXG5cdFx0XHRcdFx0XHRybUZpbGUgdHNQYXRoICAgICAgICMgLS0tIG5lZWRlZD9cclxuXHJcblx0XHRcdFx0XHRcdGNpZWxvMmNpdmV0RmlsZSBwYXRoLCBjaXZldFBhdGhcclxuXHRcdFx0XHRcdFx0Y2l2ZXQydHNGaWxlIGNpdmV0UGF0aCwgdHNQYXRoXHJcblxyXG5cdFx0XHRcdFx0XHR7ZmlsZU5hbWV9IDo9IHBhcnNlUGF0aChwYXRoKVxyXG5cdFx0XHRcdFx0XHRwYXRjaEZpcnN0TGluZSBjaXZldFBhdGgsIGZpbGVOYW1lLCB3aXRoRXh0KGZpbGVOYW1lLCAnLnRlbXAuY2l2ZXQnKVxyXG5cdFx0XHRcdFx0XHRwYXRjaEZpcnN0TGluZSB0c1BhdGgsIGZpbGVOYW1lLCB3aXRoRXh0KGZpbGVOYW1lLCAnLnRzJylcclxuXHJcblx0XHRcdFx0XHRcdHJldHVybiAnY29tcGlsZWQnXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdCcuY2l2ZXQnOiB7XHJcblxyXG5cdFx0XHRcdFx0Z2V0T3V0UGF0aHM6IChwYXRoOiBzdHJpbmcpID0+XHJcblx0XHRcdFx0XHRcdHJldHVybiBbd2l0aEV4dChwYXRoLCAnLnRzJyldXHJcblxyXG5cdFx0XHRcdFx0dGVzdGVyOiAoKSA9PlxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gY21kU3VjY2VlZHMoJ2NpdmV0JywgWyctLXZlcnNpb24nXSwgbydxdWlldCcpXHJcblxyXG5cdFx0XHRcdFx0Y29tcGlsZXI6IChwYXRoOiBzdHJpbmcpID0+XHJcblx0XHRcdFx0XHRcdHtwdXJwb3NlLCBmaWxlTmFtZX0gOj0gcGFyc2VQYXRoKHBhdGgpXHJcblx0XHRcdFx0XHRcdGlmIGRlZmluZWQocHVycG9zZSkgJiYgWyd0ZW1wJywnZGVidWcnXS5pbmNsdWRlcyhwdXJwb3NlKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiAndGVtcCdcclxuXHJcblx0XHRcdFx0XHRcdHRzUGF0aCA6PSB3aXRoRXh0KHBhdGgsICcudHMnKVxyXG5cdFx0XHRcdFx0XHR0c05hbWUgOj0gd2l0aEV4dChmaWxlTmFtZSwgJy50cycpXHJcblxyXG5cdFx0XHRcdFx0XHRjaXZldDJ0c0ZpbGUgcGF0aCwgdHNQYXRoXHJcblx0XHRcdFx0XHRcdHBhdGNoRmlyc3RMaW5lIHRzUGF0aCwgZmlsZU5hbWUsIHRzTmFtZVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gJ2NvbXBpbGVkJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdGhQb3N0UHJvY2Vzc29yczoge1xyXG5cdFx0XHRcdCMgLS0tIEtleXMgYXJlIGEgcHVycG9zZVxyXG5cclxuXHRcdFx0XHQndGVzdCc6IChwYXRoOiBzdHJpbmcpOiB2b2lkID0+XHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHJcblx0XHRcdFx0J2xpYic6IChwYXRoOiBzdHJpbmcpOiB2b2lkID0+XHJcblx0XHRcdFx0XHR7c3R1Yn0gOj0gcGFyc2VQYXRoKHBhdGgpXHJcblx0XHRcdFx0XHRpZiBkZWZpbmVkKHN0dWIpXHJcblx0XHRcdFx0XHRcdGZvciB7c3VjY2Vzc30gb2YgcnVuVW5pdFRlc3RzRm9yKHN0dWIpXHJcblx0XHRcdFx0XHRcdFx0aWYgbm90IHN1Y2Nlc3NcclxuXHRcdFx0XHRcdFx0XHRcdFdBUk4gXCJVbml0IHRlc3QgI3twYXRofSBmYWlsZWRcIlxyXG5cdFx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRcdCdjbWQnOiAocGF0aDogc3RyaW5nKTogdm9pZCA9PlxyXG5cdFx0XHRcdFx0TE9HIFwiLSBpbnN0YWxsaW5nIGNvbW1hbmQgI3twYXRofVwiXHJcblx0XHRcdFx0XHRpbnN0YWxsQ21kIHBhdGhcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyAtLS0gcmV0dXJucyBhIFRDb21waWxlckluZm8gb3IgdW5kZWZcclxuXHJcbmV4cG9ydCBnZXRDb21waWxlckluZm8gOj0gKFxyXG5cdFx0ZXh0OiBzdHJpbmdcclxuXHRcdCk6IFRDb21waWxlckluZm8/ID0+XHJcblxyXG5cdGhDb25maWcgOj0gZ2V0Q29tcGlsZXJDb25maWcoKVxyXG5cdGhJbmZvIDo9IGhDb25maWcuaENvbXBpbGVyc1tleHRdXHJcblx0aWYgZGVmaW5lZChoSW5mbylcclxuXHRcdHJldHVybiBoSW5mb1xyXG5cdGVsc2VcclxuXHRcdERCRyBcIk5vIGNvbXBpbGVyIGZvciAje2V4dH0gZmlsZXNcIlxyXG5cdFx0cmV0dXJuIHVuZGVmXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZXhwb3J0IGdldFBvc3RQcm9jZXNzb3IgOj0gKFxyXG5cdFx0cHVycG9zZTogc3RyaW5nXHJcblx0XHQpOiBUUG9zdFByb2Nlc3Nvcj8gPT5cclxuXHJcblx0aENvbmZpZyA6PSBnZXRDb21waWxlckNvbmZpZygpXHJcblx0cHAgOj0gaENvbmZpZy5oUG9zdFByb2Nlc3NvcnNbcHVycG9zZV1cclxuXHRpZiBkZWZpbmVkKHBwKVxyXG5cdFx0cmV0dXJuIHBwXHJcblx0ZWxzZVxyXG5cdFx0REJHIFwiTm8gcG9zdCBwcm9jZXNzb3IgZm9yICN7cHVycG9zZX0gZmlsZXNcIlxyXG5cdFx0cmV0dXJuIHVuZGVmXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4jIC0tLSBzcmMgY2FuIGJlIGEgZnVsbCBvciByZWxhdGl2ZSBwYXRoXHJcbiMgICAgIHRocm93cyBlcnJvciBpZiBmaWxlIGRvZXMgbm90IGV4aXN0XHJcbiNcclxuIyAgICAgUG9zc2libGUgc3RhdHVzIHZhbHVlczpcclxuIyAgICAgICAgJ3RlbXAnICAgICAgIC0gaXQgd2FzIGEgdGVtcCBmaWxlLCBub3QgY29tcGlsZWRcclxuIyAgICAgICAgJ25vY29tcGlsZXInIC0gaGFzIG5vIGNvbXBpbGVyLCBub3QgY29tcGlsZWRcclxuIyAgICAgICAgJ2V4aXN0cycgICAgIC0gbmV3ZXIgY29tcGlsZWQgZmlsZSBhbHJlYWR5IGV4aXN0c1xyXG4jICAgICAgICAnZmFpbGVkJyAgICAgLSBjb21waWxpbmcgZmFpbGVkXHJcbiMgICAgICAgICdjb21waWxlZCcgICAtIHN1Y2Nlc3NmdWxseSBjb21waWxlZFxyXG5cclxuZXhwb3J0IGNvbXBpbGVGaWxlIDo9IChcclxuXHRwYXRoOiBzdHJpbmcsXHJcblx0aE9wdGlvbnM6IGhhc2g9e31cclxuXHQpOiBUQ29tcGlsZVJlc3VsdCA9PlxyXG5cclxuXHRhc3NlcnQgaXNGaWxlKHBhdGgpLCBcIk5vIHN1Y2ggZmlsZTogI3tPTChwYXRoKX1cIlxyXG5cdERCRyBcIkNPTVBJTEU6ICN7T0wocGF0aCl9XCIsIElOREVOVFxyXG5cclxuXHR0eXBlIG9wdCA9IHtcclxuXHRcdG5vcHA6IGJvb2xlYW5cclxuXHRcdH1cclxuXHR7bm9wcH0gOj0gZ2V0T3B0aW9uczxvcHQ+IGhPcHRpb25zLCB7XHJcblx0XHRub3BwOiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHR7cmVsUGF0aCwgc3R1YiwgcHVycG9zZSwgZXh0fSA6PSBwYXJzZVBhdGggcGF0aFxyXG5cclxuXHRpZiBub3RkZWZpbmVkKGV4dClcclxuXHRcdERCRyBcIk5vdCBjb21waWxpbmcgLSBubyBmaWxlIGV4dGVuc2lvbiBpbiAje09MKHBhdGgpfVwiLCBVTkRFTlRcclxuXHRcdHJldHVybiB7c3RhdHVzOiAnbm9jb21waWxlcicsIHBhdGg6IHJlbFBhdGh9XHJcblxyXG5cdGhDb21waWxlckluZm8gOj0gZ2V0Q29tcGlsZXJJbmZvKGV4dClcclxuXHRpZiBub3RkZWZpbmVkKGhDb21waWxlckluZm8pXHJcblx0XHREQkcgXCJOb3QgY29tcGlsaW5nIC0gbm8gY29tcGlsZXIgZm9yICN7T0woZXh0KX1cIiwgVU5ERU5UXHJcblx0XHRyZXR1cm4ge3N0YXR1czogJ25vY29tcGlsZXInLCBwYXRoOiByZWxQYXRofVxyXG5cclxuXHR7Y29tcGlsZXIsIGdldE91dFBhdGhzfSA6PSBoQ29tcGlsZXJJbmZvXHJcblx0bE91dFBhdGhzIDo9IGdldE91dFBhdGhzKHJlbFBhdGgpXHJcblx0REJHIFwibE91dFBhdGhzID0gI3tPTChsT3V0UGF0aHMpfVwiXHJcblxyXG5cdGxldCBhbGxOZXdlciA9IHRydWVcclxuXHRmb3Igb3V0UGF0aCBvZiBsT3V0UGF0aHNcclxuXHRcdGlmIG5vdCBuZXdlckRlc3RGaWxlRXhpc3RzKHJlbFBhdGgsIG91dFBhdGgpXHJcblx0XHRcdGFsbE5ld2VyID0gZmFsc2VcclxuXHRcdFx0YnJlYWtcclxuXHRpZiBhbGxOZXdlclxyXG5cdFx0REJHIFwiTm90IGNvbXBpbGluZywgbmV3ZXIgI3tPTChsT3V0UGF0aHMpfSBleGlzdFwiLCBVTkRFTlRcclxuXHRcdHJldHVybiB7c3RhdHVzOiAnZXhpc3RzJywgcGF0aDogcmVsUGF0aCwgbE91dFBhdGhzfVxyXG5cclxuXHREQkcgXCJjb21waWxpbmcgI3tPTChwYXRoKX0gdG8gI3tPTChsT3V0UGF0aHMpfVwiXHJcblx0c3RhdHVzIDo9IGNvbXBpbGVyIHBhdGhcclxuXHRsZXQgcG9zdFByb2NTdGF0dXM6IHVua25vd24/ID0gdW5kZWZcclxuXHRpZiAoc3RhdHVzID09ICdjb21waWxlZCcpICYmIGRlZmluZWQocHVycG9zZSkgJiYgbm90IG5vcHBcclxuXHRcdHBvc3RQcm9jIDo9IGdldFBvc3RQcm9jZXNzb3IocHVycG9zZSlcclxuXHRcdGlmIGRlZmluZWQocG9zdFByb2MpXHJcblx0XHRcdERCRyBcInBvc3QtcHJvY2Vzc2luZyBmaWxlXCJcclxuXHRcdFx0dHJ5XHJcblx0XHRcdFx0cG9zdFByb2MgcGF0aFxyXG5cdFx0XHRjYXRjaCBlcnJcclxuXHRcdFx0XHRwb3N0UHJvY1N0YXR1cyA9IGVyclxyXG5cdERCRyBVTkRFTlRcclxuXHRpZiBkZWZpbmVkKHBvc3RQcm9jU3RhdHVzKVxyXG5cdFx0cmV0dXJuIHtzdGF0dXMsIHBhdGg6IHJlbFBhdGgsIGxPdXRQYXRocywgcG9zdFByb2NTdGF0dXN9XHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIHtzdGF0dXMsIHBhdGg6IHJlbFBhdGgsIGxPdXRQYXRoc31cclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIEdFTkVSQVRPUlxyXG5cclxuZXhwb3J0IHJ1blVuaXRUZXN0c0ZvciA6PSAoXHJcblx0c3R1Yjogbm9uRW1wdHlTdHJpbmdcclxuXHRoT3B0aW9uczogaGFzaD17fVxyXG5cdCk6IEdlbmVyYXRvcjxUVW5pdFRlc3RSZXN1bHQsIHZvaWQsIHZvaWQ+IC0+XHJcblxyXG5cdHR5cGUgb3B0ID0ge1xyXG5cdFx0dmVyYm9zZTogYm9vbGVhblxyXG5cdFx0fVxyXG5cdHt2ZXJib3NlfSA6PSBnZXRPcHRpb25zPG9wdD4gaE9wdGlvbnMsIHtcclxuXHRcdHZlcmJvc2U6IGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdERCRyBcIlJ1bm5pbmcgdW5pdCB0ZXN0cyBmb3IgI3tzdHVifVwiXHJcblx0aWYgbm90IHZlcmJvc2VcclxuXHRcdHB1c2hMb2dMZXZlbCAnc2lsZW50J1xyXG5cclxuXHQjIC0tLSBFbnN1cmUgdGhhdCBtYXRjaGluZyBsaWIgJiBjbWQgZmlsZXMgYXJlIGNvbXBpbGVkXHJcblx0IyAgICAgKG5vIGVycm9yIGlmIHRoZXJlIGlzIG5vIGNvbXBpbGVyIGZvciB0aGUgZmlsZSlcclxuXHRidWlsZCBzdHViXHJcbiNcdGZvciB7cGF0aH0gb2YgYWxsRmlsZXNNYXRjaGluZyhcIioqLyN7c3R1Yn0uKlwiKVxyXG4jXHRcdHtzdGF0dXN9IDo9IGNvbXBpbGVGaWxlIHBhdGgsIG8nbm9wcCdcclxuI1x0XHRhc3NlcnQgKHN0YXR1cyAhPSAnZmFpbGVkJyksIFwiY29tcGlsZSBvZiAje3BhdGh9IGZhaWxlZFwiXHJcblxyXG5cdCMgLS0tIENvbXBpbGUgYW5kIHJ1biBhbGwgdW5pdCB0ZXN0cyBmb3Igc3R1YlxyXG5cdGZvciB7cGF0aH0gb2YgYWxsRmlsZXNNYXRjaGluZyhcIioqLyN7c3R1Yn0qLnRlc3QuKlwiKVxyXG5cdFx0e3N0YXR1cywgbE91dFBhdGhzfSA6PSBjb21waWxlRmlsZSBwYXRoLCBvJ25vcHAnXHJcblx0XHRhc3NlcnQgKHN0YXR1cyAhPSAnZmFpbGVkJyksIFwiY29tcGlsZSBvZiAje3BhdGh9IGZhaWxlZFwiXHJcblx0XHRpZiBub3RkZWZpbmVkKGxPdXRQYXRocylcclxuXHRcdFx0Y29udGludWVcclxuXHRcdGZvciBvdXRQYXRoIG9mIGxPdXRQYXRoc1xyXG5cdFx0XHRhc3NlcnQgaXNGaWxlKG91dFBhdGgpLCBcIkZpbGUgI3tPTChvdXRQYXRoKX0gbm90IGZvdW5kXCJcclxuXHJcblx0XHQjIC0tLSBDb21waWxlIGFsbCBmaWxlcyBpbiBzdWJkaXIgaWYgaXQgZXhpc3RzXHJcblx0XHRpZiBpc0RpcihcInRlc3QvI3tzdHVifVwiKVxyXG5cdFx0XHRmb3Ige3BhdGh9IG9mIGFsbEZpbGVzTWF0Y2hpbmcoXCJ0ZXN0LyN7c3R1Yn0vKlwiKVxyXG5cdFx0XHRcdHtzdGF0dXMsIGxPdXRQYXRoc30gOj0gY29tcGlsZUZpbGUgcGF0aFxyXG5cdFx0XHRcdGFzc2VydCAoc3RhdHVzICE9ICdmYWlsZWQnKSwgXCJDb21waWxlIG9mICN7cGF0aH0gZmFpbGVkXCJcclxuXHRcdFx0XHRpZiBub3RkZWZpbmVkKGxPdXRQYXRocylcclxuXHRcdFx0XHRcdFdBUk4gXCJGaWxlICN7T0wocGF0aCl9IG5vdCBjb21waWxlZCB0byAje09MKGxPdXRQYXRocyl9XCJcclxuXHJcblx0XHQjIC0tLSBSdW4gdGhlIHVuaXQgdGVzdHMsIHlpZWxkIHJlc3VsdHNcclxuXHRcdGZvciBvdXRQYXRoIG9mIGxPdXRQYXRoc1xyXG5cdFx0XHR7c3VjY2VzcywgY29kZSwgc2lnbmFsfSA6PSBleGVjQ21kU3luYyAnZGVubycsIFtcclxuXHRcdFx0XHRcdCd0ZXN0JyxcclxuXHRcdFx0XHRcdCctcUEnLFxyXG5cdFx0XHRcdFx0b3V0UGF0aFxyXG5cdFx0XHRcdFx0XVxyXG5cdFx0XHR5aWVsZCB7c3R1Yiwgc3VjY2VzcywgY29kZSwgc2lnbmFsfVxyXG5cdGlmIG5vdCB2ZXJib3NlXHJcblx0XHRwb3BMb2dMZXZlbCgpXHJcblx0cmV0dXJuXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4jIC0tLSBHRU5FUkFUT1JcclxuXHJcbmV4cG9ydCBydW5BbGxVbml0VGVzdHMgOj0gKFxyXG5cdFx0KTogR2VuZXJhdG9yPFRVbml0VGVzdFJlc3VsdCwgdm9pZCwgdm9pZD4gLT5cclxuXHJcblx0REJHIFwiUnVubmluZyBhbGwgdW5pdCB0ZXN0c1wiXHJcblxyXG5cdGhHbG9iT3B0aW9ucyA6PSB7XHJcblx0XHRleGNsdWRlOiBbJ25vZGVfbW9kdWxlcy8qKicsICcuZ2l0LyoqJ11cclxuXHRcdH1cclxuXHJcblx0cGF0dGVybiA6PSAnKiovKi57bGliLGNtZH0udHMnXHJcblx0REJHIFwicGF0dGVybiA9ICN7T0wocGF0dGVybil9XCJcclxuXHRmb3Ige3BhdGgsIHN0dWJ9IG9mIGFsbEZpbGVzTWF0Y2hpbmcocGF0dGVybiwgaEdsb2JPcHRpb25zKVxyXG5cdFx0aWYgKHN0dWIgPT0gdW5kZWYpXHJcblx0XHRcdFdBUk4gXCJObyBzdHViIGZvdW5kIGluICN7T0wocGF0aCl9XCJcclxuXHRcdGVsc2VcclxuXHRcdFx0REJHIFwiVU5JVCBURVNUOiAje3BhdGh9XCJcclxuXHRcdFx0Zm9yIGhSZXN1bHQgb2YgcnVuVW5pdFRlc3RzRm9yKHN0dWIpXHJcblx0XHRcdFx0eWllbGQgaFJlc3VsdFxyXG5cdHJldHVyblxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyBBU1lOQ1xyXG5cclxuZXhwb3J0IGluc3RhbGxDbWQgOj0gKFxyXG5cdFx0cGF0aDogc3RyaW5nXHJcblx0XHRuYW1lOiBzdHJpbmc/ID0gdW5kZWZcclxuXHRcdCk6IHZvaWQgPT5cclxuXHJcblx0aWYgbm90ZGVmaW5lZChuYW1lKVxyXG5cdFx0YXdhaXQgZXhlY0NtZCAnZGVubycsIFtcclxuXHRcdFx0J2luc3RhbGwnXHJcblx0XHRcdCctZmdBJ1xyXG5cdFx0XHQnLS1jb25maWcnXHJcblx0XHRcdCdkZW5vLmpzb25jJ1xyXG5cdFx0XHRwYXRoXHJcblx0XHRcdF1cclxuXHRlbHNlXHJcblx0XHRhd2FpdCBleGVjQ21kICdkZW5vJywgW1xyXG5cdFx0XHQnaW5zdGFsbCdcclxuXHRcdFx0Jy1mZ0EnXHJcblx0XHRcdCctbidcclxuXHRcdFx0bmFtZVxyXG5cdFx0XHQnLS1jb25maWcnXHJcblx0XHRcdCdkZW5vLmpzb25jJ1xyXG5cdFx0XHRwYXRoXHJcblx0XHRcdF1cclxuXHRyZXR1cm5cclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgQVNZTkNcclxuXHJcbmV4cG9ydCB1bmluc3RhbGxDbWQgOj0gKFxyXG5cdFx0cGF0aDogc3RyaW5nXHJcblx0XHRuYW1lOiBzdHJpbmc/ID0gdW5kZWZcclxuXHRcdCk6IHZvaWQgPT5cclxuXHJcblx0aWYgbm90ZGVmaW5lZChuYW1lKVxyXG5cdFx0YXdhaXQgZXhlY0NtZCAnZGVubycsIFtcclxuXHRcdFx0J3VuaW5zdGFsbCdcclxuXHRcdFx0Jy1nJ1xyXG5cdFx0XHRwYXRoXHJcblx0XHRcdF1cclxuXHRlbHNlXHJcblx0XHRhd2FpdCBleGVjQ21kICdkZW5vJywgW1xyXG5cdFx0XHQndW5pbnN0YWxsJ1xyXG5cdFx0XHQnLWcnXHJcblx0XHRcdCctbidcclxuXHRcdFx0bmFtZVxyXG5cdFx0XHRwYXRoXHJcblx0XHRcdF1cclxuXHRyZXR1cm5cclxuIl19