"use strict";
// to-nice.lib.civet

import {sep, centered} from 'base-utils'
import {
	assert, croak, undef, defined, notdefined, hash, hashof,
	isString, isArray, isClass, isRegExp, isObject, isPrimitive,
	isEmpty, nonEmpty,
	symbolName, className, functionName, regexpDef,
	} from 'datatypes'
import {
	getOptions, escapeStr, o, toBlock, spaces, mapEachLine,
	} from 'llutils'

export type TCompareFunc = (a: string, b: string) => number
export type TMapFunc = (key: string, x: unknown) => hashof<unknown>

// ---------------------------------------------------------------------------

export const alphaCompare: TCompareFunc = (
		a: string,
		b: string
		): number => {

	return (a < b) ? -1 : (a > b) ? 1 : 0
}

// ---------------------------------------------------------------------------
// --- any leading digit must be preceded by a single '\'

export const toNiceString = (str: string): string => {

	// --- escape spaces and \t, \n or \r

	const str1 = escapeStr(str)

	// --- precede with '\' if starts with digit, '.' or '-'

	const str2 = str1.match(/^[\d.-]/) ? `\\${str1}` : str1
	const str3 = str2.match(/^[^Ë³\s]+:/) ? `\\${str2}` : str2

	// --- check for leading or trailing spaces
	//     (TABs and NEWLINEs have already been escaped)
	//     (regex always matches)

	return str3
}

// ---------------------------------------------------------------------------

const pathadd = (
		path: string,
		key: string | number
		): string => {

	const newkey = (
		  (typeof key === 'number')
		? `[${key.toString()}]`
		: `/${key}`
		)
	return (path === '/') ? newkey : `${path}${newkey}`
}

// ---------------------------------------------------------------------------

// --- Returns a function that:
//        compares 2 strings based on their position in lSortKeys
//        else compares alphabetically

const getCompareFunc = (
		lSortKeys: string[]
		): TCompareFunc => {

	// --- Create map of key to number
	const h: hashof<number> = {}
	let i1 = 0;for (const key of lSortKeys) {const i = i1++;
		h[key] = i+1
	}

	return function(a: string, b: string): number {
		const aVal = h[a]
		const bVal = h[b]

		if (defined(aVal)) {
			if (defined(bVal)) {
				// --- compare numerically
				return (aVal < bVal) ? -1 : (aVal > bVal) ? 1 : 0
			}
			else {
				return -1
			}
		}
		else {
			if (defined(bVal)) {
				return 1
			}
			else {
				return alphaCompare(a, b)
			}
		}
	}
}

// ---------------------------------------------------------------------------

const indented = (block: string, oneIndent: string) => {

	return mapEachLine(block, (line) => oneIndent + line)
}

// ---------------------------------------------------------------------------

export const toNice = (
		x: unknown,
		hOptions: hash={},
		mapVisited: Map<object, string> = new Map<object, string>(),
		path: string = '/'
		): string => {

	// --- When recoverable, classes and functions
	//     include their definitions,
	//     with escaped chars

	type opt = {
		compact: boolean
		recoverable: boolean
		ignoreEmptyValues: boolean
		sortKeys: boolean
		sortFunc: (TCompareFunc | undefined)
		mapFunc: TMapFunc
		lInclude: ((string[]) | undefined)
		lExclude: ((string[]) | undefined)
		oneIndent: string
		}
	const {		compact,
			recoverable,
			ignoreEmptyValues,
			sortKeys,
			sortFunc,
			mapFunc,
			lInclude,
			lExclude,
			oneIndent
		} = getOptions<opt>(hOptions, {
		compact: false,
		recoverable: false,
		ignoreEmptyValues: false,
		sortKeys: false,
		sortFunc: undef,
		mapFunc: (key: string, x: unknown) => { return {[key]: x} },
		lInclude: undef,
		lExclude: undef,
		oneIndent: spaces(3)
		})

	// --- You can provide sortKeys or a sortFunc, but not both
	assert(!(sortKeys && defined(sortFunc)), "Bad options")

	switch(typeof x) {
		case 'undefined': {
			return '.undef.'
		}

		case 'boolean': {
			return x ? '.true.' : '.false.'
		}

		case 'number': {
			return (
				  Number.isNaN(x)    ? '.NaN.'
				: Number.isFinite(x) ? x.toString()
				: ((x < 0) ? '.neginfinity.' : '.infinity.')
				)
		}

		case 'bigint': {
			return x.toString() + 'n'
		}

		case 'string': {
			return toNiceString(x)
		}

		case 'symbol': {
			const name = symbolName(x)
			return name ? `.symbol ${name}.` : '.symbol.'
		}

		case 'function': {
			if (isClass(x)) {
				return `.class ${className(x)}.`
			}
			else {
				return `.function ${functionName(x)}.`
			}
		}

		case 'object': {
			if (x === null) {
				return '.null.'
			}

			if (isRegExp(x)) {
				return `.regexp ${escapeStr(regexpDef(x))}.`
			}

			// --- Check if object was previously visited
			const prevpath = mapVisited.get(x)
			if (prevpath) {
				return `.REF ${prevpath}.`
			}

			if (isArray(x)) {
				if (x.length === 0) {
					return '.[].'
				}

				mapVisited.set(x, path)
				const lLines = []
				let i2 = 0;for (const val of x) {const i = i2++;
					const block = toNice(
							val,
							hOptions,
							mapVisited,
							pathadd(path, i)
							)
					if (compact) {
						lLines.push(block)
					}
					else if (isPrimitive(val) || block.startsWith('.')) {
						lLines.push(`- ${block}`)
					}
					else {
						lLines.push('-')
						lLines.push(indented(block, oneIndent))
					}
				}
				if (compact) {
					return '[' + lLines.join(' ') + ']'
				}
				else {
					return toBlock(lLines)
				}
			}

			const lKeys = Object.keys(x)
			if (lKeys.length === 0) {
				return '.{}.'
			}

			const func: (TCompareFunc | undefined) = (
				  defined(sortFunc) ? sortFunc
				: defined(lInclude) ? getCompareFunc(lInclude)
				: sortKeys          ? alphaCompare
				:                     undef
				)

			const useKey = (key: unknown): boolean => {
				if (typeof key !== 'string') {
					return false
				}
				if (defined(lExclude) && lExclude.includes(key)) {
					return false
				}
				if (defined(lInclude) && !lInclude.includes(key)) {
					return false
				}
				return true
			}

			mapVisited.set(x, path)

			const lLines = []
			for (const key of (defined(func) ? lKeys.sort(func) : lKeys)) {
				const value = (x as hashof<unknown>)[key]
				if (useKey(key) && (!ignoreEmptyValues || nonEmpty(value))) {
					const hMapped = mapFunc(key, value)
					for (const [newkey, val] of Object.entries(hMapped)) {
						const block = toNice(
								val,
								hOptions,
								mapVisited,
								pathadd(path, key)
								)
						if (compact || isPrimitive(val) || block.startsWith('.')) {
							lLines.push(`${newkey}: ${block}`)
						}
						else {
							lLines.push(`${newkey}:`)
							lLines.push(indented(block, oneIndent))
						}
					}
				}
			}
			if (compact) {
				return '{' + lLines.join(' ') + '}'
			}
			else {
				return toBlock(lLines)
			}
		}
	}

	return `<Unknown object ${x}>`
}

// ---------------------------------------------------------------------------

export const OL = (x: unknown): string => {

	return toNice(x, {compact: true})
}

// ---------------------------------------------------------------------------

export const ML = (x: unknown): string => {

	return toNice(x, {compact: false})
}

// ---------------------------------------------------------------------------

export const DUMP = (
		x: unknown,
		label: (string | undefined) = undef,
		hOptions: hash = {},
		width: number = 64
		): void => {

	if (isEmpty(label)) {
		console.log(sep(width))
	}
	else if (defined(label)) {
		console.log(centered(label, width, '-'))
	}
	if (isString(x)) {
		console.log(x)
	}
	else {
		console.log(toNice(x, hOptions))
	}
	console.log(sep(width))
	return
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcbGliXFx0by1uaWNlLmxpYi5jaXZldC50c3giLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcam9obmRcXHV0aWxzXFxzcmNcXGxpYlxcdG8tbmljZS5saWIuY2l2ZXQiXSwibWFwcGluZ3MiOiI7QUFBQSxvQkFBbUI7QUFDbkIsQUFBQTtBQUNBLEFBQUEsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVk7QUFDeEMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDekQsQ0FBQyxRQUFRLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxXQUFXLENBQUM7QUFDN0QsQ0FBQyxPQUFPLENBQUMsQ0FBQyxRQUFRLENBQUM7QUFDbkIsQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDaEQsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVc7QUFDbkIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxXQUFXLENBQUM7QUFDeEQsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVM7QUFDakIsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTTtBQUMzRCxBQUFBLEFBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUM7QUFDbkUsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLEFBQUEsTUFBTSxDQUEyQixNQUExQixZQUFZLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBRSxDQUFDLENBQUM7QUFDdEMsQUFBQSxFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNaLEFBQUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNO0FBQ1gsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDZCxBQUFBO0FBQ0EsQUFBQSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQztBQUFDLENBQUE7QUFDdEMsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUEseURBQXdEO0FBQ3hELEFBQUE7QUFDQSxBQUFBLEFBQUEsTUFBTSxDQUFhLE1BQVosWUFBWSxDQUFDLENBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQy9DLEFBQUE7QUFDQSxBQUFBLENBQUMscUNBQW9DO0FBQ3JDLEFBQUE7QUFDQSxBQUFBLENBQUssTUFBSixJQUFJLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUM7QUFDdkIsQUFBQTtBQUNBLEFBQUEsQ0FBQyx3REFBdUQ7QUFDeEQsQUFBQTtBQUNBLEFBQUEsQ0FBSyxNQUFKLElBQUksQ0FBQyxDQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSTtBQUNuRCxBQUFBLENBQUssTUFBSixJQUFJLENBQUMsQ0FBRSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUk7QUFDckQsQUFBQTtBQUNBLEFBQUEsQ0FBQywyQ0FBMEM7QUFDM0MsQUFBQSxDQUFDLG9EQUFtRDtBQUNwRCxBQUFBLENBQUMsNkJBQTRCO0FBQzdCLEFBQUE7QUFDQSxBQUFBLENBQUMsTUFBTSxDQUFDLEk7QUFBSSxDQUFBO0FBQ1osQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLEFBQU8sTUFBUCxPQUFPLENBQUMsQ0FBRSxDQUFDLENBQUM7QUFDWixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQ2QsQUFBQSxFQUFFLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBTTtBQUN0QixFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNkLEFBQUE7QUFDQSxBQUFBLENBQU8sTUFBTixNQUFNLENBQUMsQ0FBRSxDQUFDLENBQUM7QUFDWixBQUFBLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUUsQ0FBQyxRQUFRLENBQUM7QUFDNUIsQUFBQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDekIsQUFBQSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUNiLEVBQUUsQ0FBQztBQUNILEFBQUEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsRUFBRSxNQUFNLENBQUMsQztBQUFDLENBQUE7QUFDbkQsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLCtCQUE4QjtBQUM5QixBQUFBLGlFQUFnRTtBQUNoRSxBQUFBLHNDQUFxQztBQUNyQyxBQUFBO0FBQ0EsQUFBQSxBQUFjLE1BQWQsY0FBYyxDQUFDLENBQUUsQ0FBQyxDQUFDO0FBQ25CLEFBQUEsRUFBRSxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQztBQUNyQixFQUFFLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNwQixBQUFBO0FBQ0EsQUFBQSxDQUFDLGtDQUFpQztBQUNsQyxBQUFBLENBQWtCLE1BQWpCLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ3hCLEFBQUEsQyxJLEUsSSxDQUFDLEdBQUcsQ0FBQyxDQUFBLE1BQUEsR0FBSyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUEsQ0FBQSxDQUFkLE1BQUEsQyxHLEUsRSxDQUFjO0FBQ3ZCLEFBQUEsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDLEMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDO0NBQUMsQ0FBQTtBQUNkLEFBQUE7QUFDQSxBQUFBLENBQUMsTUFBTSxDQUFnQyxRQUEvQixDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsTUFBUyxDQUFBLENBQUE7QUFDekMsQUFBQSxFQUFNLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2QsQUFBQSxFQUFNLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2QsQUFBQTtBQUNBLEFBQUEsRUFBRSxHQUFHLENBQUEsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUNsQixBQUFBLEdBQUcsR0FBRyxDQUFBLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDbkIsQUFBQSxJQUFJLDBCQUF5QjtBQUM3QixBQUFBLElBQUksTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDO0dBQUMsQ0FBQTtBQUNyRCxBQUFBLEdBQUcsSUFBSSxDQUFBLENBQUE7QUFDUCxBQUFBLElBQUksTUFBTSxDQUFDLENBQUMsQztHQUFDLEM7RUFBQSxDQUFBO0FBQ2IsQUFBQSxFQUFFLElBQUksQ0FBQSxDQUFBO0FBQ04sQUFBQSxHQUFHLEdBQUcsQ0FBQSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ25CLEFBQUEsSUFBSSxNQUFNLENBQUMsQztHQUFDLENBQUE7QUFDWixBQUFBLEdBQUcsSUFBSSxDQUFBLENBQUE7QUFDUCxBQUFBLElBQUksTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEM7R0FBQyxDO0VBQUEsQztDQUFBLEM7QUFBQSxDQUFBO0FBQzdCLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFRLE1BQVIsUUFBUSxDQUFDLENBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ2pELEFBQUE7QUFDQSxBQUFBLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQztBQUFDLENBQUE7QUFDdEQsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLEFBQUEsTUFBTSxDQUFPLE1BQU4sTUFBTSxDQUFDLENBQUUsQ0FBQyxDQUFDO0FBQ2xCLEFBQUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUM7QUFDYixBQUFBLEVBQUUsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ25CLEFBQUEsRUFBRSxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQzdELEFBQUEsRUFBRSxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUc7QUFDcEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDZCxBQUFBO0FBQ0EsQUFBQSxDQUFDLDhDQUE2QztBQUM5QyxBQUFBLENBQUMsaUNBQWdDO0FBQ2pDLEFBQUEsQ0FBQyx5QkFBd0I7QUFDekIsQUFBQTtBQUNBLEFBQUEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2IsQUFBQSxFQUFFLE9BQU8sQ0FBQyxDQUFDLE9BQU87QUFDbEIsQUFBQSxFQUFFLFdBQVcsQ0FBQyxDQUFDLE9BQU87QUFDdEIsQUFBQSxFQUFFLGlCQUFpQixDQUFDLENBQUMsT0FBTztBQUM1QixBQUFBLEVBQUUsUUFBUSxDQUFDLENBQUMsT0FBTztBQUNuQixBQUFBLEVBQUUsUUFBUSxDLEMsQ0FBQyxBQUFDLFksWSxDQUFhO0FBQ3pCLEFBQUEsRUFBRSxPQUFPLENBQUMsQ0FBQyxRQUFRO0FBQ25CLEFBQUEsRUFBRSxRQUFRLEMsQyxDLENBQUMsQUFBQyxNQUFNLENBQUMsQyxDLFksQ0FBRTtBQUNyQixBQUFBLEVBQUUsUUFBUSxDLEMsQyxDQUFDLEFBQUMsTUFBTSxDQUFDLEMsQyxZLENBQUU7QUFDckIsQUFBQSxFQUFFLFNBQVMsQ0FBQyxDQUFDLE1BQU07QUFDbkIsRUFBRSxDQUFDO0FBQ0gsQUFBQSxDQVNHLE1BVEYsQ0FBQyxFQUFFLE9BQU8sQ0FBQTtBQUNYLEdBQUcsV0FBVyxDQUFBO0FBQ2QsR0FBRyxpQkFBaUIsQ0FBQTtBQUNwQixHQUFHLFFBQVEsQ0FBQTtBQUNYLEdBQUcsUUFBUSxDQUFBO0FBQ1gsR0FBRyxPQUFPLENBQUE7QUFDVixHQUFHLFFBQVEsQ0FBQTtBQUNYLEdBQUcsUUFBUSxDQUFBO0FBQ1gsR0FBRyxTQUFTO0FBQ1osRUFBRSxDQUFDLENBQUMsQ0FBRSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQSxBQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7QUFDbEMsQUFBQSxFQUFFLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQTtBQUNoQixBQUFBLEVBQUUsV0FBVyxDQUFDLENBQUMsS0FBSyxDQUFBO0FBQ3BCLEFBQUEsRUFBRSxpQkFBaUIsQ0FBQyxDQUFDLEtBQUssQ0FBQTtBQUMxQixBQUFBLEVBQUUsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFBO0FBQ2pCLEFBQUEsRUFBRSxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUE7QUFDakIsQUFBQSxFQUFFLE9BQU8sQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ3pELEFBQUEsRUFBRSxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUE7QUFDakIsQUFBQSxFQUFFLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQTtBQUNqQixBQUFBLEVBQUUsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztBQUN0QixFQUFFLENBQUMsQ0FBQTtBQUNILEFBQUE7QUFDQSxBQUFBLENBQUMsMkRBQTBEO0FBQzNELEFBQUEsQ0FBQyxNQUFNLENBQUEsQUFBQyxDQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQTtBQUMxRCxBQUFBO0FBQ0EsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ2hCLEFBQUEsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFBLENBQUEsQ0FBQTtBQUNsQixBQUFBLEdBQUcsTUFBTSxDQUFDLFM7RUFBUyxDQUFBO0FBQ25CLEFBQUE7QUFDQSxBQUFBLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQSxDQUFBLENBQUE7QUFDaEIsQUFBQSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsUztFQUFTLENBQUE7QUFDbEMsQUFBQTtBQUNBLEFBQUEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFBLENBQUEsQ0FBQTtBQUNmLEFBQUEsR0FBRyxNQUFNLENBQUMsQ0FBQztBQUNYLEFBQUEsTUFBTSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxPQUFPO0FBQ2xDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUN2QyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUM7QUFDaEQsSUFBSSxDO0VBQUMsQ0FBQTtBQUNMLEFBQUE7QUFDQSxBQUFBLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQSxDQUFBLENBQUE7QUFDZixBQUFBLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHO0VBQUcsQ0FBQTtBQUM1QixBQUFBO0FBQ0EsQUFBQSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUEsQ0FBQSxDQUFBO0FBQ2YsQUFBQSxHQUFHLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDO0VBQUMsQ0FBQTtBQUN6QixBQUFBO0FBQ0EsQUFBQSxFQUFFLElBQUksQ0FBQyxRQUFRLENBQUEsQ0FBQSxDQUFBO0FBQ2YsQUFBQSxHQUFPLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO0FBQ3hCLEFBQUEsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFU7RUFBVSxDQUFBO0FBQ2hELEFBQUE7QUFDQSxBQUFBLEVBQUUsSUFBSSxDQUFDLFVBQVUsQ0FBQSxDQUFBLENBQUE7QUFDakIsQUFBQSxHQUFHLEdBQUcsQ0FBQSxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ2hCLEFBQUEsSUFBSSxNQUFNLENBQUMsQ0FBQyxPQUFPLEVBQUUsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQztHQUFDLENBQUE7QUFDcEMsQUFBQSxHQUFHLElBQUksQ0FBQSxDQUFBO0FBQ1AsQUFBQSxJQUFJLE1BQU0sQ0FBQyxDQUFDLFVBQVUsRUFBRSxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDO0dBQUMsQztFQUFBLENBQUE7QUFDMUMsQUFBQTtBQUNBLEFBQUEsRUFBRSxJQUFJLENBQUMsUUFBUSxDQUFBLENBQUEsQ0FBQTtBQUNmLEFBQUEsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFBO0FBQ2pCLEFBQUEsSUFBSSxNQUFNLENBQUMsUTtHQUFRLENBQUE7QUFDbkIsQUFBQTtBQUNBLEFBQUEsR0FBRyxHQUFHLENBQUEsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUNqQixBQUFBLElBQUksTUFBTSxDQUFDLENBQUMsUUFBUSxFQUFFLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEM7R0FBQyxDQUFBO0FBQ2hELEFBQUE7QUFDQSxBQUFBLEdBQUcsNkNBQTRDO0FBQy9DLEFBQUEsR0FBVyxNQUFSLFFBQVEsQ0FBQyxDQUFFLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQSxBQUFDLENBQUMsQ0FBQTtBQUMvQixBQUFBLEdBQUcsR0FBRyxDQUFBLFFBQVEsQ0FBQSxDQUFBLENBQUE7QUFDZCxBQUFBLElBQUksTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLFFBQVEsQ0FBQyxDQUFDLEM7R0FBQyxDQUFBO0FBQzlCLEFBQUE7QUFDQSxBQUFBLEdBQUcsR0FBRyxDQUFBLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDaEIsQUFBQSxJQUFJLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFBO0FBQ3RCLEFBQUEsS0FBSyxNQUFNLENBQUMsTTtJQUFNLENBQUE7QUFDbEIsQUFBQTtBQUNBLEFBQUEsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBO0FBQzFCLEFBQUEsSUFBVSxNQUFOLE1BQU0sQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDO0FBQ2hCLEFBQUEsSSxJLEUsSSxDQUFJLEdBQUcsQ0FBQyxDQUFBLE1BQUEsR0FBSyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFOLE1BQUEsQyxHLEUsRSxDQUFNO0FBQ2xCLEFBQUEsS0FBVSxNQUFMLEtBQUssQ0FBQyxDQUFFLENBQUMsTUFBTSxDQUFDO0FBQ3JCLEFBQUEsT0FBTyxHQUFHLENBQUM7QUFDWCxBQUFBLE9BQU8sUUFBUSxDQUFDO0FBQ2hCLEFBQUEsT0FBTyxVQUFVLENBQUM7QUFDbEIsQUFBQSxPQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDdkIsT0FBTyxDQUFDO0FBQ1IsQUFBQSxLQUFLLEdBQUcsQ0FBQSxPQUFPLENBQUEsQ0FBQSxDQUFBO0FBQ2YsQUFBQSxNQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUEsQUFBQyxLQUFLLEM7S0FBQSxDQUFBO0FBQ3ZCLEFBQUEsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFBLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDdEQsQUFBQSxNQUFNLE1BQU0sQ0FBQyxJQUFJLENBQUEsQUFBQyxDQUFDLEVBQUUsRUFBRSxLQUFLLENBQUMsQ0FBQyxDO0tBQUEsQ0FBQTtBQUM5QixBQUFBLEtBQUssSUFBSSxDQUFBLENBQUE7QUFDVCxBQUFBLE1BQU0sTUFBTSxDQUFDLElBQUksQ0FBQSxBQUFDLEdBQUcsQ0FBQTtBQUNyQixBQUFBLE1BQU0sTUFBTSxDQUFDLElBQUksQ0FBQSxBQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsQztLQUFBLEM7SUFBQSxDQUFBO0FBQzVDLEFBQUEsSUFBSSxHQUFHLENBQUEsT0FBTyxDQUFBLENBQUEsQ0FBQTtBQUNkLEFBQUEsS0FBSyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHO0lBQUcsQ0FBQTtBQUN4QyxBQUFBLElBQUksSUFBSSxDQUFBLENBQUE7QUFDUixBQUFBLEtBQUssTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEM7SUFBQyxDO0dBQUEsQ0FBQTtBQUMzQixBQUFBO0FBQ0EsQUFBQSxHQUFRLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUMxQixBQUFBLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFBLENBQUE7QUFDekIsQUFBQSxJQUFJLE1BQU0sQ0FBQyxNO0dBQU0sQ0FBQTtBQUNqQixBQUFBO0FBQ0EsQUFBQSxHQUFzQixNQUFuQixJQUFJLEMsQyxDQUFDLEFBQUMsWSxZLENBQWEsQ0FBQyxDQUFFLENBQUMsQ0FBQztBQUMzQixBQUFBLE1BQU0sT0FBTyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxRQUFRO0FBQ2xDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLFFBQVEsQ0FBQztBQUNsRCxJQUFJLENBQUMsQ0FBQyxRQUFRLFVBQVUsQ0FBQyxDQUFDLFlBQVk7QUFDdEMsSUFBSSxDQUFDLHFCQUFxQixLQUFLO0FBQy9CLElBQUksQ0FBQztBQUNMLEFBQUE7QUFDQSxBQUFBLEdBQVMsTUFBTixNQUFNLENBQUMsQ0FBRSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDdkMsQUFBQSxJQUFJLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEdBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQSxDQUFBO0FBQy9CLEFBQUEsS0FBSyxNQUFNLENBQUMsSztJQUFLLENBQUE7QUFDakIsQUFBQSxJQUFJLEdBQUcsQ0FBQSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ2xELEFBQUEsS0FBSyxNQUFNLENBQUMsSztJQUFLLENBQUE7QUFDakIsQUFBQSxJQUFJLEdBQUcsQ0FBQSxPQUFPLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUksUUFBUSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDdEQsQUFBQSxLQUFLLE1BQU0sQ0FBQyxLO0lBQUssQ0FBQTtBQUNqQixBQUFBLElBQUksTUFBTSxDQUFDLEk7R0FBSSxDQUFBO0FBQ2YsQUFBQTtBQUNBLEFBQUEsR0FBRyxVQUFVLENBQUMsR0FBRyxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBO0FBQ3pCLEFBQUE7QUFDQSxBQUFBLEdBQVMsTUFBTixNQUFNLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQztBQUNmLEFBQUEsR0FBRyxHQUFHLENBQUMsQ0FBQSxNQUFBLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUN4RCxBQUFBLElBQVMsTUFBTCxLQUFLLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7QUFDeEMsQUFBQSxJQUFJLEdBQUcsQ0FBQSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBSSxpQkFBaUIsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ2hFLEFBQUEsS0FBWSxNQUFQLE9BQU8sQ0FBQyxDQUFFLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUNuQyxBQUFBLEtBQUssR0FBRyxDQUFDLENBQUEsTUFBQSxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUNqRCxBQUFBLE1BQVcsTUFBTCxLQUFLLENBQUMsQ0FBRSxDQUFDLE1BQU0sQ0FBQztBQUN0QixBQUFBLFFBQVEsR0FBRyxDQUFDO0FBQ1osQUFBQSxRQUFRLFFBQVEsQ0FBQztBQUNqQixBQUFBLFFBQVEsVUFBVSxDQUFDO0FBQ25CLEFBQUEsUUFBUSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQzFCLFFBQVEsQ0FBQztBQUNULEFBQUEsTUFBTSxHQUFHLENBQUEsT0FBTyxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQzdELEFBQUEsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFBLEFBQUMsQ0FBQyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLENBQUMsQztNQUFBLENBQUE7QUFDeEMsQUFBQSxNQUFNLElBQUksQ0FBQSxDQUFBO0FBQ1YsQUFBQSxPQUFPLE1BQU0sQ0FBQyxJQUFJLENBQUEsQUFBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQy9CLEFBQUEsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFBLEFBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDO01BQUEsQztLQUFBLEM7SUFBQSxDO0dBQUEsQ0FBQTtBQUM3QyxBQUFBLEdBQUcsR0FBRyxDQUFBLE9BQU8sQ0FBQSxDQUFBLENBQUE7QUFDYixBQUFBLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRztHQUFHLENBQUE7QUFDdkMsQUFBQSxHQUFHLElBQUksQ0FBQSxDQUFBO0FBQ1AsQUFBQSxJQUFJLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBTSxDO0dBQUMsQztFQUFBLEM7Q0FBQSxDQUFBO0FBQzFCLEFBQUE7QUFDQSxBQUFBLENBQUMsTUFBTSxDQUFDLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLENBQUMsQztBQUFDLENBQUE7QUFDL0IsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLEFBQUEsTUFBTSxDQUFHLE1BQUYsRUFBRSxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ3BDLEFBQUE7QUFDQSxBQUFBLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLEM7QUFBQSxDQUFBO0FBQ2pDLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBRyxNQUFGLEVBQUUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNwQyxBQUFBO0FBQ0EsQUFBQSxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDO0FBQUEsQ0FBQTtBQUNsQyxBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUssTUFBSixJQUFJLENBQUMsQ0FBRSxDQUFDLENBQUM7QUFDaEIsQUFBQSxFQUFFLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQTtBQUNaLEFBQUEsRUFBRSxLQUFLLEMsQyxDQUFDLEFBQUMsTSxZLENBQU8sQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFBO0FBQ3hCLEFBQUEsRUFBRSxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ3JCLEFBQUEsRUFBRSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDcEIsRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDWixBQUFBO0FBQ0EsQUFBQSxDQUFDLEdBQUcsQ0FBQSxPQUFPLENBQUEsQUFBQyxLQUFLLENBQUEsQ0FBQSxDQUFBLENBQUE7QUFDakIsQUFBQSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUEsQUFBQyxHQUFHLENBQUMsS0FBSyxDQUFDLEM7Q0FBQSxDQUFBO0FBQ3hCLEFBQUEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFBLE9BQU8sQ0FBQSxBQUFDLEtBQUssQ0FBQSxDQUFBLENBQUEsQ0FBQTtBQUN0QixBQUFBLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQSxBQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQztDQUFBLENBQUE7QUFDekMsQUFBQSxDQUFDLEdBQUcsQ0FBQSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ2YsQUFBQSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUEsQUFBQyxDQUFDLEM7Q0FBQSxDQUFBO0FBQ2YsQUFBQSxDQUFDLElBQUksQ0FBQSxDQUFBO0FBQ0wsQUFBQSxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUEsQUFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEM7Q0FBQSxDQUFBO0FBQ2pDLEFBQUEsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFBLEFBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQ3ZCLEFBQUEsQ0FBQyxNO0FBQU0sQ0FBQTtBQUNQIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIHRvLW5pY2UubGliLmNpdmV0XG5cbmltcG9ydCB7c2VwLCBjZW50ZXJlZH0gZnJvbSAnYmFzZS11dGlscydcbmltcG9ydCB7XG5cdGFzc2VydCwgY3JvYWssIHVuZGVmLCBkZWZpbmVkLCBub3RkZWZpbmVkLCBoYXNoLCBoYXNob2YsXG5cdGlzU3RyaW5nLCBpc0FycmF5LCBpc0NsYXNzLCBpc1JlZ0V4cCwgaXNPYmplY3QsIGlzUHJpbWl0aXZlLFxuXHRpc0VtcHR5LCBub25FbXB0eSxcblx0c3ltYm9sTmFtZSwgY2xhc3NOYW1lLCBmdW5jdGlvbk5hbWUsIHJlZ2V4cERlZixcblx0fSBmcm9tICdkYXRhdHlwZXMnXG5pbXBvcnQge1xuXHRnZXRPcHRpb25zLCBlc2NhcGVTdHIsIG8sIHRvQmxvY2ssIHNwYWNlcywgbWFwRWFjaExpbmUsXG5cdH0gZnJvbSAnbGx1dGlscydcblxuZXhwb3J0IHR5cGUgVENvbXBhcmVGdW5jID0gKGE6IHN0cmluZywgYjogc3RyaW5nKSA9PiBudW1iZXJcbmV4cG9ydCB0eXBlIFRNYXBGdW5jID0gKGtleTogc3RyaW5nLCB4OiB1bmtub3duKSA9PiBoYXNob2Y8dW5rbm93bj5cblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGFscGhhQ29tcGFyZTogVENvbXBhcmVGdW5jIDo9IChcblx0XHRhOiBzdHJpbmcsXG5cdFx0Yjogc3RyaW5nXG5cdFx0KTogbnVtYmVyID0+XG5cblx0cmV0dXJuIChhIDwgYikgPyAtMSA6IChhID4gYikgPyAxIDogMFxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyAtLS0gYW55IGxlYWRpbmcgZGlnaXQgbXVzdCBiZSBwcmVjZWRlZCBieSBhIHNpbmdsZSAnXFwnXG5cbmV4cG9ydCB0b05pY2VTdHJpbmcgOj0gKHN0cjogc3RyaW5nKTogc3RyaW5nID0+XG5cblx0IyAtLS0gZXNjYXBlIHNwYWNlcyBhbmQgXFx0LCBcXG4gb3IgXFxyXG5cblx0c3RyMSA6PSBlc2NhcGVTdHIoc3RyKVxuXG5cdCMgLS0tIHByZWNlZGUgd2l0aCAnXFwnIGlmIHN0YXJ0cyB3aXRoIGRpZ2l0LCAnLicgb3IgJy0nXG5cblx0c3RyMiA6PSBzdHIxLm1hdGNoKC9eW1xcZC4tXS8pID8gXCJcXFxcI3tzdHIxfVwiIDogc3RyMVxuXHRzdHIzIDo9IHN0cjIubWF0Y2goL15bXsuzXFxzXSs6LykgPyBcIlxcXFwje3N0cjJ9XCIgOiBzdHIyXG5cblx0IyAtLS0gY2hlY2sgZm9yIGxlYWRpbmcgb3IgdHJhaWxpbmcgc3BhY2VzXG5cdCMgICAgIChUQUJzIGFuZCBORVdMSU5FcyBoYXZlIGFscmVhZHkgYmVlbiBlc2NhcGVkKVxuXHQjICAgICAocmVnZXggYWx3YXlzIG1hdGNoZXMpXG5cblx0cmV0dXJuIHN0cjNcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxucGF0aGFkZCA6PSAoXG5cdFx0cGF0aDogc3RyaW5nXG5cdFx0a2V5OiBzdHJpbmcgfCBudW1iZXJcblx0XHQpOiBzdHJpbmcgPT5cblxuXHRuZXdrZXkgOj0gKFxuXHRcdCAgKHR5cGVvZiBrZXkgPT0gJ251bWJlcicpXG5cdFx0PyBcIlsje2tleS50b1N0cmluZygpfV1cIlxuXHRcdDogXCIvI3trZXl9XCJcblx0XHQpXG5cdHJldHVybiAocGF0aCA9PSAnLycpID8gbmV3a2V5IDogXCIje3BhdGh9I3tuZXdrZXl9XCJcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuIyAtLS0gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQ6XG4jICAgICAgICBjb21wYXJlcyAyIHN0cmluZ3MgYmFzZWQgb24gdGhlaXIgcG9zaXRpb24gaW4gbFNvcnRLZXlzXG4jICAgICAgICBlbHNlIGNvbXBhcmVzIGFscGhhYmV0aWNhbGx5XG5cbmdldENvbXBhcmVGdW5jIDo9IChcblx0XHRsU29ydEtleXM6IHN0cmluZ1tdXG5cdFx0KTogVENvbXBhcmVGdW5jID0+XG5cblx0IyAtLS0gQ3JlYXRlIG1hcCBvZiBrZXkgdG8gbnVtYmVyXG5cdGg6IGhhc2hvZjxudW1iZXI+IDo9IHt9XG5cdGZvciBrZXksaSBvZiBsU29ydEtleXNcblx0XHRoW2tleV0gPSBpKzFcblxuXHRyZXR1cm4gKGE6IHN0cmluZywgYjogc3RyaW5nKTogbnVtYmVyIC0+XG5cdFx0YVZhbCA6PSBoW2FdXG5cdFx0YlZhbCA6PSBoW2JdXG5cblx0XHRpZiBkZWZpbmVkKGFWYWwpXG5cdFx0XHRpZiBkZWZpbmVkKGJWYWwpXG5cdFx0XHRcdCMgLS0tIGNvbXBhcmUgbnVtZXJpY2FsbHlcblx0XHRcdFx0cmV0dXJuIChhVmFsIDwgYlZhbCkgPyAtMSA6IChhVmFsID4gYlZhbCkgPyAxIDogMFxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gLTFcblx0XHRlbHNlXG5cdFx0XHRpZiBkZWZpbmVkKGJWYWwpXG5cdFx0XHRcdHJldHVybiAxXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBhbHBoYUNvbXBhcmUoYSwgYilcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuaW5kZW50ZWQgOj0gKGJsb2NrOiBzdHJpbmcsIG9uZUluZGVudDogc3RyaW5nKSA9PlxuXG5cdHJldHVybiBtYXBFYWNoTGluZShibG9jaywgKGxpbmUpID0+IG9uZUluZGVudCArIGxpbmUpXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCB0b05pY2UgOj0gKFxuXHRcdHg6IHVua25vd24sXG5cdFx0aE9wdGlvbnM6IGhhc2g9e31cblx0XHRtYXBWaXNpdGVkOiBNYXA8b2JqZWN0LCBzdHJpbmc+ID0gbmV3IE1hcDxvYmplY3QsIHN0cmluZz4oKVxuXHRcdHBhdGg6IHN0cmluZyA9ICcvJ1xuXHRcdCk6IHN0cmluZyA9PlxuXG5cdCMgLS0tIFdoZW4gcmVjb3ZlcmFibGUsIGNsYXNzZXMgYW5kIGZ1bmN0aW9uc1xuXHQjICAgICBpbmNsdWRlIHRoZWlyIGRlZmluaXRpb25zLFxuXHQjICAgICB3aXRoIGVzY2FwZWQgY2hhcnNcblxuXHR0eXBlIG9wdCA9IHtcblx0XHRjb21wYWN0OiBib29sZWFuXG5cdFx0cmVjb3ZlcmFibGU6IGJvb2xlYW5cblx0XHRpZ25vcmVFbXB0eVZhbHVlczogYm9vbGVhblxuXHRcdHNvcnRLZXlzOiBib29sZWFuXG5cdFx0c29ydEZ1bmM6IFRDb21wYXJlRnVuYz9cblx0XHRtYXBGdW5jOiBUTWFwRnVuY1xuXHRcdGxJbmNsdWRlOiBzdHJpbmdbXT9cblx0XHRsRXhjbHVkZTogc3RyaW5nW10/XG5cdFx0b25lSW5kZW50OiBzdHJpbmdcblx0XHR9XG5cdHtcdFx0Y29tcGFjdFxuXHRcdFx0cmVjb3ZlcmFibGVcblx0XHRcdGlnbm9yZUVtcHR5VmFsdWVzXG5cdFx0XHRzb3J0S2V5c1xuXHRcdFx0c29ydEZ1bmNcblx0XHRcdG1hcEZ1bmNcblx0XHRcdGxJbmNsdWRlXG5cdFx0XHRsRXhjbHVkZVxuXHRcdFx0b25lSW5kZW50XG5cdFx0fSA6PSBnZXRPcHRpb25zPG9wdD4gaE9wdGlvbnMsIHtcblx0XHRjb21wYWN0OiBmYWxzZVxuXHRcdHJlY292ZXJhYmxlOiBmYWxzZVxuXHRcdGlnbm9yZUVtcHR5VmFsdWVzOiBmYWxzZVxuXHRcdHNvcnRLZXlzOiBmYWxzZVxuXHRcdHNvcnRGdW5jOiB1bmRlZlxuXHRcdG1hcEZ1bmM6IChrZXk6IHN0cmluZywgeDogdW5rbm93bikgPT4gcmV0dXJuIHtba2V5XTogeH1cblx0XHRsSW5jbHVkZTogdW5kZWZcblx0XHRsRXhjbHVkZTogdW5kZWZcblx0XHRvbmVJbmRlbnQ6IHNwYWNlcygzKVxuXHRcdH1cblxuXHQjIC0tLSBZb3UgY2FuIHByb3ZpZGUgc29ydEtleXMgb3IgYSBzb3J0RnVuYywgYnV0IG5vdCBib3RoXG5cdGFzc2VydCBub3QgKHNvcnRLZXlzICYmIGRlZmluZWQoc29ydEZ1bmMpKSwgXCJCYWQgb3B0aW9uc1wiXG5cblx0c3dpdGNoIHR5cGVvZiB4XG5cdFx0d2hlbiAndW5kZWZpbmVkJ1xuXHRcdFx0cmV0dXJuICcudW5kZWYuJ1xuXG5cdFx0d2hlbiAnYm9vbGVhbidcblx0XHRcdHJldHVybiB4ID8gJy50cnVlLicgOiAnLmZhbHNlLidcblxuXHRcdHdoZW4gJ251bWJlcidcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdCAgTnVtYmVyLmlzTmFOKHgpICAgID8gJy5OYU4uJ1xuXHRcdFx0XHQ6IE51bWJlci5pc0Zpbml0ZSh4KSA/IHgudG9TdHJpbmcoKVxuXHRcdFx0XHQ6ICgoeCA8IDApID8gJy5uZWdpbmZpbml0eS4nIDogJy5pbmZpbml0eS4nKVxuXHRcdFx0XHQpXG5cblx0XHR3aGVuICdiaWdpbnQnXG5cdFx0XHRyZXR1cm4geC50b1N0cmluZygpICsgJ24nXG5cblx0XHR3aGVuICdzdHJpbmcnXG5cdFx0XHRyZXR1cm4gdG9OaWNlU3RyaW5nKHgpXG5cblx0XHR3aGVuICdzeW1ib2wnXG5cdFx0XHRuYW1lIDo9IHN5bWJvbE5hbWUoeClcblx0XHRcdHJldHVybiBuYW1lID8gXCIuc3ltYm9sICN7bmFtZX0uXCIgOiAnLnN5bWJvbC4nXG5cblx0XHR3aGVuICdmdW5jdGlvbidcblx0XHRcdGlmIGlzQ2xhc3MoeClcblx0XHRcdFx0cmV0dXJuIFwiLmNsYXNzICN7Y2xhc3NOYW1lKHgpfS5cIlxuXHRcdFx0ZWxzZVxuXHRcdFx0XHRyZXR1cm4gXCIuZnVuY3Rpb24gI3tmdW5jdGlvbk5hbWUoeCl9LlwiXG5cblx0XHR3aGVuICdvYmplY3QnXG5cdFx0XHRpZiAoeCA9PSBudWxsKVxuXHRcdFx0XHRyZXR1cm4gJy5udWxsLidcblxuXHRcdFx0aWYgaXNSZWdFeHAoeClcblx0XHRcdFx0cmV0dXJuIFwiLnJlZ2V4cCAje2VzY2FwZVN0cihyZWdleHBEZWYoeCkpfS5cIlxuXG5cdFx0XHQjIC0tLSBDaGVjayBpZiBvYmplY3Qgd2FzIHByZXZpb3VzbHkgdmlzaXRlZFxuXHRcdFx0cHJldnBhdGggOj0gbWFwVmlzaXRlZC5nZXQgeFxuXHRcdFx0aWYgcHJldnBhdGhcblx0XHRcdFx0cmV0dXJuIFwiLlJFRiAje3ByZXZwYXRofS5cIlxuXG5cdFx0XHRpZiBpc0FycmF5KHgpXG5cdFx0XHRcdGlmICh4Lmxlbmd0aCA9PSAwKVxuXHRcdFx0XHRcdHJldHVybiAnLltdLidcblxuXHRcdFx0XHRtYXBWaXNpdGVkLnNldCB4LCBwYXRoXG5cdFx0XHRcdGxMaW5lcyA6PSBbXVxuXHRcdFx0XHRmb3IgdmFsLGkgb2YgeFxuXHRcdFx0XHRcdGJsb2NrIDo9IHRvTmljZShcblx0XHRcdFx0XHRcdFx0dmFsLFxuXHRcdFx0XHRcdFx0XHRoT3B0aW9ucyxcblx0XHRcdFx0XHRcdFx0bWFwVmlzaXRlZCxcblx0XHRcdFx0XHRcdFx0cGF0aGFkZChwYXRoLCBpKVxuXHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0aWYgY29tcGFjdFxuXHRcdFx0XHRcdFx0bExpbmVzLnB1c2ggYmxvY2tcblx0XHRcdFx0XHRlbHNlIGlmIGlzUHJpbWl0aXZlKHZhbCkgfHwgYmxvY2suc3RhcnRzV2l0aCgnLicpXG5cdFx0XHRcdFx0XHRsTGluZXMucHVzaCBcIi0gI3tibG9ja31cIlxuXHRcdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRcdGxMaW5lcy5wdXNoICctJ1xuXHRcdFx0XHRcdFx0bExpbmVzLnB1c2ggaW5kZW50ZWQoYmxvY2ssIG9uZUluZGVudClcblx0XHRcdFx0aWYgY29tcGFjdFxuXHRcdFx0XHRcdHJldHVybiAnWycgKyBsTGluZXMuam9pbignICcpICsgJ10nXG5cdFx0XHRcdGVsc2Vcblx0XHRcdFx0XHRyZXR1cm4gdG9CbG9jayhsTGluZXMpXG5cblx0XHRcdGxLZXlzIDo9IE9iamVjdC5rZXlzKHgpXG5cdFx0XHRpZiAobEtleXMubGVuZ3RoID09IDApXG5cdFx0XHRcdHJldHVybiAnLnt9LidcblxuXHRcdFx0ZnVuYzogVENvbXBhcmVGdW5jPyA6PSAoXG5cdFx0XHRcdCAgZGVmaW5lZChzb3J0RnVuYykgPyBzb3J0RnVuY1xuXHRcdFx0XHQ6IGRlZmluZWQobEluY2x1ZGUpID8gZ2V0Q29tcGFyZUZ1bmMobEluY2x1ZGUpXG5cdFx0XHRcdDogc29ydEtleXMgICAgICAgICAgPyBhbHBoYUNvbXBhcmVcblx0XHRcdFx0OiAgICAgICAgICAgICAgICAgICAgIHVuZGVmXG5cdFx0XHRcdClcblxuXHRcdFx0dXNlS2V5IDo9IChrZXk6IHVua25vd24pOiBib29sZWFuID0+XG5cdFx0XHRcdGlmICh0eXBlb2Yga2V5ICE9ICdzdHJpbmcnKVxuXHRcdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdFx0XHRpZiBkZWZpbmVkKGxFeGNsdWRlKSAmJiBsRXhjbHVkZS5pbmNsdWRlcyhrZXkpXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHRcdGlmIGRlZmluZWQobEluY2x1ZGUpICYmIG5vdCBsSW5jbHVkZS5pbmNsdWRlcyhrZXkpXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXG5cdFx0XHRcdHJldHVybiB0cnVlXG5cblx0XHRcdG1hcFZpc2l0ZWQuc2V0IHgsIHBhdGhcblxuXHRcdFx0bExpbmVzIDo9IFtdXG5cdFx0XHRmb3Iga2V5IG9mIChkZWZpbmVkKGZ1bmMpID8gbEtleXMuc29ydChmdW5jKSA6IGxLZXlzKVxuXHRcdFx0XHR2YWx1ZSA6PSAoeCBhcyBoYXNob2Y8dW5rbm93bj4pW2tleV1cblx0XHRcdFx0aWYgdXNlS2V5KGtleSkgJiYgKG5vdCBpZ25vcmVFbXB0eVZhbHVlcyB8fCBub25FbXB0eSh2YWx1ZSkpXG5cdFx0XHRcdFx0aE1hcHBlZCA6PSBtYXBGdW5jKGtleSwgdmFsdWUpXG5cdFx0XHRcdFx0Zm9yIFtuZXdrZXksIHZhbF0gb2YgT2JqZWN0LmVudHJpZXMoaE1hcHBlZClcblx0XHRcdFx0XHRcdGJsb2NrIDo9IHRvTmljZShcblx0XHRcdFx0XHRcdFx0XHR2YWwsXG5cdFx0XHRcdFx0XHRcdFx0aE9wdGlvbnMsXG5cdFx0XHRcdFx0XHRcdFx0bWFwVmlzaXRlZCxcblx0XHRcdFx0XHRcdFx0XHRwYXRoYWRkKHBhdGgsIGtleSlcblx0XHRcdFx0XHRcdFx0XHQpXG5cdFx0XHRcdFx0XHRpZiBjb21wYWN0IHx8IGlzUHJpbWl0aXZlKHZhbCkgfHwgYmxvY2suc3RhcnRzV2l0aCgnLicpXG5cdFx0XHRcdFx0XHRcdGxMaW5lcy5wdXNoIFwiI3tuZXdrZXl9OiAje2Jsb2NrfVwiXG5cdFx0XHRcdFx0XHRlbHNlXG5cdFx0XHRcdFx0XHRcdGxMaW5lcy5wdXNoIFwiI3tuZXdrZXl9OlwiXG5cdFx0XHRcdFx0XHRcdGxMaW5lcy5wdXNoIGluZGVudGVkKGJsb2NrLCBvbmVJbmRlbnQpXG5cdFx0XHRpZiBjb21wYWN0XG5cdFx0XHRcdHJldHVybiAneycgKyBsTGluZXMuam9pbignICcpICsgJ30nXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiB0b0Jsb2NrKGxMaW5lcylcblxuXHRyZXR1cm4gXCI8VW5rbm93biBvYmplY3QgI3t4fT5cIlxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgT0wgOj0gKHg6IHVua25vd24pOiBzdHJpbmcgPT5cblxuXHRyZXR1cm4gdG9OaWNlIHgsIHtjb21wYWN0OiB0cnVlfVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5leHBvcnQgTUwgOj0gKHg6IHVua25vd24pOiBzdHJpbmcgPT5cblxuXHRyZXR1cm4gdG9OaWNlIHgsIHtjb21wYWN0OiBmYWxzZX1cblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IERVTVAgOj0gKFxuXHRcdHg6IHVua25vd25cblx0XHRsYWJlbDogc3RyaW5nPyA9IHVuZGVmXG5cdFx0aE9wdGlvbnM6IGhhc2ggPSB7fVxuXHRcdHdpZHRoOiBudW1iZXIgPSA2NFxuXHRcdCk6IHZvaWQgPT5cblxuXHRpZiBpc0VtcHR5IGxhYmVsXG5cdFx0Y29uc29sZS5sb2cgc2VwKHdpZHRoKVxuXHRlbHNlIGlmIGRlZmluZWQgbGFiZWxcblx0XHRjb25zb2xlLmxvZyBjZW50ZXJlZChsYWJlbCwgd2lkdGgsICctJylcblx0aWYgaXNTdHJpbmcoeClcblx0XHRjb25zb2xlLmxvZyB4XG5cdGVsc2Vcblx0XHRjb25zb2xlLmxvZyB0b05pY2UoeCwgaE9wdGlvbnMpXG5cdGNvbnNvbGUubG9nIHNlcCh3aWR0aClcblx0cmV0dXJuXG4iXX0=