"use strict";
// parser.lib.civet

import {sprintf} from "@std/fmt/printf"

import {
	undef, defined, notdefined,
	char, array, hash, isEmpty, nonEmpty,
	} from './datatypes.lib.ts'
import {
	getOptions, escapeStr, spaces,
	} from './llutils.lib.ts'
import {logIndent} from './log-formatter.lib.ts'
import {
	getLogLevel, setLogLevel,
	DBG, INDENT, UNDENT,
	TFormatter, TreeLogger,
	} from './logger.lib.ts'

// ---------------------------------------------------------------------------
// --- generator

const labelGen = function*(): Generator<string, void, void> {

	for (let i1 = 65; i1 <= 90; ++i1) {const ch = String.fromCharCode(i1);
		yield ch
	}
	return
}

// --- Create an iterator from the generator
const labels = labelGen()

export const randomLabel = (): string => {
	const label = labels.next()
	return label.done ? 'ERR!' : label.value
}

// ---------------------------------------------------------------------------

export class State {
	text: string = ''
	pos: number = 0

	// --- optional fields
	skipRule?: Rule
	lMatches?: string[]
	stack?: any[]
	logr?: TreeLogger<[State, State]>

	constructor(
			src: string | State,
			n: number = 0,
			hProps: Object = {}
			) {
		if (typeof src === 'string') {
			this.text = src
			this.pos = n
			Object.assign(this, hProps)
		}
		else {
			Object.assign(this, src)
			this.pos += n
		}
	}
}

export const isFinished = ($: State): boolean => {
	const {text, pos, skipRule} = $
	if (pos === text.length) {
		return true
	}
	else if (skipRule) {
		// --- try running skip rule
		delete $.skipRule     // prevent rule running the skip rule
		const $next = skipRule.next($)
		if (defined($next)) {
			return ($next.pos === $next.text.length)
		}
		else {
			return false
		}
	}
	else {
		return false
	}
}

export type TRuleFunc = ($: State) => (State | undefined)
export type TCallback = () => void

class Rule {
	type: string
	func: TRuleFunc
	label: string = randomLabel()
	lChildren: Rule[] = []
	lCallbacks: TCallback[] = []

	constructor(
			type: string,
			func: TRuleFunc,
			lChildren: Rule[] = []
			) {
		this.type = type
		this.func = func
		this.lChildren = []
	}

	addCallback(cb: TCallback): Rule {
		this.lCallbacks.push(cb)
		return this
	}

	next($: State): (State | undefined) {
		return this.func($)
	}
}

// --- Anything that can be converted to a Rule
type TLaxRule = (string | RegExp | Rule)

// ---------------------------------------------------------------------------

const nbuf = 24
const digs = 1

const DBGMATCH = (
		desc: string,    // Describe what we're trying to match
		$: State,
		$next: State
		): void => {

	const str = escapeStr($.text.substring($.pos, $next.pos))
	const buf = spaces(nbuf - str.length - 1 - 3*logIndent)
	const i = sprintf(`%${digs}d`, $.pos)
	DBG(`[${i} +] ${str}${buf}${desc}`)
	return
}

// ---------------------------------------------------------------------------

const DBGNOMATCH = (
		desc: string,    // Describe what we're trying to match
		$: State
		): void => {

	const buf = spaces(nbuf - 3*logIndent)
	const i = sprintf(`%${digs}d`, $.pos)
	DBG(`[${i} -]${buf}${desc}`)
	return
}

// ---------------------------------------------------------------------------
// --- returns $ if no skip rule OR rule doesn't match

const skipIgnored = ($: State): State => {

	// --- Will always return a defined value
	const {skipRule} = $
	if (notdefined(skipRule)) {
		return $
	}

	// --- make sure skip is only tried once
	delete ($.skipRule)
	const $next = skipRule.next($)
	if (defined($next)) {
		$.skipRule = skipRule    // still need to restore
		return Object.assign($next, {skipRule})
	}
	else {
		return Object.assign($, {skipRule})
	}
}

// ---------------------------------------------------------------------------

export const RegexMatcher = (
		re: RegExp,
		cb: (TCallback | undefined) = undef
		): Rule => {

	const func = ($: State): (State | undefined) => {

		const $cur = skipIgnored($)
		const lMatches = re.exec($cur.text.substring($cur.pos))
		if (defined(lMatches)) {

			// --- Token is matched, add matches to state,
			//     return the next state
			const numChars = lMatches[0].length
			const $next = new State($cur, numChars)
			$.lMatches = lMatches
			DBGMATCH(re.toString(), $cur, $next)
			return $next
		}
		else {
			DBGNOMATCH(re.toString(), $cur)
			return undef
		}
	}
	const newRule = new Rule('r', func)
	return defined(cb) ? newRule.addCallback(cb) : newRule
}

// ---------------------------------------------------------------------------

export const StringMatcher = (
		str: string,
		cb: (TCallback | undefined) = undef
		): Rule => {

	const func = ($: State): (State | undefined) => {

		const $cur = skipIgnored($)
		if ($cur.text.startsWith(str, $cur.pos)) {
			const $next = new State($cur, str.length)
			DBGMATCH(`'${escapeStr(str)}'`, $cur, $next)
			return $next
		}
		else {
			DBGNOMATCH(`'${escapeStr(str)}'`, $cur)
			return undef
		}
	}
	const newRule = new Rule('s', func)
	return defined(cb) ? newRule.addCallback(cb) : newRule
}

// ---------------------------------------------------------------------------

export function getRule(
		laxRule: TLaxRule,
		cb: (TCallback | undefined) = undef
		): Rule {

	if (laxRule instanceof Rule) {
		return defined(cb) ? laxRule.addCallback(cb) : laxRule
	}
	if (laxRule instanceof RegExp) {
		return RegexMatcher(laxRule, cb)
	}
	if (typeof laxRule === 'string') {
		return StringMatcher(laxRule, cb)
	}
	throw new Error(`Invalid rule: ${laxRule}`)
}

// ---------------------------------------------------------------------------
// --- Match a sequence of rules in order

export function All(
		lLaxRules: TLaxRule[],
		cb: (TCallback | undefined) = undef
		): Rule {

	const results=[];for (const laxRule of lLaxRules) {
		results.push(getRule(laxRule))
	};const lRules =results
	const func = ($: State) => {
		DBG('All', INDENT)
		let i2 = 0;for (const rule of lRules) {const i = i2++;
			DBG("-----")
			const $next = rule.next($)
			if (notdefined($next)) {
				DBG('FAIL', UNDENT)
				return undef
			}
			$ = $next
		}

		DBG('OK', UNDENT)
		return $
	}
	const newRule = new Rule('&', func, lRules)
	return defined(cb) ? newRule.addCallback(cb) : newRule
}

// ---------------------------------------------------------------------------
// --- Match any of the rules, check left to right

export function Any(
		lLaxRules: TLaxRule[],
		cb: (TCallback | undefined) = undef
		): Rule {

	const results1=[];for (const laxRule of lLaxRules) {
		results1.push(getRule(laxRule))
	};const lRules =results1
	const func = ($: State) => {
		DBG('Any', INDENT)
		let i3 = 0;for (const rule of lRules) {const i = i3++;
			DBG("-----")
			const $next = rule.next($)
			if (defined($next)) {
				DBG('OK', UNDENT)
				return $next
			}
		}
		DBG('FAIL', UNDENT)
		return undef
	}
	const newRule = new Rule('|', func, lRules)
	return defined(cb) ? newRule.addCallback(cb) : newRule
}

// ---------------------------------------------------------------------------
// --- Match a rule 1 or more times

export function Plus(
		laxRule: TLaxRule,
		cb: (TCallback | undefined) = undef
		): Rule {

	const rule = getRule(laxRule)
	const func = ($: State) => {
		DBG("+", INDENT)
		const $first = rule.next($)
		if (notdefined($first)) {
			DBG("FAIL", UNDENT)
			return undef
		}
		$ = $first
		while(true) {
			const $next = rule.next($)
			if (notdefined($next)) {
				DBG("OK", UNDENT)
				return $next
			}
			$ = $next
		}
	}
	const newRule = new Rule('+', func, [rule])
	return defined(cb) ? newRule.addCallback(cb) : newRule
}

// ---------------------------------------------------------------------------
// --- Match a rule optionally

export function Optional(
		laxRule: TLaxRule,
		cb: (TCallback | undefined) = undef
		): Rule {

	const rule = getRule(laxRule)
	const func = ($: State) => {
		DBG("?", INDENT)
		const $next = rule.next($)
		if (defined($next)) {
			DBG("OK - matched", UNDENT)
			return $next
		}
		else {
			// --- Still succeed since it was optional
			DBG("OK - not matched", UNDENT)
			return $
		}
	}
	const newRule = new Rule('?', func, [rule])
	return defined(cb) ? newRule.addCallback(cb) : newRule
}

// ---------------------------------------------------------------------------

export function Star(
		laxRule: TLaxRule,
		cb: (TCallback | undefined) = undef
		): Rule {

	const rule = getRule(laxRule)
	const func = ($: State) => {
		DBG("*", INDENT)
		while(true) {
			const $next = rule.next($)
			if (notdefined($next)) {
				DBG("OK", UNDENT)
				return $
			}
			$ = $next
		}
	}
	const newRule = new Rule('*', func, [rule])
	return defined(cb) ? newRule.addCallback(cb) : newRule
}

// ---------------------------------------------------------------------------

type TReducer<T> = (
	$: State,
	$next: State
	) => (T | undefined)

export function Node<T>(
		laxRule: TLaxRule,
		reducer: TReducer<T>
		): Rule {

	const rule = getRule(laxRule)
	const func = ($: State) => {
		const $next = rule.next($)
		if (notdefined($next)) {
			return $
		}

		// --- We have a match
		const node = reducer($, $next)
		if (defined(node)) {
			if ($next.stack) {
				$next.stack.push(node)
			}
			else {
				$next.stack = [node]
			}
		}
		return $next
	}
	return new Rule('N', func, [rule])
}

// ---------------------------------------------------------------------------

export const getLineAndColumn = (text: string, pos: number) => {

	const countChars = (str: string, ch: string): number => {
		let count = 0
		let pos = -1
		while ((pos = str.indexOf(ch, pos+1)) !== -1) {
			count += 1
		}
		return count
	}


	// --- Get line number by counting number of \n chars
	//        before the current position
	//     Get column number by finding closest previous position
	//        of a \n and computing the difference

	const shortStr = text.substring(0, pos)
	return [
		countChars(shortStr, "\n") + 1,
		pos - shortStr.lastIndexOf('\n')
		]
}

// ---------------------------------------------------------------------------
// --- Returns a function that:
//        1. accepts a string
//        2. returns given type

type TParser<T> = (str: string) => (T | undefined)

export function getParser<T>(
		laxRule: TLaxRule,
		hOptions: hash = {}
		): TParser<T> {

	const {pos, partial, reSkip, callback} = getOptions(hOptions, {
		pos: 0,
		partial: false,
		reSkip: /^\s+/,
		callbacks: []
		})
	const rule = getRule(laxRule)

	return (text: string): (T | undefined) => {
		DBG(`parse ${escapeStr(text)}`)
		const skipRule = defined(reSkip) ? RegexMatcher(reSkip) : undef

		const $ = new State(text, 0, {skipRule})

		const $next = rule.next($)
		for (const func of rule.lCallbacks) {
			func()
		}

		if (defined($next) && (isFinished($next) || partial)) {
			return $next.stack ? $next.stack[0] : undef
		}
		else {
			const [line, column] = getLineAndColumn(text, $.pos)
			throw new SyntaxError(`No match at pos ${$.pos}
Remainder: ${escapeStr(text.slice($.pos))}`)
		}
	}
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjL2xpYi9wYXJzZXIubGliLmNpdmV0LnRzeCIsInNvdXJjZXMiOlsic3JjL2xpYi9wYXJzZXIubGliLmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsbUJBQWtCO0FBQ2xCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUI7QUFDdkMsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDO0FBQzVCLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQ3RDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0I7QUFDNUIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDL0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQjtBQUMxQixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLHdCQUF3QjtBQUNoRCxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsQ0FBQztBQUMxQixDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNyQixDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsQ0FBQztBQUN4QixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCO0FBQ3pCLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBLGdCQUFlO0FBQ2YsQUFBQTtBQUNBLEFBQUEsQUFBUSxNQUFSLFFBQVEsQ0FBQyxDQUFFLENBQW1DLFEsQ0FBbEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMs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SztBQUM1RCxBQUFBO0FBQ0EsQUFBQSxFQUFHLE1BQUQsQ0FBQyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUM7QUFDckMsQUFBQTtBQUNBLEFBQUEsRUFBTyxNQUFMLEtBQUssQ0FBQyxDQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7QUFDdkIsQUFBQSxFQUFFLEdBQUcsQ0FBQyxDQUFBLE1BQUEsSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFBLENBQUEsQ0FBQTtBQUM3QixBQUFBLEdBQUcsSUFBSSxDQUFDLEM7RUFBQyxDQUFBO0FBQ1QsQUFBQTtBQUNBLEFBQUEsRUFBRSxHQUFHLENBQUEsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQ3JELEFBQUEsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSztFQUFLLENBQUE7QUFDOUMsQUFBQSxFQUFFLElBQUksQ0FBQSxDQUFBO0FBQ04sQUFBQSxHQUFpQixNQUFkLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBRSxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUM7QUFDbEQsQUFBQSxHQUFHLEtBQUssQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUcsZ0JBQ1IsRUFBRSxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQzVCLFdBQWUsRUFBRSxTQUFTLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxBQUMxQyxDQUFHLEM7RUFBQyxDO0NBQUEsQztBQUFBLENBQUE7QUFDUiIsIm5hbWVzIjpbXSwic291cmNlc0NvbnRlbnQiOlsiIyBwYXJzZXIubGliLmNpdmV0XHJcblxyXG5pbXBvcnQge3NwcmludGZ9IGZyb20gXCJAc3RkL2ZtdC9wcmludGZcIlxyXG5cclxuaW1wb3J0IHtcclxuXHR1bmRlZiwgZGVmaW5lZCwgbm90ZGVmaW5lZCxcclxuXHRjaGFyLCBhcnJheSwgaGFzaCwgaXNFbXB0eSwgbm9uRW1wdHksXHJcblx0fSBmcm9tICcuL2RhdGF0eXBlcy5saWIudHMnXHJcbmltcG9ydCB7XHJcblx0Z2V0T3B0aW9ucywgZXNjYXBlU3RyLCBzcGFjZXMsXHJcblx0fSBmcm9tICcuL2xsdXRpbHMubGliLnRzJ1xyXG5pbXBvcnQge2xvZ0luZGVudH0gZnJvbSAnLi9sb2ctZm9ybWF0dGVyLmxpYi50cydcclxuaW1wb3J0IHtcclxuXHRnZXRMb2dMZXZlbCwgc2V0TG9nTGV2ZWwsXHJcblx0REJHLCBJTkRFTlQsIFVOREVOVCxcclxuXHRURm9ybWF0dGVyLCBUcmVlTG9nZ2VyLFxyXG5cdH0gZnJvbSAnLi9sb2dnZXIubGliLnRzJ1xyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyAtLS0gZ2VuZXJhdG9yXHJcblxyXG5sYWJlbEdlbiA6PSAoKTogR2VuZXJhdG9yPHN0cmluZywgdm9pZCwgdm9pZD4gLT5cclxuXHJcblx0Zm9yIGNoIG9mIFsnQScuLidaJ11cclxuXHRcdHlpZWxkIGNoXHJcblx0cmV0dXJuXHJcblxyXG4jIC0tLSBDcmVhdGUgYW4gaXRlcmF0b3IgZnJvbSB0aGUgZ2VuZXJhdG9yXHJcbmxhYmVscyA6PSBsYWJlbEdlbigpXHJcblxyXG5leHBvcnQgcmFuZG9tTGFiZWwgOj0gKCk6IHN0cmluZyA9PlxyXG5cdGxhYmVsIDo9IGxhYmVscy5uZXh0KClcclxuXHRyZXR1cm4gbGFiZWwuZG9uZSA/ICdFUlIhJyA6IGxhYmVsLnZhbHVlXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXRlXHJcblx0dGV4dDogc3RyaW5nID0gJydcclxuXHRwb3M6IG51bWJlciA9IDBcclxuXHJcblx0IyAtLS0gb3B0aW9uYWwgZmllbGRzXHJcblx0c2tpcFJ1bGU/OiBSdWxlXHJcblx0bE1hdGNoZXM/OiBzdHJpbmdbXVxyXG5cdHN0YWNrPzogYW55W11cclxuXHRsb2dyPzogVHJlZUxvZ2dlcjxbU3RhdGUsIFN0YXRlXT5cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRcdHNyYzogc3RyaW5nIHwgU3RhdGVcclxuXHRcdFx0bjogbnVtYmVyID0gMFxyXG5cdFx0XHRoUHJvcHM6IE9iamVjdCA9IHt9XHJcblx0XHRcdClcclxuXHRcdGlmICh0eXBlb2Ygc3JjID09ICdzdHJpbmcnKVxyXG5cdFx0XHRAdGV4dCA9IHNyY1xyXG5cdFx0XHRAcG9zID0gblxyXG5cdFx0XHRPYmplY3QuYXNzaWduKEAsIGhQcm9wcylcclxuXHRcdGVsc2VcclxuXHRcdFx0T2JqZWN0LmFzc2lnbihALCBzcmMpXHJcblx0XHRcdEAucG9zICs9IG5cclxuXHJcbmV4cG9ydCBpc0ZpbmlzaGVkIDo9ICgkOiBTdGF0ZSk6IGJvb2xlYW4gPT5cclxuXHR7dGV4dCwgcG9zLCBza2lwUnVsZX0gOj0gJFxyXG5cdGlmIChwb3MgPT0gdGV4dC5sZW5ndGgpXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdGVsc2UgaWYgKHNraXBSdWxlKVxyXG5cdFx0IyAtLS0gdHJ5IHJ1bm5pbmcgc2tpcCBydWxlXHJcblx0XHRkZWxldGUgJC5za2lwUnVsZSAgICAgIyBwcmV2ZW50IHJ1bGUgcnVubmluZyB0aGUgc2tpcCBydWxlXHJcblx0XHQkbmV4dCA6PSBza2lwUnVsZS5uZXh0KCQpXHJcblx0XHRpZiBkZWZpbmVkKCRuZXh0KVxyXG5cdFx0XHRyZXR1cm4gKCRuZXh0LnBvcyA9PSAkbmV4dC50ZXh0Lmxlbmd0aClcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5leHBvcnQgdHlwZSBUUnVsZUZ1bmMgPSAoJDogU3RhdGUpID0+IFN0YXRlP1xyXG5leHBvcnQgdHlwZSBUQ2FsbGJhY2sgPSAoKSA9PiB2b2lkXHJcblxyXG5jbGFzcyBSdWxlXHJcblx0dHlwZTogc3RyaW5nXHJcblx0ZnVuYzogVFJ1bGVGdW5jXHJcblx0bGFiZWw6IHN0cmluZyA9IHJhbmRvbUxhYmVsKClcclxuXHRsQ2hpbGRyZW46IFJ1bGVbXSA9IFtdXHJcblx0bENhbGxiYWNrczogVENhbGxiYWNrW10gPSBbXVxyXG5cclxuXHRjb25zdHJ1Y3RvcihcclxuXHRcdFx0dHlwZTogc3RyaW5nLFxyXG5cdFx0XHRmdW5jOiBUUnVsZUZ1bmMsXHJcblx0XHRcdGxDaGlsZHJlbjogUnVsZVtdID0gW11cclxuXHRcdFx0KVxyXG5cdFx0QHR5cGUgPSB0eXBlXHJcblx0XHRAZnVuYyA9IGZ1bmNcclxuXHRcdEBsQ2hpbGRyZW4gPSBbXVxyXG5cclxuXHRhZGRDYWxsYmFjayhjYjogVENhbGxiYWNrKTogUnVsZVxyXG5cdFx0QGxDYWxsYmFja3MucHVzaCBjYlxyXG5cdFx0cmV0dXJuIEBcclxuXHJcblx0bmV4dCgkOiBTdGF0ZSk6IFN0YXRlP1xyXG5cdFx0cmV0dXJuIEBmdW5jKCQpXHJcblxyXG4jIC0tLSBBbnl0aGluZyB0aGF0IGNhbiBiZSBjb252ZXJ0ZWQgdG8gYSBSdWxlXHJcbnR5cGUgVExheFJ1bGUgPSAoc3RyaW5nIHwgUmVnRXhwIHwgUnVsZSlcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5uYnVmIDo9IDI0XHJcbmRpZ3MgOj0gMVxyXG5cclxuREJHTUFUQ0ggOj0gKFxyXG5cdFx0ZGVzYzogc3RyaW5nICAgICMgRGVzY3JpYmUgd2hhdCB3ZSdyZSB0cnlpbmcgdG8gbWF0Y2hcclxuXHRcdCQ6IFN0YXRlXHJcblx0XHQkbmV4dDogU3RhdGVcclxuXHRcdCk6IHZvaWQgPT5cclxuXHJcblx0c3RyIDo9IGVzY2FwZVN0cigkLnRleHQuc3Vic3RyaW5nKCQucG9zLCAkbmV4dC5wb3MpKVxyXG5cdGJ1ZiA6PSBzcGFjZXMobmJ1ZiAtIHN0ci5sZW5ndGggLSAxIC0gMypsb2dJbmRlbnQpXHJcblx0aSA6PSBzcHJpbnRmKFwiJSN7ZGlnc31kXCIsICQucG9zKVxyXG5cdERCRyBcIlsje2l9ICtdICN7c3RyfSN7YnVmfSN7ZGVzY31cIlxyXG5cdHJldHVyblxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbkRCR05PTUFUQ0ggOj0gKFxyXG5cdFx0ZGVzYzogc3RyaW5nICAgICMgRGVzY3JpYmUgd2hhdCB3ZSdyZSB0cnlpbmcgdG8gbWF0Y2hcclxuXHRcdCQ6IFN0YXRlXHJcblx0XHQpOiB2b2lkID0+XHJcblxyXG5cdGJ1ZiA6PSBzcGFjZXMobmJ1ZiAtIDMqbG9nSW5kZW50KVxyXG5cdGkgOj0gc3ByaW50ZihcIiUje2RpZ3N9ZFwiLCAkLnBvcylcclxuXHREQkcgXCJbI3tpfSAtXSN7YnVmfSN7ZGVzY31cIlxyXG5cdHJldHVyblxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyAtLS0gcmV0dXJucyAkIGlmIG5vIHNraXAgcnVsZSBPUiBydWxlIGRvZXNuJ3QgbWF0Y2hcclxuXHJcbnNraXBJZ25vcmVkIDo9ICgkOiBTdGF0ZSk6IFN0YXRlID0+XHJcblxyXG5cdCMgLS0tIFdpbGwgYWx3YXlzIHJldHVybiBhIGRlZmluZWQgdmFsdWVcclxuXHR7c2tpcFJ1bGV9IDo9ICRcclxuXHRpZiBub3RkZWZpbmVkKHNraXBSdWxlKVxyXG5cdFx0cmV0dXJuICRcclxuXHJcblx0IyAtLS0gbWFrZSBzdXJlIHNraXAgaXMgb25seSB0cmllZCBvbmNlXHJcblx0ZGVsZXRlKCQuc2tpcFJ1bGUpXHJcblx0JG5leHQgOj0gc2tpcFJ1bGUubmV4dCgkKVxyXG5cdGlmIGRlZmluZWQoJG5leHQpXHJcblx0XHQkLnNraXBSdWxlID0gc2tpcFJ1bGUgICAgIyBzdGlsbCBuZWVkIHRvIHJlc3RvcmVcclxuXHRcdHJldHVybiBPYmplY3QuYXNzaWduICRuZXh0LCB7c2tpcFJ1bGV9XHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24gJCwge3NraXBSdWxlfVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBSZWdleE1hdGNoZXIgOj0gKFxyXG5cdFx0cmU6IFJlZ0V4cFxyXG5cdFx0Y2I6IFRDYWxsYmFjaz8gPSB1bmRlZlxyXG5cdFx0KTogUnVsZSA9PlxyXG5cclxuXHRmdW5jIDo9ICgkOiBTdGF0ZSk6IFN0YXRlPyA9PlxyXG5cclxuXHRcdCRjdXIgOj0gc2tpcElnbm9yZWQoJClcclxuXHRcdGxNYXRjaGVzIDo9IHJlLmV4ZWMoJGN1ci50ZXh0LnN1YnN0cmluZygkY3VyLnBvcykpXHJcblx0XHRpZiBkZWZpbmVkKGxNYXRjaGVzKVxyXG5cclxuXHRcdFx0IyAtLS0gVG9rZW4gaXMgbWF0Y2hlZCwgYWRkIG1hdGNoZXMgdG8gc3RhdGUsXHJcblx0XHRcdCMgICAgIHJldHVybiB0aGUgbmV4dCBzdGF0ZVxyXG5cdFx0XHRudW1DaGFycyA6PSBsTWF0Y2hlc1swXS5sZW5ndGhcclxuXHRcdFx0JG5leHQgOj0gbmV3IFN0YXRlKCRjdXIsIG51bUNoYXJzKVxyXG5cdFx0XHQkLmxNYXRjaGVzID0gbE1hdGNoZXNcclxuXHRcdFx0REJHTUFUQ0ggcmUudG9TdHJpbmcoKSwgJGN1ciwgJG5leHRcclxuXHRcdFx0cmV0dXJuICRuZXh0XHJcblx0XHRlbHNlXHJcblx0XHRcdERCR05PTUFUQ0ggcmUudG9TdHJpbmcoKSwgJGN1clxyXG5cdFx0XHRyZXR1cm4gdW5kZWZcclxuXHRuZXdSdWxlIDo9IG5ldyBSdWxlKCdyJywgZnVuYylcclxuXHRyZXR1cm4gZGVmaW5lZChjYikgPyBuZXdSdWxlLmFkZENhbGxiYWNrKGNiKSA6IG5ld1J1bGVcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgU3RyaW5nTWF0Y2hlciA6PSAoXHJcblx0XHRzdHI6IHN0cmluZ1xyXG5cdFx0Y2I6IFRDYWxsYmFjaz8gPSB1bmRlZlxyXG5cdFx0KTogUnVsZSA9PlxyXG5cclxuXHRmdW5jIDo9ICgkOiBTdGF0ZSk6IFN0YXRlPyA9PlxyXG5cclxuXHRcdCRjdXIgOj0gc2tpcElnbm9yZWQoJClcclxuXHRcdGlmICgkY3VyLnRleHQuc3RhcnRzV2l0aChzdHIsICRjdXIucG9zKSlcclxuXHRcdFx0JG5leHQgOj0gbmV3IFN0YXRlKCRjdXIsIHN0ci5sZW5ndGgpXHJcblx0XHRcdERCR01BVENIIFwiJyN7ZXNjYXBlU3RyKHN0cil9J1wiLCAkY3VyLCAkbmV4dFxyXG5cdFx0XHRyZXR1cm4gJG5leHRcclxuXHRcdGVsc2VcclxuXHRcdFx0REJHTk9NQVRDSCBcIicje2VzY2FwZVN0cihzdHIpfSdcIiwgJGN1clxyXG5cdFx0XHRyZXR1cm4gdW5kZWZcclxuXHRuZXdSdWxlIDo9IG5ldyBSdWxlKCdzJywgZnVuYylcclxuXHRyZXR1cm4gZGVmaW5lZChjYikgPyBuZXdSdWxlLmFkZENhbGxiYWNrKGNiKSA6IG5ld1J1bGVcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UnVsZShcclxuXHRcdGxheFJ1bGU6IFRMYXhSdWxlXHJcblx0XHRjYjogVENhbGxiYWNrPyA9IHVuZGVmXHJcblx0XHQpOiBSdWxlXHJcblxyXG5cdGlmIChsYXhSdWxlIGluc3RhbmNlb2YgUnVsZSlcclxuXHRcdHJldHVybiBkZWZpbmVkKGNiKSA/IGxheFJ1bGUuYWRkQ2FsbGJhY2soY2IpIDogbGF4UnVsZVxyXG5cdGlmIChsYXhSdWxlIGluc3RhbmNlb2YgUmVnRXhwKVxyXG5cdFx0cmV0dXJuIFJlZ2V4TWF0Y2hlcihsYXhSdWxlLCBjYilcclxuXHRpZiAodHlwZW9mIGxheFJ1bGUgPT0gJ3N0cmluZycpXHJcblx0XHRyZXR1cm4gU3RyaW5nTWF0Y2hlcihsYXhSdWxlLCBjYilcclxuXHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJ1bGU6ICN7bGF4UnVsZX1cIilcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIE1hdGNoIGEgc2VxdWVuY2Ugb2YgcnVsZXMgaW4gb3JkZXJcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBBbGwoXHJcblx0XHRsTGF4UnVsZXM6IFRMYXhSdWxlW11cclxuXHRcdGNiOiBUQ2FsbGJhY2s/ID0gdW5kZWZcclxuXHRcdCk6IFJ1bGVcclxuXHJcblx0bFJ1bGVzIDo9IGZvciBsYXhSdWxlIG9mIGxMYXhSdWxlc1xyXG5cdFx0Z2V0UnVsZSBsYXhSdWxlXHJcblx0ZnVuYyA6PSAoJDogU3RhdGUpID0+XHJcblx0XHREQkcgJ0FsbCcsIElOREVOVFxyXG5cdFx0Zm9yIHJ1bGUsaSBvZiBsUnVsZXNcclxuXHRcdFx0REJHIFwiLS0tLS1cIlxyXG5cdFx0XHQkbmV4dCA6PSBydWxlLm5leHQoJClcclxuXHRcdFx0aWYgbm90ZGVmaW5lZCgkbmV4dClcclxuXHRcdFx0XHREQkcgJ0ZBSUwnLCBVTkRFTlRcclxuXHRcdFx0XHRyZXR1cm4gdW5kZWZcclxuXHRcdFx0JCA9ICRuZXh0XHJcblxyXG5cdFx0REJHICdPSycsIFVOREVOVFxyXG5cdFx0cmV0dXJuICRcclxuXHRuZXdSdWxlIDo9IG5ldyBSdWxlKCcmJywgZnVuYywgbFJ1bGVzKVxyXG5cdHJldHVybiBkZWZpbmVkKGNiKSA/IG5ld1J1bGUuYWRkQ2FsbGJhY2soY2IpIDogbmV3UnVsZVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyAtLS0gTWF0Y2ggYW55IG9mIHRoZSBydWxlcywgY2hlY2sgbGVmdCB0byByaWdodFxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIEFueShcclxuXHRcdGxMYXhSdWxlczogVExheFJ1bGVbXVxyXG5cdFx0Y2I6IFRDYWxsYmFjaz8gPSB1bmRlZlxyXG5cdFx0KTogUnVsZVxyXG5cclxuXHRsUnVsZXMgOj0gZm9yIGxheFJ1bGUgb2YgbExheFJ1bGVzXHJcblx0XHRnZXRSdWxlIGxheFJ1bGVcclxuXHRmdW5jIDo9ICgkOiBTdGF0ZSkgPT5cclxuXHRcdERCRyAnQW55JywgSU5ERU5UXHJcblx0XHRmb3IgcnVsZSxpIG9mIGxSdWxlc1xyXG5cdFx0XHREQkcgXCItLS0tLVwiXHJcblx0XHRcdCRuZXh0IDo9IHJ1bGUubmV4dCgkKVxyXG5cdFx0XHRpZiBkZWZpbmVkKCRuZXh0KVxyXG5cdFx0XHRcdERCRyAnT0snLCBVTkRFTlRcclxuXHRcdFx0XHRyZXR1cm4gJG5leHRcclxuXHRcdERCRyAnRkFJTCcsIFVOREVOVFxyXG5cdFx0cmV0dXJuIHVuZGVmXHJcblx0bmV3UnVsZSA6PSBuZXcgUnVsZSgnfCcsIGZ1bmMsIGxSdWxlcylcclxuXHRyZXR1cm4gZGVmaW5lZChjYikgPyBuZXdSdWxlLmFkZENhbGxiYWNrKGNiKSA6IG5ld1J1bGVcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIE1hdGNoIGEgcnVsZSAxIG9yIG1vcmUgdGltZXNcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBQbHVzKFxyXG5cdFx0bGF4UnVsZTogVExheFJ1bGVcclxuXHRcdGNiOiBUQ2FsbGJhY2s/ID0gdW5kZWZcclxuXHRcdCk6IFJ1bGVcclxuXHJcblx0cnVsZSA6PSBnZXRSdWxlKGxheFJ1bGUpXHJcblx0ZnVuYyA6PSAoJDogU3RhdGUpID0+XHJcblx0XHREQkcgXCIrXCIsIElOREVOVFxyXG5cdFx0JGZpcnN0IDo9IHJ1bGUubmV4dCgkKVxyXG5cdFx0aWYgbm90ZGVmaW5lZCgkZmlyc3QpXHJcblx0XHRcdERCRyBcIkZBSUxcIiwgVU5ERU5UXHJcblx0XHRcdHJldHVybiB1bmRlZlxyXG5cdFx0JCA9ICRmaXJzdFxyXG5cdFx0bG9vcFxyXG5cdFx0XHQkbmV4dCA6PSBydWxlLm5leHQoJClcclxuXHRcdFx0aWYgbm90ZGVmaW5lZCgkbmV4dClcclxuXHRcdFx0XHREQkcgXCJPS1wiLCBVTkRFTlRcclxuXHRcdFx0XHRyZXR1cm4gJG5leHRcclxuXHRcdFx0JCA9ICRuZXh0XHJcblx0bmV3UnVsZSA6PSBuZXcgUnVsZSgnKycsIGZ1bmMsIFtydWxlXSlcclxuXHRyZXR1cm4gZGVmaW5lZChjYikgPyBuZXdSdWxlLmFkZENhbGxiYWNrKGNiKSA6IG5ld1J1bGVcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIE1hdGNoIGEgcnVsZSBvcHRpb25hbGx5XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gT3B0aW9uYWwoXHJcblx0XHRsYXhSdWxlOiBUTGF4UnVsZVxyXG5cdFx0Y2I6IFRDYWxsYmFjaz8gPSB1bmRlZlxyXG5cdFx0KTogUnVsZVxyXG5cclxuXHRydWxlIDo9IGdldFJ1bGUobGF4UnVsZSlcclxuXHRmdW5jIDo9ICgkOiBTdGF0ZSkgPT5cclxuXHRcdERCRyBcIj9cIiwgSU5ERU5UXHJcblx0XHQkbmV4dCA6PSBydWxlLm5leHQoJClcclxuXHRcdGlmIGRlZmluZWQoJG5leHQpXHJcblx0XHRcdERCRyBcIk9LIC0gbWF0Y2hlZFwiLCBVTkRFTlRcclxuXHRcdFx0cmV0dXJuICRuZXh0XHJcblx0XHRlbHNlXHJcblx0XHRcdCMgLS0tIFN0aWxsIHN1Y2NlZWQgc2luY2UgaXQgd2FzIG9wdGlvbmFsXHJcblx0XHRcdERCRyBcIk9LIC0gbm90IG1hdGNoZWRcIiwgVU5ERU5UXHJcblx0XHRcdHJldHVybiAkXHJcblx0bmV3UnVsZSA6PSBuZXcgUnVsZSgnPycsIGZ1bmMsIFtydWxlXSlcclxuXHRyZXR1cm4gZGVmaW5lZChjYikgPyBuZXdSdWxlLmFkZENhbGxiYWNrKGNiKSA6IG5ld1J1bGVcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gU3RhcihcclxuXHRcdGxheFJ1bGU6IFRMYXhSdWxlXHJcblx0XHRjYjogVENhbGxiYWNrPyA9IHVuZGVmXHJcblx0XHQpOiBSdWxlXHJcblxyXG5cdHJ1bGUgOj0gZ2V0UnVsZShsYXhSdWxlKVxyXG5cdGZ1bmMgOj0gKCQ6IFN0YXRlKSA9PlxyXG5cdFx0REJHIFwiKlwiLCBJTkRFTlRcclxuXHRcdGxvb3BcclxuXHRcdFx0JG5leHQgOj0gcnVsZS5uZXh0KCQpXHJcblx0XHRcdGlmIG5vdGRlZmluZWQoJG5leHQpXHJcblx0XHRcdFx0REJHIFwiT0tcIiwgVU5ERU5UXHJcblx0XHRcdFx0cmV0dXJuICRcclxuXHRcdFx0JCA9ICRuZXh0XHJcblx0bmV3UnVsZSA6PSBuZXcgUnVsZSgnKicsIGZ1bmMsIFtydWxlXSlcclxuXHRyZXR1cm4gZGVmaW5lZChjYikgPyBuZXdSdWxlLmFkZENhbGxiYWNrKGNiKSA6IG5ld1J1bGVcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG50eXBlIFRSZWR1Y2VyPFQ+ID0gKFxyXG5cdCQ6IFN0YXRlXHJcblx0JG5leHQ6IFN0YXRlXHJcblx0KSA9PiBUP1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE5vZGU8VD4oXHJcblx0XHRsYXhSdWxlOiBUTGF4UnVsZSxcclxuXHRcdHJlZHVjZXI6IFRSZWR1Y2VyPFQ+XHJcblx0XHQpOiBSdWxlXHJcblxyXG5cdHJ1bGUgOj0gZ2V0UnVsZSBsYXhSdWxlXHJcblx0ZnVuYyA6PSAoJDogU3RhdGUpID0+XHJcblx0XHQkbmV4dCA6PSBydWxlLm5leHQoJClcclxuXHRcdGlmIG5vdGRlZmluZWQoJG5leHQpXHJcblx0XHRcdHJldHVybiAkXHJcblxyXG5cdFx0IyAtLS0gV2UgaGF2ZSBhIG1hdGNoXHJcblx0XHRub2RlIDo9IHJlZHVjZXIoJCwgJG5leHQpXHJcblx0XHRpZiBkZWZpbmVkKG5vZGUpXHJcblx0XHRcdGlmICRuZXh0LnN0YWNrXHJcblx0XHRcdFx0JG5leHQuc3RhY2sucHVzaCBub2RlXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHQkbmV4dC5zdGFjayA9IFtub2RlXVxyXG5cdFx0cmV0dXJuICRuZXh0XHJcblx0cmV0dXJuIG5ldyBSdWxlKCdOJywgZnVuYywgW3J1bGVdKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBnZXRMaW5lQW5kQ29sdW1uIDo9ICh0ZXh0OiBzdHJpbmcsIHBvczogbnVtYmVyKSA9PlxyXG5cclxuXHRjb3VudENoYXJzIDo9IChzdHI6IHN0cmluZywgY2g6IHN0cmluZyk6IG51bWJlciA9PlxyXG5cdFx0bGV0IGNvdW50ID0gMFxyXG5cdFx0bGV0IHBvcyA9IC0xXHJcblx0XHR3aGlsZSAocG9zID0gc3RyLmluZGV4T2YoY2gsIHBvcysxKSkgIT0gLTFcclxuXHRcdFx0Y291bnQgKz0gMVxyXG5cdFx0cmV0dXJuIGNvdW50XHJcblxyXG5cclxuXHQjIC0tLSBHZXQgbGluZSBudW1iZXIgYnkgY291bnRpbmcgbnVtYmVyIG9mIFxcbiBjaGFyc1xyXG5cdCMgICAgICAgIGJlZm9yZSB0aGUgY3VycmVudCBwb3NpdGlvblxyXG5cdCMgICAgIEdldCBjb2x1bW4gbnVtYmVyIGJ5IGZpbmRpbmcgY2xvc2VzdCBwcmV2aW91cyBwb3NpdGlvblxyXG5cdCMgICAgICAgIG9mIGEgXFxuIGFuZCBjb21wdXRpbmcgdGhlIGRpZmZlcmVuY2VcclxuXHJcblx0c2hvcnRTdHIgOj0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKVxyXG5cdHJldHVybiBbXHJcblx0XHRjb3VudENoYXJzKHNob3J0U3RyLCBcIlxcblwiKSArIDEsXHJcblx0XHRwb3MgLSBzaG9ydFN0ci5sYXN0SW5kZXhPZignXFxuJylcclxuXHRcdF1cclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0OlxyXG4jICAgICAgICAxLiBhY2NlcHRzIGEgc3RyaW5nXHJcbiMgICAgICAgIDIuIHJldHVybnMgZ2l2ZW4gdHlwZVxyXG5cclxudHlwZSBUUGFyc2VyPFQ+ID0gKHN0cjogc3RyaW5nKSA9PiBUP1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcnNlcjxUPihcclxuXHRcdGxheFJ1bGU6IFRMYXhSdWxlXHJcblx0XHRoT3B0aW9uczogaGFzaCA9IHt9XHJcblx0XHQpOiBUUGFyc2VyPFQ+XHJcblxyXG5cdHtwb3MsIHBhcnRpYWwsIHJlU2tpcCwgY2FsbGJhY2t9IDo9IGdldE9wdGlvbnMgaE9wdGlvbnMsIHtcclxuXHRcdHBvczogMFxyXG5cdFx0cGFydGlhbDogZmFsc2VcclxuXHRcdHJlU2tpcDogL15cXHMrL1xyXG5cdFx0Y2FsbGJhY2tzOiBbXVxyXG5cdFx0fVxyXG5cdHJ1bGUgOj0gZ2V0UnVsZSBsYXhSdWxlXHJcblxyXG5cdHJldHVybiAodGV4dDogc3RyaW5nKTogVD8gPT5cclxuXHRcdERCRyBcInBhcnNlICN7ZXNjYXBlU3RyKHRleHQpfVwiXHJcblx0XHRza2lwUnVsZSA6PSBkZWZpbmVkKHJlU2tpcCkgPyBSZWdleE1hdGNoZXIocmVTa2lwKSA6IHVuZGVmXHJcblxyXG5cdFx0JCA6PSBuZXcgU3RhdGUodGV4dCwgMCwge3NraXBSdWxlfSlcclxuXHJcblx0XHQkbmV4dCA6PSBydWxlLm5leHQoJClcclxuXHRcdGZvciBmdW5jIG9mIHJ1bGUubENhbGxiYWNrc1xyXG5cdFx0XHRmdW5jKClcclxuXHJcblx0XHRpZiBkZWZpbmVkKCRuZXh0KSAmJiAoaXNGaW5pc2hlZCgkbmV4dCkgfHwgcGFydGlhbClcclxuXHRcdFx0cmV0dXJuICRuZXh0LnN0YWNrID8gJG5leHQuc3RhY2tbMF0gOiB1bmRlZlxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRbbGluZSwgY29sdW1uXSA6PSBnZXRMaW5lQW5kQ29sdW1uKHRleHQsICQucG9zKVxyXG5cdFx0XHR0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJcIlwiXHJcblx0XHRcdFx0Tm8gbWF0Y2ggYXQgcG9zICN7JC5wb3N9XHJcblx0XHRcdFx0UmVtYWluZGVyOiAje2VzY2FwZVN0cih0ZXh0LnNsaWNlKCQucG9zKSl9XHJcblx0XHRcdFx0XCJcIlwiKVxyXG4iXX0=