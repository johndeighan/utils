"use strict";
// parser.lib.civet

import {sprintf} from "@std/fmt/printf"

import {
	undef, defined, notdefined,
	char, array, hash, isEmpty, nonEmpty,
	} from './datatypes.lib.ts'
import {
	getOptions, escapeStr, spaces,
	} from './llutils.lib.ts'
import {logIndent} from './log-formatter.lib.ts'
import {
	getLogLevel, setLogLevel,
	DBG, INDENT, UNDENT,
	TFormatter, TreeLogger,
	} from './logger.lib.ts'

// ---------------------------------------------------------------------------

export class State {
	text: string = ''
	pos: number = 0

	// --- optional fields
	skipRule?: TRule
	lMatches?: string[]
	stack?: any[]
	logr?: TreeLogger<[State, State]>

	constructor(
			src: string | State,
			n: number = 0,
			hProps: Object = {}
			) {
		if (typeof src === 'string') {
			this.text = src
			this.pos = n
			Object.assign(this, hProps)
		}
		else {
			Object.assign(this, src)
			this.pos += n
		}
	}
}

export const isFinished = ($: State): boolean => {
	const {text, pos, skipRule} = $
	if (pos === text.length) {
		return true
	}
	else if (skipRule) {
		// --- try running skip rule
		delete $.skipRule     // prevent rule running the skip rule
		const $next = skipRule($)
		if (defined($next)) {
			return ($next.pos === $next.text.length)
		}
		else {
			return false
		}
	}
	else {
		return false
	}
}

export type TRuleFunc = ($: State) => (State | undefined)
export type TCallback = (lMatches: string[]) => void
export type TRule = TRuleFunc & {
	type: string
	label?: string
	lCallbacks?: TCallback[]
	}

// --- Anything that can be converted to a TRule
type TLaxRule = (string | RegExp | TRule)

// ---------------------------------------------------------------------------

const nbuf = 24
const digs = 1

const DBGMATCH = (
		desc: string,    // Describe what we're trying to match
		$: State,
		$next: State
		): void => {

	const str = escapeStr($.text.substring($.pos, $next.pos))
	const buf = spaces(nbuf - str.length - 1 - 3*logIndent)
	const i = sprintf(`%${digs}d`, $.pos)
	DBG(`[${i} +] ${str}${buf}${desc}`)
	return
}

// ---------------------------------------------------------------------------

const DBGNOMATCH = (
		desc: string,    // Describe what we're trying to match
		$: State
		): void => {

	const buf = spaces(nbuf - 3*logIndent)
	const i = sprintf(`%${digs}d`, $.pos)
	DBG(`[${i} -]${buf}${desc}`)
	return
}

// ---------------------------------------------------------------------------
// --- returns $ if no skip rule OR rule doesn't match

const skipIgnored = ($: State): State => {

	// --- Will always return a defined value
	const {skipRule} = $
	if (notdefined(skipRule)) {
		return $
	}

	// --- make sure skip is only tried once
	delete ($.skipRule)
	const $next = skipRule($)
	if (defined($next)) {
		$.skipRule = skipRule    // still need to restore
		return Object.assign($next, {skipRule})
	}
	else {
		return Object.assign($, {skipRule})
	}
}

// ---------------------------------------------------------------------------

export const RegexMatcher = (re: RegExp): TRule => {

	const func = ($: State): (State | undefined) => {

		const $cur = skipIgnored($)
		const lMatches = re.exec($cur.text.substring($cur.pos))
		if (defined(lMatches)) {

			// --- Token is matched, add matches to state,
			//     return the next state
			const numChars = lMatches[0].length
//			$next := {
//				...$cur,
//				pos: $cur.pos + numChars,
//				}
			const $next = new State($cur, numChars)
			$.lMatches = lMatches
			DBGMATCH(re.toString(), $cur, $next)
			return $next
		}
		else {
			DBGNOMATCH(re.toString(), $cur)
			return undef
		}
	}
	func.type = 'r'
	return func
}

// ---------------------------------------------------------------------------

export const StringMatcher = (str: string): TRule => {

	const func = ($: State): (State | undefined) => {

		const $cur = skipIgnored($)
		if ($cur.text.startsWith(str, $cur.pos)) {
			const $next = new State($cur, str.length)
//			$next := {
//				...$cur,
//				pos: $cur.pos + str.length
//				}
			DBGMATCH(`'${escapeStr(str)}'`, $cur, $next)
			return $next
		}
		else {
			DBGNOMATCH(`'${escapeStr(str)}'`, $cur)
			return undef
		}
	}
	func.type = 'f'
	return func
}

// ---------------------------------------------------------------------------

export function getRule(rule: TLaxRule): TRule {

	if (typeof (rule) === 'function') {
		rule.type = 'f'
		return rule
	}
	if (rule instanceof RegExp) {
		return RegexMatcher(rule)
	}
	if (typeof (rule) === 'string') {
		return StringMatcher(rule)
	}
	throw new Error(`Invalid rule: ${rule}`)
}

// ---------------------------------------------------------------------------

export const ruleLabel = (rule: TRule, ch: (char | undefined)=undef): string => {

	if (defined(ch)) {
		return (rule.label || 'X') + ch
	}
	else {
		return rule.label || 'X'
	}
}

// ---------------------------------------------------------------------------

export const ruleSetLabel = (lRules: TRule[], ch: char): string => {

	return lRules.map((r) => ruleLabel(r)).join(` ${ch} `)
}

// ---------------------------------------------------------------------------
// --- Match a sequence of rules left to right

export function All(lLaxRules: TLaxRule[]): TRule {

	const lRules = lLaxRules.map(getRule)
	const label = lRules.map((r) => r.label || 'X').join(' ')
	const func = ($: State) => {
		DBG(label, INDENT)
		let i1 = 0;for (const rule of lRules) {const i = i1++;
			DBG("-----")
			const $next = rule($)
			if (notdefined($next)) {
				DBG('FAIL', UNDENT)
				return undef
			}
			$ = $next
		}

		DBG('OK', UNDENT)
		return $
	}
	func.type = '&'
	return func
}

// ---------------------------------------------------------------------------
// --- Match any of the rules, check left to right

export function Any(lLaxRules: TLaxRule[]): TRule {

	const lRules = lLaxRules.map(getRule)
	const label = lRules.map((r) => r.label || 'X').join(' | ')
	const func = ($: State) => {
		DBG(label, INDENT)
		let i2 = 0;for (const rule of lRules) {const i = i2++;
			DBG("-----")
			const $next = rule($)
			if (defined($next)) {
				DBG('OK', UNDENT)
				return $next
			}
		}
		DBG('FAIL', UNDENT)
		return undef
	}
	func.type = '|'
	return func
}

// ---------------------------------------------------------------------------
// --- Match a rule 1 or more times

export function Plus(laxRule: TLaxRule): TRule {

	const rule = getRule(laxRule)
	const func = ($: State) => {
		DBG("+", INDENT)
		const $first = rule($)
		if (notdefined($first)) {
			DBG("FAIL", UNDENT)
			return undef
		}
		$ = $first
		while(true) {
			const $next = rule($)
			if (notdefined($next)) {
				DBG("OK", UNDENT)
				return $next
			}
			$ = $next
		}
	}
	func.type = '+'
	return func
}

// ---------------------------------------------------------------------------
// --- Match a rule optionally

export function Optional(laxRule: TLaxRule): TRule {

	const rule = getRule(laxRule)
	const func = ($: State) => {
		DBG("?", INDENT)
		const $next = rule($)
		if (defined($next)) {
			DBG("OK - matched", UNDENT)
			return $next
		}
		else {
			// --- Still succeed since it was optional
			DBG("OK - not matched", UNDENT)
			return $
		}
	}
	func.type = '?'
	return func
}

// ---------------------------------------------------------------------------

export function Star(laxRule: TLaxRule): TRule {

	const rule = getRule(laxRule)
	const func = ($: State) => {
		DBG("*", INDENT)
		while(true) {
			const $next = rule($)
			if (notdefined($next)) {
				DBG("OK", UNDENT)
				return $
			}
			$ = $next
		}
	}
	func.type = '*'
	return func
}

// ---------------------------------------------------------------------------

type TReducer<T> = (
	$: State,
	$next: State
	) => (T | undefined)

export function Node<T>(
		laxRule: TLaxRule,
		reducer: TReducer<T>
		): TRule {

	const rule = getRule(laxRule)
	const func = ($: State) => {
		const $next = rule($)
		if (notdefined($next)) {
			return $
		}

		// --- We have a match
		const node = reducer($, $next)
		if (defined(node)) {
			if ($next.stack) {
				$next.stack.push(node)
			}
			else {
				$next.stack = [node]
			}
		}
		return $next
	}
	func.type = 'N'
	return func
}

// ---------------------------------------------------------------------------

export const getLineAndColumn = (text: string, pos: number) => {

	const countChars = (str: string, ch: string): number => {
		let count = 0
		let pos = -1
		while ((pos = str.indexOf(ch, pos+1)) !== -1) {
			count += 1
		}
		return count
	}


	// --- Get line number by counting number of \n chars
	//        before the current position
	//     Get column number by finding closest previous position
	//        of a \n and computing the difference

	const shortStr = text.substring(0, pos)
	return [
		countChars(shortStr, "\n") + 1,
		pos - shortStr.lastIndexOf('\n')
		]
}

// ---------------------------------------------------------------------------
// --- Returns a function that:
//        1. accepts a string
//        2. returns given type

type TParser<T> = (str: string) => (T | undefined)

export function getParser<T>(
		laxRule: TLaxRule,
		hOptions: hash = {}
		): TParser<T> {

	const {pos, partial, reSkip} = getOptions(hOptions, {
		pos: 0,
		partial: false,
		reSkip: /^\s+/
		})
	const rule = getRule(laxRule)

	return (text: string): (T | undefined) => {
		DBG(`parse ${escapeStr(text)}`)
		const skipRule = defined(reSkip) ? RegexMatcher(reSkip) : undef

		const $ = new State(text, 0, {skipRule})

		const $next = rule($)

		if (defined($next) && (isFinished($next) || partial)) {
			return $next.stack ? $next.stack[0] : undef
		}
		else {
			const [line, column] = getLineAndColumn(text, $.pos)
			throw new SyntaxError(`No match at pos ${$.pos}
Remainder: ${escapeStr(text.slice($.pos))}`)
		}
	}
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjL2xpYi9wYXJzZXIubGliLmNpdmV0LnRzeCIsInNvdXJjZXMiOlsic3JjL2xpYi9wYXJzZXIubGliLmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsbUJBQWtCO0FBQ2xCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUI7QUFDdkMsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDO0FBQzVCLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQ3RDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0I7QUFDNUIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDL0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQjtBQUMxQixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLHdCQUF3QjtBQUNoRCxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsQ0FBQztBQUMxQixDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNyQixDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsQ0FBQztBQUN4QixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCO0FBQ3pCLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFBLENBQUE7QUFDbEIsQUFBQSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUNsQixBQUFBLENBQUMsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hCLEFBQUE7QUFDQSxBQUFBLENBQUMsc0JBQXFCO0FBQ3RCLEFBQUEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEtBQUs7QUFDakIsQUFBQSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7QUFDcEIsQUFBQSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7QUFDZCxBQUFBLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNsQyxBQUFBO0FBQ0EsQUFBQSxDLFdBQVksQ0FBQztBQUNiLEFBQUEsR0FBRyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQTtBQUN0QixBQUFBLEdBQUcsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDaEIsQUFBQSxHQUFHLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ3RCLEdBQUcsQ0FBQyxDQUFBLENBQUE7QUFDSixBQUFBLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsR0FBRSxDQUFDLFFBQVEsQ0FBQyxDQUFBLENBQUE7QUFDN0IsQUFBQSxHQUFHLEksQ0FBQyxJQUFJLEMsQ0FBRSxDQUFDLEdBQUc7QUFDZCxBQUFBLEdBQUcsSSxDQUFDLEdBQUcsQyxDQUFFLENBQUMsQ0FBQztBQUNYLEFBQUEsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLElBQUMsQ0FBQyxDQUFDLE1BQU0sQztFQUFDLENBQUE7QUFDM0IsQUFBQSxFQUFFLElBQUksQ0FBQSxDQUFBO0FBQ04sQUFBQSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBQyxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQ3hCLEFBQUEsR0FBRyxJQUFDLENBQUMsR0FBRyxDLEVBQUcsQ0FBQyxDO0VBQUMsQztDQUFBLEM7QUFBQSxDQUFBO0FBQ2IsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQVcsTUFBVixVQUFVLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDM0MsQUFBQSxDQUFzQixNQUFyQixDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUUsQ0FBQyxDQUFDO0FBQzNCLEFBQUEsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUUsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUEsQ0FBQTtBQUN4QixBQUFBLEVBQUUsTUFBTSxDQUFDLEk7Q0FBSSxDQUFBO0FBQ2IsQUFBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUEsQ0FBQTtBQUNuQixBQUFBLEVBQUUsNEJBQTJCO0FBQzdCLEFBQUEsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLFFBQVEsS0FBSyxxQ0FBb0M7QUFDNUQsQUFBQSxFQUFPLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO0FBQ3RCLEFBQUEsRUFBRSxHQUFHLENBQUEsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUNuQixBQUFBLEdBQUcsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFFLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEM7RUFBQyxDQUFBO0FBQzFDLEFBQUEsRUFBRSxJQUFJLENBQUEsQ0FBQTtBQUNOLEFBQUEsR0FBRyxNQUFNLENBQUMsSztFQUFLLEM7Q0FBQSxDQUFBO0FBQ2YsQUFBQSxDQUFDLElBQUksQ0FBQSxDQUFBO0FBQ0wsQUFBQSxFQUFFLE1BQU0sQ0FBQyxLO0NBQUssQztBQUFBLENBQUE7QUFDZCxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEUsQyxDQUFFLEFBQUMsSyxZLENBQU07QUFDNUMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSTtBQUNwRCxBQUFBLEFBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqQyxBQUFBLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTTtBQUNiLEFBQUEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLE1BQU07QUFDZixBQUFBLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztBQUN6QixDQUFDLENBQUM7QUFDRixBQUFBO0FBQ0EsQUFBQSxnREFBK0M7QUFDL0MsQUFBQSxBQUFBLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUN6QyxBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQTtBQUNBLEFBQUEsQUFBSSxNQUFKLElBQUksQ0FBQyxDQUFFLENBQUMsRUFBRTtBQUNWLEFBQUEsQUFBSSxNQUFKLElBQUksQ0FBQyxDQUFFLENBQUMsQ0FBQztBQUNULEFBQUE7QUFDQSxBQUFBLEFBQVEsTUFBUixRQUFRLENBQUMsQ0FBRSxDQUFDLENBQUM7QUFDYixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFBLElBQUksc0NBQXFDO0FBQ3ZELEFBQUEsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUE7QUFDVixBQUFBLEVBQUUsS0FBSyxDQUFDLENBQUMsS0FBSztBQUNkLEVBQUUsQ0FBQyxD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QUFNLENBQWEsTUFBWixZQUFZLENBQUMsQ0FBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQzdELEFBQUE7QUFDQSxBQUFBLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQztBQUFDLENBQUE7QUFDdkQsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUEsOENBQTZDO0FBQzdDLEFBQUE7QUFDQSxBQUFBLEFBQUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsU0FBUyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFBLENBQUE7QUFDakQsQUFBQTtBQUNBLEFBQUEsQ0FBTyxNQUFOLE1BQU0sQ0FBQyxDQUFFLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUM7QUFDakMsQUFBQSxDQUFNLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDckQsQUFBQSxDQUFLLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ3RCLEFBQUEsRUFBRSxHQUFHLENBQUEsQUFBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUE7QUFDbkIsQUFBQSxFLEksRSxJLENBQUUsR0FBRyxDQUFDLENBQUEsTUFB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QUEsR0FBaUIsTUFBZCxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUUsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQ2xELEFBQUEsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFHLGdCQUNSLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQztBQUM1QixXQUFlLEVBQUUsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQUFDMUMsQ0FBRyxDO0VBQUMsQztDQUFBLEM7QUFBQSxDQUFBO0FBQ1IiLCJuYW1lcyI6W10sInNvdXJjZXNDb250ZW50IjpbIiMgcGFyc2VyLmxpYi5jaXZldFxyXG5cclxuaW1wb3J0IHtzcHJpbnRmfSBmcm9tIFwiQHN0ZC9mbXQvcHJpbnRmXCJcclxuXHJcbmltcG9ydCB7XHJcblx0dW5kZWYsIGRlZmluZWQsIG5vdGRlZmluZWQsXHJcblx0Y2hhciwgYXJyYXksIGhhc2gsIGlzRW1wdHksIG5vbkVtcHR5LFxyXG5cdH0gZnJvbSAnLi9kYXRhdHlwZXMubGliLnRzJ1xyXG5pbXBvcnQge1xyXG5cdGdldE9wdGlvbnMsIGVzY2FwZVN0ciwgc3BhY2VzLFxyXG5cdH0gZnJvbSAnLi9sbHV0aWxzLmxpYi50cydcclxuaW1wb3J0IHtsb2dJbmRlbnR9IGZyb20gJy4vbG9nLWZvcm1hdHRlci5saWIudHMnXHJcbmltcG9ydCB7XHJcblx0Z2V0TG9nTGV2ZWwsIHNldExvZ0xldmVsLFxyXG5cdERCRywgSU5ERU5ULCBVTkRFTlQsXHJcblx0VEZvcm1hdHRlciwgVHJlZUxvZ2dlcixcclxuXHR9IGZyb20gJy4vbG9nZ2VyLmxpYi50cydcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgY2xhc3MgU3RhdGVcclxuXHR0ZXh0OiBzdHJpbmcgPSAnJ1xyXG5cdHBvczogbnVtYmVyID0gMFxyXG5cclxuXHQjIC0tLSBvcHRpb25hbCBmaWVsZHNcclxuXHRza2lwUnVsZT86IFRSdWxlXHJcblx0bE1hdGNoZXM/OiBzdHJpbmdbXVxyXG5cdHN0YWNrPzogYW55W11cclxuXHRsb2dyPzogVHJlZUxvZ2dlcjxbU3RhdGUsIFN0YXRlXT5cclxuXHJcblx0Y29uc3RydWN0b3IoXHJcblx0XHRcdHNyYzogc3RyaW5nIHwgU3RhdGVcclxuXHRcdFx0bjogbnVtYmVyID0gMFxyXG5cdFx0XHRoUHJvcHM6IE9iamVjdCA9IHt9XHJcblx0XHRcdClcclxuXHRcdGlmICh0eXBlb2Ygc3JjID09ICdzdHJpbmcnKVxyXG5cdFx0XHRAdGV4dCA9IHNyY1xyXG5cdFx0XHRAcG9zID0gblxyXG5cdFx0XHRPYmplY3QuYXNzaWduKEAsIGhQcm9wcylcclxuXHRcdGVsc2VcclxuXHRcdFx0T2JqZWN0LmFzc2lnbihALCBzcmMpXHJcblx0XHRcdEAucG9zICs9IG5cclxuXHJcbmV4cG9ydCBpc0ZpbmlzaGVkIDo9ICgkOiBTdGF0ZSk6IGJvb2xlYW4gPT5cclxuXHR7dGV4dCwgcG9zLCBza2lwUnVsZX0gOj0gJFxyXG5cdGlmIChwb3MgPT0gdGV4dC5sZW5ndGgpXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdGVsc2UgaWYgKHNraXBSdWxlKVxyXG5cdFx0IyAtLS0gdHJ5IHJ1bm5pbmcgc2tpcCBydWxlXHJcblx0XHRkZWxldGUgJC5za2lwUnVsZSAgICAgIyBwcmV2ZW50IHJ1bGUgcnVubmluZyB0aGUgc2tpcCBydWxlXHJcblx0XHQkbmV4dCA6PSBza2lwUnVsZSgkKVxyXG5cdFx0aWYgZGVmaW5lZCgkbmV4dClcclxuXHRcdFx0cmV0dXJuICgkbmV4dC5wb3MgPT0gJG5leHQudGV4dC5sZW5ndGgpXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdGVsc2VcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cclxuZXhwb3J0IHR5cGUgVFJ1bGVGdW5jID0gKCQ6IFN0YXRlKSA9PiBTdGF0ZT9cclxuZXhwb3J0IHR5cGUgVENhbGxiYWNrID0gKGxNYXRjaGVzOiBzdHJpbmdbXSkgPT4gdm9pZFxyXG5leHBvcnQgdHlwZSBUUnVsZSA9IFRSdWxlRnVuYyAmIHtcclxuXHR0eXBlOiBzdHJpbmdcclxuXHRsYWJlbD86IHN0cmluZ1xyXG5cdGxDYWxsYmFja3M/OiBUQ2FsbGJhY2tbXVxyXG5cdH1cclxuXHJcbiMgLS0tIEFueXRoaW5nIHRoYXQgY2FuIGJlIGNvbnZlcnRlZCB0byBhIFRSdWxlXHJcbnR5cGUgVExheFJ1bGUgPSAoc3RyaW5nIHwgUmVnRXhwIHwgVFJ1bGUpXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxubmJ1ZiA6PSAyNFxyXG5kaWdzIDo9IDFcclxuXHJcbkRCR01BVENIIDo9IChcclxuXHRcdGRlc2M6IHN0cmluZyAgICAjIERlc2NyaWJlIHdoYXQgd2UncmUgdHJ5aW5nIHRvIG1hdGNoXHJcblx0XHQkOiBTdGF0ZVxyXG5cdFx0JG5leHQ6IFN0YXRlXHJcblx0XHQpOiB2b2lkID0+XHJcblxyXG5cdHN0ciA6PSBlc2NhcGVTdHIoJC50ZXh0LnN1YnN0cmluZygkLnBvcywgJG5leHQucG9zKSlcclxuXHRidWYgOj0gc3BhY2VzKG5idWYgLSBzdHIubGVuZ3RoIC0gMSAtIDMqbG9nSW5kZW50KVxyXG5cdGkgOj0gc3ByaW50ZihcIiUje2RpZ3N9ZFwiLCAkLnBvcylcclxuXHREQkcgXCJbI3tpfSArXSAje3N0cn0je2J1Zn0je2Rlc2N9XCJcclxuXHRyZXR1cm5cclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5EQkdOT01BVENIIDo9IChcclxuXHRcdGRlc2M6IHN0cmluZyAgICAjIERlc2NyaWJlIHdoYXQgd2UncmUgdHJ5aW5nIHRvIG1hdGNoXHJcblx0XHQkOiBTdGF0ZVxyXG5cdFx0KTogdm9pZCA9PlxyXG5cclxuXHRidWYgOj0gc3BhY2VzKG5idWYgLSAzKmxvZ0luZGVudClcclxuXHRpIDo9IHNwcmludGYoXCIlI3tkaWdzfWRcIiwgJC5wb3MpXHJcblx0REJHIFwiWyN7aX0gLV0je2J1Zn0je2Rlc2N9XCJcclxuXHRyZXR1cm5cclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIHJldHVybnMgJCBpZiBubyBza2lwIHJ1bGUgT1IgcnVsZSBkb2Vzbid0IG1hdGNoXHJcblxyXG5za2lwSWdub3JlZCA6PSAoJDogU3RhdGUpOiBTdGF0ZSA9PlxyXG5cclxuXHQjIC0tLSBXaWxsIGFsd2F5cyByZXR1cm4gYSBkZWZpbmVkIHZhbHVlXHJcblx0e3NraXBSdWxlfSA6PSAkXHJcblx0aWYgbm90ZGVmaW5lZChza2lwUnVsZSlcclxuXHRcdHJldHVybiAkXHJcblxyXG5cdCMgLS0tIG1ha2Ugc3VyZSBza2lwIGlzIG9ubHkgdHJpZWQgb25jZVxyXG5cdGRlbGV0ZSgkLnNraXBSdWxlKVxyXG5cdCRuZXh0IDo9IHNraXBSdWxlKCQpXHJcblx0aWYgZGVmaW5lZCgkbmV4dClcclxuXHRcdCQuc2tpcFJ1bGUgPSBza2lwUnVsZSAgICAjIHN0aWxsIG5lZWQgdG8gcmVzdG9yZVxyXG5cdFx0cmV0dXJuIE9iamVjdC5hc3NpZ24gJG5leHQsIHtza2lwUnVsZX1cclxuXHRlbHNlXHJcblx0XHRyZXR1cm4gT2JqZWN0LmFzc2lnbiAkLCB7c2tpcFJ1bGV9XHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZXhwb3J0IFJlZ2V4TWF0Y2hlciA6PSAocmU6IFJlZ0V4cCk6IFRSdWxlID0+XHJcblxyXG5cdGZ1bmMgOj0gKCQ6IFN0YXRlKTogU3RhdGU/ID0+XHJcblxyXG5cdFx0JGN1ciA6PSBza2lwSWdub3JlZCgkKVxyXG5cdFx0bE1hdGNoZXMgOj0gcmUuZXhlYygkY3VyLnRleHQuc3Vic3RyaW5nKCRjdXIucG9zKSlcclxuXHRcdGlmIGRlZmluZWQobE1hdGNoZXMpXHJcblxyXG5cdFx0XHQjIC0tLSBUb2tlbiBpcyBtYXRjaGVkLCBhZGQgbWF0Y2hlcyB0byBzdGF0ZSxcclxuXHRcdFx0IyAgICAgcmV0dXJuIHRoZSBuZXh0IHN0YXRlXHJcblx0XHRcdG51bUNoYXJzIDo9IGxNYXRjaGVzWzBdLmxlbmd0aFxyXG4jXHRcdFx0JG5leHQgOj0ge1xyXG4jXHRcdFx0XHQuLi4kY3VyLFxyXG4jXHRcdFx0XHRwb3M6ICRjdXIucG9zICsgbnVtQ2hhcnMsXHJcbiNcdFx0XHRcdH1cclxuXHRcdFx0JG5leHQgOj0gbmV3IFN0YXRlKCRjdXIsIG51bUNoYXJzKVxyXG5cdFx0XHQkLmxNYXRjaGVzID0gbE1hdGNoZXNcclxuXHRcdFx0REJHTUFUQ0ggcmUudG9TdHJpbmcoKSwgJGN1ciwgJG5leHRcclxuXHRcdFx0cmV0dXJuICRuZXh0XHJcblx0XHRlbHNlXHJcblx0XHRcdERCR05PTUFUQ0ggcmUudG9TdHJpbmcoKSwgJGN1clxyXG5cdFx0XHRyZXR1cm4gdW5kZWZcclxuXHRmdW5jLnR5cGUgPSAncidcclxuXHRyZXR1cm4gZnVuY1xyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBTdHJpbmdNYXRjaGVyIDo9IChzdHI6IHN0cmluZyk6IFRSdWxlID0+XHJcblxyXG5cdGZ1bmMgOj0gKCQ6IFN0YXRlKTogU3RhdGU/ID0+XHJcblxyXG5cdFx0JGN1ciA6PSBza2lwSWdub3JlZCgkKVxyXG5cdFx0aWYgKCRjdXIudGV4dC5zdGFydHNXaXRoKHN0ciwgJGN1ci5wb3MpKVxyXG5cdFx0XHQkbmV4dCA6PSBuZXcgU3RhdGUoJGN1ciwgc3RyLmxlbmd0aClcclxuI1x0XHRcdCRuZXh0IDo9IHtcclxuI1x0XHRcdFx0Li4uJGN1cixcclxuI1x0XHRcdFx0cG9zOiAkY3VyLnBvcyArIHN0ci5sZW5ndGhcclxuI1x0XHRcdFx0fVxyXG5cdFx0XHREQkdNQVRDSCBcIicje2VzY2FwZVN0cihzdHIpfSdcIiwgJGN1ciwgJG5leHRcclxuXHRcdFx0cmV0dXJuICRuZXh0XHJcblx0XHRlbHNlXHJcblx0XHRcdERCR05PTUFUQ0ggXCInI3tlc2NhcGVTdHIoc3RyKX0nXCIsICRjdXJcclxuXHRcdFx0cmV0dXJuIHVuZGVmXHJcblx0ZnVuYy50eXBlID0gJ2YnXHJcblx0cmV0dXJuIGZ1bmNcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UnVsZShydWxlOiBUTGF4UnVsZSk6IFRSdWxlXHJcblxyXG5cdGlmICh0eXBlb2YocnVsZSkgPT0gJ2Z1bmN0aW9uJylcclxuXHRcdHJ1bGUudHlwZSA9ICdmJ1xyXG5cdFx0cmV0dXJuIHJ1bGVcclxuXHRpZiAocnVsZSBpbnN0YW5jZW9mIFJlZ0V4cClcclxuXHRcdHJldHVybiBSZWdleE1hdGNoZXIocnVsZSlcclxuXHRpZiAodHlwZW9mKHJ1bGUpID09ICdzdHJpbmcnKVxyXG5cdFx0cmV0dXJuIFN0cmluZ01hdGNoZXIocnVsZSlcclxuXHR0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHJ1bGU6ICN7cnVsZX1cIilcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgcnVsZUxhYmVsIDo9IChydWxlOiBUUnVsZSwgY2g6IGNoYXI/PXVuZGVmKTogc3RyaW5nID0+XHJcblxyXG5cdGlmIGRlZmluZWQoY2gpXHJcblx0XHRyZXR1cm4gKHJ1bGUubGFiZWwgfHwgJ1gnKSArIGNoXHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIHJ1bGUubGFiZWwgfHwgJ1gnXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZXhwb3J0IHJ1bGVTZXRMYWJlbCA6PSAobFJ1bGVzOiBUUnVsZVtdLCBjaDogY2hhcik6IHN0cmluZyA9PlxyXG5cclxuXHRyZXR1cm4gbFJ1bGVzLm1hcCgocikgPT4gcnVsZUxhYmVsKHIpKS5qb2luKFwiICN7Y2h9IFwiKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyAtLS0gTWF0Y2ggYSBzZXF1ZW5jZSBvZiBydWxlcyBsZWZ0IHRvIHJpZ2h0XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQWxsKGxMYXhSdWxlczogVExheFJ1bGVbXSk6IFRSdWxlXHJcblxyXG5cdGxSdWxlcyA6PSBsTGF4UnVsZXMubWFwKGdldFJ1bGUpXHJcblx0bGFiZWwgOj0gbFJ1bGVzLm1hcCgocikgPT4gci5sYWJlbCB8fCAnWCcpLmpvaW4oJyAnKVxyXG5cdGZ1bmMgOj0gKCQ6IFN0YXRlKSA9PlxyXG5cdFx0REJHIGxhYmVsLCBJTkRFTlRcclxuXHRcdGZvciBydWxlLGkgb2YgbFJ1bGVzXHJcblx0XHRcdERCRyBcIi0tLS0tXCJcclxuXHRcdFx0JG5leHQgOj0gcnVsZSgkKVxyXG5cdFx0XHRpZiBub3RkZWZpbmVkKCRuZXh0KVxyXG5cdFx0XHRcdERCRyAnRkFJTCcsIFVOREVOVFxyXG5cdFx0XHRcdHJldHVybiB1bmRlZlxyXG5cdFx0XHQkID0gJG5leHRcclxuXHJcblx0XHREQkcgJ09LJywgVU5ERU5UXHJcblx0XHRyZXR1cm4gJFxyXG5cdGZ1bmMudHlwZSA9ICcmJ1xyXG5cdHJldHVybiBmdW5jXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4jIC0tLSBNYXRjaCBhbnkgb2YgdGhlIHJ1bGVzLCBjaGVjayBsZWZ0IHRvIHJpZ2h0XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gQW55KGxMYXhSdWxlczogVExheFJ1bGVbXSk6IFRSdWxlXHJcblxyXG5cdGxSdWxlcyA6PSBsTGF4UnVsZXMubWFwKGdldFJ1bGUpXHJcblx0bGFiZWwgOj0gbFJ1bGVzLm1hcCgocikgPT4gci5sYWJlbCB8fCAnWCcpLmpvaW4oJyB8ICcpXHJcblx0ZnVuYyA6PSAoJDogU3RhdGUpID0+XHJcblx0XHREQkcgbGFiZWwsIElOREVOVFxyXG5cdFx0Zm9yIHJ1bGUsaSBvZiBsUnVsZXNcclxuXHRcdFx0REJHIFwiLS0tLS1cIlxyXG5cdFx0XHQkbmV4dCA6PSBydWxlKCQpXHJcblx0XHRcdGlmIGRlZmluZWQoJG5leHQpXHJcblx0XHRcdFx0REJHICdPSycsIFVOREVOVFxyXG5cdFx0XHRcdHJldHVybiAkbmV4dFxyXG5cdFx0REJHICdGQUlMJywgVU5ERU5UXHJcblx0XHRyZXR1cm4gdW5kZWZcclxuXHRmdW5jLnR5cGUgPSAnfCdcclxuXHRyZXR1cm4gZnVuY1xyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyAtLS0gTWF0Y2ggYSBydWxlIDEgb3IgbW9yZSB0aW1lc1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFBsdXMobGF4UnVsZTogVExheFJ1bGUpOiBUUnVsZVxyXG5cclxuXHRydWxlIDo9IGdldFJ1bGUobGF4UnVsZSlcclxuXHRmdW5jIDo9ICgkOiBTdGF0ZSkgPT5cclxuXHRcdERCRyBcIitcIiwgSU5ERU5UXHJcblx0XHQkZmlyc3QgOj0gcnVsZSgkKVxyXG5cdFx0aWYgbm90ZGVmaW5lZCgkZmlyc3QpXHJcblx0XHRcdERCRyBcIkZBSUxcIiwgVU5ERU5UXHJcblx0XHRcdHJldHVybiB1bmRlZlxyXG5cdFx0JCA9ICRmaXJzdFxyXG5cdFx0bG9vcFxyXG5cdFx0XHQkbmV4dCA6PSBydWxlKCQpXHJcblx0XHRcdGlmIG5vdGRlZmluZWQoJG5leHQpXHJcblx0XHRcdFx0REJHIFwiT0tcIiwgVU5ERU5UXHJcblx0XHRcdFx0cmV0dXJuICRuZXh0XHJcblx0XHRcdCQgPSAkbmV4dFxyXG5cdGZ1bmMudHlwZSA9ICcrJ1xyXG5cdHJldHVybiBmdW5jXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4jIC0tLSBNYXRjaCBhIHJ1bGUgb3B0aW9uYWxseVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE9wdGlvbmFsKGxheFJ1bGU6IFRMYXhSdWxlKTogVFJ1bGVcclxuXHJcblx0cnVsZSA6PSBnZXRSdWxlKGxheFJ1bGUpXHJcblx0ZnVuYyA6PSAoJDogU3RhdGUpID0+XHJcblx0XHREQkcgXCI/XCIsIElOREVOVFxyXG5cdFx0JG5leHQgOj0gcnVsZSgkKVxyXG5cdFx0aWYgZGVmaW5lZCgkbmV4dClcclxuXHRcdFx0REJHIFwiT0sgLSBtYXRjaGVkXCIsIFVOREVOVFxyXG5cdFx0XHRyZXR1cm4gJG5leHRcclxuXHRcdGVsc2VcclxuXHRcdFx0IyAtLS0gU3RpbGwgc3VjY2VlZCBzaW5jZSBpdCB3YXMgb3B0aW9uYWxcclxuXHRcdFx0REJHIFwiT0sgLSBub3QgbWF0Y2hlZFwiLCBVTkRFTlRcclxuXHRcdFx0cmV0dXJuICRcclxuXHRmdW5jLnR5cGUgPSAnPydcclxuXHRyZXR1cm4gZnVuY1xyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBTdGFyKGxheFJ1bGU6IFRMYXhSdWxlKTogVFJ1bGVcclxuXHJcblx0cnVsZSA6PSBnZXRSdWxlKGxheFJ1bGUpXHJcblx0ZnVuYyA6PSAoJDogU3RhdGUpID0+XHJcblx0XHREQkcgXCIqXCIsIElOREVOVFxyXG5cdFx0bG9vcFxyXG5cdFx0XHQkbmV4dCA6PSBydWxlKCQpXHJcblx0XHRcdGlmIG5vdGRlZmluZWQoJG5leHQpXHJcblx0XHRcdFx0REJHIFwiT0tcIiwgVU5ERU5UXHJcblx0XHRcdFx0cmV0dXJuICRcclxuXHRcdFx0JCA9ICRuZXh0XHJcblx0ZnVuYy50eXBlID0gJyonXHJcblx0cmV0dXJuIGZ1bmNcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG50eXBlIFRSZWR1Y2VyPFQ+ID0gKFxyXG5cdCQ6IFN0YXRlXHJcblx0JG5leHQ6IFN0YXRlXHJcblx0KSA9PiBUP1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIE5vZGU8VD4oXHJcblx0XHRsYXhSdWxlOiBUTGF4UnVsZSxcclxuXHRcdHJlZHVjZXI6IFRSZWR1Y2VyPFQ+XHJcblx0XHQpOiBUUnVsZVxyXG5cclxuXHRydWxlIDo9IGdldFJ1bGUgbGF4UnVsZVxyXG5cdGZ1bmMgOj0gKCQ6IFN0YXRlKSA9PlxyXG5cdFx0JG5leHQgOj0gcnVsZSgkKVxyXG5cdFx0aWYgbm90ZGVmaW5lZCgkbmV4dClcclxuXHRcdFx0cmV0dXJuICRcclxuXHJcblx0XHQjIC0tLSBXZSBoYXZlIGEgbWF0Y2hcclxuXHRcdG5vZGUgOj0gcmVkdWNlcigkLCAkbmV4dClcclxuXHRcdGlmIGRlZmluZWQobm9kZSlcclxuXHRcdFx0aWYgJG5leHQuc3RhY2tcclxuXHRcdFx0XHQkbmV4dC5zdGFjay5wdXNoIG5vZGVcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdCRuZXh0LnN0YWNrID0gW25vZGVdXHJcblx0XHRyZXR1cm4gJG5leHRcclxuXHRmdW5jLnR5cGUgPSAnTidcclxuXHRyZXR1cm4gZnVuY1xyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBnZXRMaW5lQW5kQ29sdW1uIDo9ICh0ZXh0OiBzdHJpbmcsIHBvczogbnVtYmVyKSA9PlxyXG5cclxuXHRjb3VudENoYXJzIDo9IChzdHI6IHN0cmluZywgY2g6IHN0cmluZyk6IG51bWJlciA9PlxyXG5cdFx0bGV0IGNvdW50ID0gMFxyXG5cdFx0bGV0IHBvcyA9IC0xXHJcblx0XHR3aGlsZSAocG9zID0gc3RyLmluZGV4T2YoY2gsIHBvcysxKSkgIT0gLTFcclxuXHRcdFx0Y291bnQgKz0gMVxyXG5cdFx0cmV0dXJuIGNvdW50XHJcblxyXG5cclxuXHQjIC0tLSBHZXQgbGluZSBudW1iZXIgYnkgY291bnRpbmcgbnVtYmVyIG9mIFxcbiBjaGFyc1xyXG5cdCMgICAgICAgIGJlZm9yZSB0aGUgY3VycmVudCBwb3NpdGlvblxyXG5cdCMgICAgIEdldCBjb2x1bW4gbnVtYmVyIGJ5IGZpbmRpbmcgY2xvc2VzdCBwcmV2aW91cyBwb3NpdGlvblxyXG5cdCMgICAgICAgIG9mIGEgXFxuIGFuZCBjb21wdXRpbmcgdGhlIGRpZmZlcmVuY2VcclxuXHJcblx0c2hvcnRTdHIgOj0gdGV4dC5zdWJzdHJpbmcoMCwgcG9zKVxyXG5cdHJldHVybiBbXHJcblx0XHRjb3VudENoYXJzKHNob3J0U3RyLCBcIlxcblwiKSArIDEsXHJcblx0XHRwb3MgLSBzaG9ydFN0ci5sYXN0SW5kZXhPZignXFxuJylcclxuXHRcdF1cclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0OlxyXG4jICAgICAgICAxLiBhY2NlcHRzIGEgc3RyaW5nXHJcbiMgICAgICAgIDIuIHJldHVybnMgZ2l2ZW4gdHlwZVxyXG5cclxudHlwZSBUUGFyc2VyPFQ+ID0gKHN0cjogc3RyaW5nKSA9PiBUP1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhcnNlcjxUPihcclxuXHRcdGxheFJ1bGU6IFRMYXhSdWxlXHJcblx0XHRoT3B0aW9uczogaGFzaCA9IHt9XHJcblx0XHQpOiBUUGFyc2VyPFQ+XHJcblxyXG5cdHtwb3MsIHBhcnRpYWwsIHJlU2tpcH0gOj0gZ2V0T3B0aW9ucyBoT3B0aW9ucywge1xyXG5cdFx0cG9zOiAwXHJcblx0XHRwYXJ0aWFsOiBmYWxzZVxyXG5cdFx0cmVTa2lwOiAvXlxccysvXHJcblx0XHR9XHJcblx0cnVsZSA6PSBnZXRSdWxlIGxheFJ1bGVcclxuXHJcblx0cmV0dXJuICh0ZXh0OiBzdHJpbmcpOiBUPyA9PlxyXG5cdFx0REJHIFwicGFyc2UgI3tlc2NhcGVTdHIodGV4dCl9XCJcclxuXHRcdHNraXBSdWxlIDo9IGRlZmluZWQocmVTa2lwKSA/IFJlZ2V4TWF0Y2hlcihyZVNraXApIDogdW5kZWZcclxuXHJcblx0XHQkIDo9IG5ldyBTdGF0ZSh0ZXh0LCAwLCB7c2tpcFJ1bGV9KVxyXG5cclxuXHRcdCRuZXh0IDo9IHJ1bGUoJClcclxuXHJcblx0XHRpZiBkZWZpbmVkKCRuZXh0KSAmJiAoaXNGaW5pc2hlZCgkbmV4dCkgfHwgcGFydGlhbClcclxuXHRcdFx0cmV0dXJuICRuZXh0LnN0YWNrID8gJG5leHQuc3RhY2tbMF0gOiB1bmRlZlxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRbbGluZSwgY29sdW1uXSA6PSBnZXRMaW5lQW5kQ29sdW1uKHRleHQsICQucG9zKVxyXG5cdFx0XHR0aHJvdyBuZXcgU3ludGF4RXJyb3IoXCJcIlwiXHJcblx0XHRcdFx0Tm8gbWF0Y2ggYXQgcG9zICN7JC5wb3N9XHJcblx0XHRcdFx0UmVtYWluZGVyOiAje2VzY2FwZVN0cih0ZXh0LnNsaWNlKCQucG9zKSl9XHJcblx0XHRcdFx0XCJcIlwiKVxyXG4iXX0=