"use strict";
// compile.lib.civet

type AutoPromise<T> = Promise<Awaited<T>>;
import {
	undef, defined, notdefined, assert, croak,
	hash, hashof, isHash,
	nonEmptyString, isNonEmptyString, nonEmpty,
	} from 'datatypes'
import {
	pass, keys, hasKey, hasKeys, missingKeys,
	OL, o, getOptions,
	} from 'llutils'
import {
	DBG, LOG, WARN, ERR, LOGVALUE, DBGVALUE,
	INDENT, UNDENT,
	pushLogLevel, popLogLevel,
	} from 'logger'
import {
	isFile, isDir, fileExt, withExt, rmFile, mkpath, parsePath,
	relpath, newerDestFileExists, slurp, barf, isStub,
	allFilesMatching, TPathInfo,
	patchFirstLine,
	} from 'fsys'
import {execCmd, execCmdSync, cmdSucceeds} from 'exec'
import {configFromFile} from 'cielo'

/**
 * @module compile.lib - compile files
 */

// ---------------------------------------------------------------------------
//   TYPES
// ---------------------------------------------------------------------------

// --- A function to test if compiling a file is even possible
export type TTesterFunc = () => boolean

export type TCompileStatus =
	'temp'       |    // --- it's an intermediate file, not compiled
	'nocompiler' |    //     no compiler configured for this file
	'exists'     |    //     newer output files exist, not compiled
	'failed'     |    //     compiling failed
	'compiled'        //     compiling succeeded, output file exists

export type TCompilerFunc = (path: string) => TCompileStatus
export type TPostProcessor = (path: string) => void

export type TCompilerInfo = {
	tester: TTesterFunc
	compiler: TCompilerFunc
	getOutPaths: (path: string) => string[]
	}

export type TCompilerConfig = {
	hCompilers: hashof<TCompilerInfo>         // <string>: <TCompilerInfo>
	hPostProcessors: hashof<TPostProcessor>   // <string>: <TPostProcessor>
	}

export const isCompilerInfo = (x: any): x is TCompilerInfo => {
	return isHash(x) && hasKeys(x, 'tester', 'compiler', 'getOutPaths')
}

export const isCompilerConfig = (x: any): x is TCompilerConfig => {
	return isHash(x) && hasKeys(x, 'hCompilers', 'hPostProcessors')
}

export type TCompileResult = {
	status: TCompileStatus
	path: string
	lOutPaths?: string[]
	postProcStatus?: any
	}

export type TUnitTestResult = {
	stub: string
	success: boolean
	msg?: string
	code?: number
	signal?: string
	}

// ---------------------------------------------------------------------------

let hCompilerConfig: (TCompilerConfig | undefined) = undef   // --- loaded when needed

const getConfig = (): TCompilerConfig => {

	if (defined(hCompilerConfig)) {
		return hCompilerConfig
	}
	else {
		return getCompilerConfig()
	}
}

// ---------------------------------------------------------------------------

/**
 * getCompilerConfig(path) - return compiler configuration from a file
 */

export const getCompilerConfig = (
	path: string = 'src/lib/compile.config.civet'
	): TCompilerConfig => {

	assert(isFile(path), `No such compile config file: ${OL(path)}`)
	DBG(`load compiler config from ${path}`)
	const hConfig = configFromFile(path)
	DBGVALUE('hConfig', hConfig)
	if (isCompilerConfig(hConfig)) {

		// --- Remove any compilers for which the actual compiler
		//     has not been installed

		const hCompilers = hConfig.hCompilers
		for (const ext of keys(hCompilers)) {
			const {tester} = hCompilers[ext]
			pushLogLevel('silent')
			const works = tester()
			popLogLevel()

			if (!works) {
				DBG(`Deleting compiler for ext ${OL(ext)}`)
				delete hCompilers[ext]
			}
		}
		return hConfig
	}
	else {
		return {
			hCompilers: {},
			hPostProcessors: {}
			}
	}
}

// ---------------------------------------------------------------------------
// --- returns a TCompilerInfo or undef

export const getCompilerInfo = (
		ext: string
		): (TCompilerInfo | undefined) => {

	const hConfig = getConfig()
	const hInfo = hConfig.hCompilers[ext]
	if (defined(hInfo)) {
		return hInfo
	}
	else {
		DBG(`No compiler for ${ext} files`)
		return undef
	}
}

// ---------------------------------------------------------------------------

export const getPostProcessor = (purpose: string): (TPostProcessor | undefined) => {

	const hConfig = getConfig()
	const pp = hConfig.hPostProcessors[purpose]
	if (defined(pp)) {
		return pp
	}
	else {
		DBG(`No post processor for ${purpose} files`)
		return undef
	}
}

// ---------------------------------------------------------------------------
// --- src can be a full or relative path
//     throws error if file does not exist
//
//     Possible status values:
//        'temp'       - it was a temp file, not compiled
//        'nocompiler' - has no compiler, not compiled
//        'exists'     - newer compiled file already exists
//        'failed'     - compiling failed
//        'compiled'   - successfully compiled

export const compileFile = (
	path: string,
	hOptions: hash={}
	): TCompileResult => {

	assert(isFile(path), `No such file: ${OL(path)}`)
	DBG(`COMPILE: ${OL(path)}`, INDENT)

	type opt = {
		nopp: boolean
		}
	const {nopp} = getOptions<opt>(hOptions, {
		nopp: false
		})

	const hPathInfo = parsePath(path)
	const {relPath, stub, purpose, ext} = hPathInfo

	if (notdefined(ext)) {
		DBG(`Not compiling - no file extension in ${OL(path)}`, UNDENT)
		return {status: 'nocompiler', path: relPath}
	}

	const hCompilerInfo = getCompilerInfo(ext)
	if (notdefined(hCompilerInfo)) {
		DBG(`Not compiling - no compiler for ${OL(ext)}`, UNDENT)
		return {status: 'nocompiler', path: relPath}
	}

	const {compiler, getOutPaths} = hCompilerInfo
	const lOutPaths = getOutPaths(relPath)
	DBG(`lOutPaths = ${OL(lOutPaths)}`)

	let allNewer = true
	for (const outPath of lOutPaths) {
		if (!newerDestFileExists(relPath, outPath)) {
			allNewer = false
			break
		}
	}
	if (allNewer) {
		DBG(`Not compiling, newer ${OL(lOutPaths)} exist`, UNDENT)
		return {status: 'exists', path: relPath, lOutPaths}
	}

	DBG(`compiling ${OL(path)} to ${OL(lOutPaths)}`)
	const status = compiler(path)
	let postProcStatus: (any | undefined) = undef
	if ((status === 'compiled') && defined(purpose) && !nopp) {
		const postProc = getPostProcessor(purpose)
		if (defined(postProc)) {
			DBG("post-processing file")
			try {
				postProc(path)
			}
			catch (err) {
				postProcStatus = err
			}
		}
	}
	DBG(UNDENT)
	if (defined(postProcStatus)) {
		return {status, path: relPath, lOutPaths, postProcStatus}
	}
	else {
		return {status, path: relPath, lOutPaths}
	}
}

// ---------------------------------------------------------------------------

export const getCompilerGlobPattern = (root: string='**'): string => {

	const hConfig = getConfig()
	const lKeys = keys(hConfig.hCompilers)
	const pattern = (
		(lKeys.length === 1) ? `${root}/*${lKeys[0]}`
		                    : `${root}/*{${lKeys.join(',')}}`
		)
	DBG(`compiler glob: ${OL(pattern)}`)
	return pattern
}

// ---------------------------------------------------------------------------
// --- GENERATOR

export const allCompilableFiles = function*(
		hOptions: hash={}
		): Generator<TPathInfo, void, void> {

	type opt = {
		root: string
		filter: (Function | undefined)
		}
	const {root, filter} = getOptions(hOptions, {
		root: '**',
		filter: undef
		})
	const pattern = getCompilerGlobPattern(root)
	DBG(`pattern = ${pattern}`)
	for (const hFileInfo of allFilesMatching(pattern, {filter})) {
		yield hFileInfo
	}
	return
}

// ---------------------------------------------------------------------------

// --- a generator

export const runUnitTestsFor = function*(
	stub: nonEmptyString,
	hOptions: hash={}
	): Generator<TUnitTestResult, void, void> {

	const {verbose} = getOptions(hOptions, {
		verbose: false
		})

	DBG(`Running unit tests for ${stub}`)
	if (!verbose) {
		pushLogLevel('silent')
	}

	// --- Ensure that matching lib & cmd files are compiled
	//     (no error if there is no compiler for the file)
	for (const {path} of allFilesMatching(`**/${stub}.*`)) {
		const {status} = compileFile(path, o`nopp`)
		assert((status !== 'failed'), `compile of ${path} failed`)
	}

	// --- Compile and run all unit tests for stub
	for (const {path} of allFilesMatching(`**/${stub}*.test.*`)) {
		const {status, lOutPaths} = compileFile(path, o`nopp`)
		assert((status !== 'failed'), `compile of ${path} failed`)
		if (notdefined(lOutPaths)) {
			continue
		}
		for (const outPath of lOutPaths) {
			assert(isFile(outPath), `File ${OL(outPath)} not found`)
		}

		// --- Compile all files in subdir if it exists
		if (isDir(`test/${stub}`)) {
			for (const {path} of allFilesMatching(`test/${stub}/*`)) {
				const {status, lOutPaths} = compileFile(path)
				assert((status !== 'failed'), `Compile of ${path} failed`)
				if (notdefined(lOutPaths)) {
					WARN(`File ${OL(path)} not compiled to ${OL(lOutPaths)}`)
				}
			}
		}

		// --- Run the unit tests, yield results
		for (const outPath of lOutPaths) {
			const {success, code, signal} = execCmdSync('deno', [
					'test',
					'-qA',
					outPath
					])
			yield {stub, success, code, signal}
		}
	}
	if (!verbose) {
		popLogLevel()
	}
	return
}

// ---------------------------------------------------------------------------
// --- a generator

export const runAllUnitTests = function*(
		): Generator<TUnitTestResult, void, void> {

	DBG("Running all unit tests")

	const hGlobOptions = {
		exclude: ['node_modules/**', '.git/**']
		}

	const pattern = '**/*.{lib,cmd}.ts'
	DBG(`pattern = ${OL(pattern)}`)
	for (const {path, stub} of allFilesMatching(pattern, hGlobOptions)) {
		if (stub === undef) {
			WARN(`No stub found in ${OL(path)}`)
		}
		else {
			DBG(`UNIT TEST: ${path}`)
			for (const hResult of runUnitTestsFor(stub)) {
				yield hResult
			}
		}
	}
	return
}

// ---------------------------------------------------------------------------

// --- userConfigPath resolves '.' to current working directory,
//     not the current file location

export const userConfigPath: string = mkpath('./compiler.config.ts')

// ---------------------------------------------------------------------------
// ASYNC

export const installCmd = async (path: string, name: (string | undefined)=undef): AutoPromise<void> => {

	if (notdefined(name)) {
		await execCmd('deno', [
			'install',
			'-fgA',
			'--config',
			'deno.jsonc',
			path
			])
	}
	else {
		await execCmd('deno', [
			'install',
			'-fgA',
			'-n',
			name,
			'--config',
			'deno.jsonc',
			path
			])
	}
	return
}

// ---------------------------------------------------------------------------
// ASYNC

export const uninstallCmd = async (path: string, name: (string | undefined)=undef): AutoPromise<void> => {

	if (notdefined(name)) {
		await execCmd('deno', [
			'uninstall',
			'-g',
			path
			])
	}
	else {
		await execCmd('deno', [
			'uninstall',
			'-g',
			'-n',
			name,
			path
			])
	}
	return
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjL2xpYi9jb21waWxlLmxpYi5jaXZldC50c3giLCJzb3VyY2VzIjpbInNyYy9saWIvY29tcGlsZS5saWIuY2l2ZXQiXSwibWFwcGluZ3MiOiI7QUFBQSxvQkFBbUI7QUFDbkIsQUFBQTtBQUNBLEssVyx5QjtBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDM0MsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDdEIsQ0FBQyxjQUFjLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFFBQVEsQ0FBQztBQUM1QyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVztBQUNuQixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQztBQUMxQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQztBQUNuQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUztBQUNqQixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFFBQVEsQ0FBQztBQUN6QyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNoQixDQUFDLFlBQVksQ0FBQyxDQUFDLFdBQVcsQ0FBQztBQUMzQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUTtBQUNoQixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9B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STtBQUNQLEFBQUEsR0FBRyxDQUFDLEM7Q0FBQSxDQUFBO0FBQ0osQUFBQSxDQUFDLElBQUksQ0FBQSxDQUFBO0FBQ0wsQUFBQSxFQUFFLEtBQUssQ0FBQyxPQUFPLENBQUEsQUFBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ3pCLEFBQUEsR0FBRyxXQUFXLENBQUE7QUFDZCxBQUFBLEdBQUcsSUFBSSxDQUFBO0FBQ1AsQUFBQSxHQUFHLElBQUksQ0FBQTtBQUNQLEFBQUEsR0FBRyxJQUFJLENBQUE7QUFDUCxBQUFBLEdBQUcsSUFBSTtBQUNQLEFBQUEsR0FBRyxDQUFDLEM7Q0FBQSxDQUFBO0FBQ0osQUFBQSxDQUFDLE07QUFBTSxDQUFBO0FBQ1AiLCJuYW1lcyI6W10sInNvdXJjZXNDb250ZW50IjpbIiMgY29tcGlsZS5saWIuY2l2ZXRcblxuaW1wb3J0IHtcblx0dW5kZWYsIGRlZmluZWQsIG5vdGRlZmluZWQsIGFzc2VydCwgY3JvYWssXG5cdGhhc2gsIGhhc2hvZiwgaXNIYXNoLFxuXHRub25FbXB0eVN0cmluZywgaXNOb25FbXB0eVN0cmluZywgbm9uRW1wdHksXG5cdH0gZnJvbSAnZGF0YXR5cGVzJ1xuaW1wb3J0IHtcblx0cGFzcywga2V5cywgaGFzS2V5LCBoYXNLZXlzLCBtaXNzaW5nS2V5cyxcblx0T0wsIG8sIGdldE9wdGlvbnMsXG5cdH0gZnJvbSAnbGx1dGlscydcbmltcG9ydCB7XG5cdERCRywgTE9HLCBXQVJOLCBFUlIsIExPR1ZBTFVFLCBEQkdWQUxVRSxcblx0SU5ERU5ULCBVTkRFTlQsXG5cdHB1c2hMb2dMZXZlbCwgcG9wTG9nTGV2ZWwsXG5cdH0gZnJvbSAnbG9nZ2VyJ1xuaW1wb3J0IHtcblx0aXNGaWxlLCBpc0RpciwgZmlsZUV4dCwgd2l0aEV4dCwgcm1GaWxlLCBta3BhdGgsIHBhcnNlUGF0aCxcblx0cmVscGF0aCwgbmV3ZXJEZXN0RmlsZUV4aXN0cywgc2x1cnAsIGJhcmYsIGlzU3R1Yixcblx0YWxsRmlsZXNNYXRjaGluZywgVFBhdGhJbmZvLFxuXHRwYXRjaEZpcnN0TGluZSxcblx0fSBmcm9tICdmc3lzJ1xuaW1wb3J0IHtleGVjQ21kLCBleGVjQ21kU3luYywgY21kU3VjY2VlZHN9IGZyb20gJ2V4ZWMnXG5pbXBvcnQge2NvbmZpZ0Zyb21GaWxlfSBmcm9tICdjaWVsbydcblxuLyoqXG4gKiBAbW9kdWxlIGNvbXBpbGUubGliIC0gY29tcGlsZSBmaWxlc1xuICovXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jICAgVFlQRVNcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiMgLS0tIEEgZnVuY3Rpb24gdG8gdGVzdCBpZiBjb21waWxpbmcgYSBmaWxlIGlzIGV2ZW4gcG9zc2libGVcbmV4cG9ydCB0eXBlIFRUZXN0ZXJGdW5jID0gKCkgPT4gYm9vbGVhblxuXG5leHBvcnQgdHlwZSBUQ29tcGlsZVN0YXR1cyA9XG5cdCd0ZW1wJyAgICAgICB8ICAgICMgLS0tIGl0J3MgYW4gaW50ZXJtZWRpYXRlIGZpbGUsIG5vdCBjb21waWxlZFxuXHQnbm9jb21waWxlcicgfCAgICAjICAgICBubyBjb21waWxlciBjb25maWd1cmVkIGZvciB0aGlzIGZpbGVcblx0J2V4aXN0cycgICAgIHwgICAgIyAgICAgbmV3ZXIgb3V0cHV0IGZpbGVzIGV4aXN0LCBub3QgY29tcGlsZWRcblx0J2ZhaWxlZCcgICAgIHwgICAgIyAgICAgY29tcGlsaW5nIGZhaWxlZFxuXHQnY29tcGlsZWQnICAgICAgICAjICAgICBjb21waWxpbmcgc3VjY2VlZGVkLCBvdXRwdXQgZmlsZSBleGlzdHNcblxuZXhwb3J0IHR5cGUgVENvbXBpbGVyRnVuYyA9IChwYXRoOiBzdHJpbmcpID0+IFRDb21waWxlU3RhdHVzXG5leHBvcnQgdHlwZSBUUG9zdFByb2Nlc3NvciA9IChwYXRoOiBzdHJpbmcpID0+IHZvaWRcblxuZXhwb3J0IHR5cGUgVENvbXBpbGVySW5mbyA9IHtcblx0dGVzdGVyOiBUVGVzdGVyRnVuY1xuXHRjb21waWxlcjogVENvbXBpbGVyRnVuY1xuXHRnZXRPdXRQYXRoczogKHBhdGg6IHN0cmluZykgPT4gc3RyaW5nW11cblx0fVxuXG5leHBvcnQgdHlwZSBUQ29tcGlsZXJDb25maWcgPSB7XG5cdGhDb21waWxlcnM6IGhhc2hvZjxUQ29tcGlsZXJJbmZvPiAgICAgICAgICMgPHN0cmluZz46IDxUQ29tcGlsZXJJbmZvPlxuXHRoUG9zdFByb2Nlc3NvcnM6IGhhc2hvZjxUUG9zdFByb2Nlc3Nvcj4gICAjIDxzdHJpbmc+OiA8VFBvc3RQcm9jZXNzb3I+XG5cdH1cblxuZXhwb3J0IGlzQ29tcGlsZXJJbmZvIDo9ICh4OiBhbnkpOiB4IGlzIFRDb21waWxlckluZm8gPT5cblx0cmV0dXJuIGlzSGFzaCh4KSAmJiBoYXNLZXlzKHgsICd0ZXN0ZXInLCAnY29tcGlsZXInLCAnZ2V0T3V0UGF0aHMnKVxuXG5leHBvcnQgaXNDb21waWxlckNvbmZpZyA6PSAoeDogYW55KTogeCBpcyBUQ29tcGlsZXJDb25maWcgPT5cblx0cmV0dXJuIGlzSGFzaCh4KSAmJiBoYXNLZXlzKHgsICdoQ29tcGlsZXJzJywgJ2hQb3N0UHJvY2Vzc29ycycpXG5cbmV4cG9ydCB0eXBlIFRDb21waWxlUmVzdWx0ID0ge1xuXHRzdGF0dXM6IFRDb21waWxlU3RhdHVzXG5cdHBhdGg6IHN0cmluZ1xuXHRsT3V0UGF0aHM/OiBzdHJpbmdbXVxuXHRwb3N0UHJvY1N0YXR1cz86IGFueVxuXHR9XG5cbmV4cG9ydCB0eXBlIFRVbml0VGVzdFJlc3VsdCA9IHtcblx0c3R1Yjogc3RyaW5nXG5cdHN1Y2Nlc3M6IGJvb2xlYW5cblx0bXNnPzogc3RyaW5nXG5cdGNvZGU/OiBudW1iZXJcblx0c2lnbmFsPzogc3RyaW5nXG5cdH1cblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxubGV0IGhDb21waWxlckNvbmZpZzogVENvbXBpbGVyQ29uZmlnPyA9IHVuZGVmICAgIyAtLS0gbG9hZGVkIHdoZW4gbmVlZGVkXG5cbmdldENvbmZpZyA6PSAoKTogVENvbXBpbGVyQ29uZmlnID0+XG5cblx0aWYgZGVmaW5lZChoQ29tcGlsZXJDb25maWcpXG5cdFx0cmV0dXJuIGhDb21waWxlckNvbmZpZ1xuXHRlbHNlXG5cdFx0cmV0dXJuIGdldENvbXBpbGVyQ29uZmlnKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLyoqXG4gKiBnZXRDb21waWxlckNvbmZpZyhwYXRoKSAtIHJldHVybiBjb21waWxlciBjb25maWd1cmF0aW9uIGZyb20gYSBmaWxlXG4gKi9cblxuZXhwb3J0IGdldENvbXBpbGVyQ29uZmlnIDo9IChcblx0cGF0aDogc3RyaW5nID0gJ3NyYy9saWIvY29tcGlsZS5jb25maWcuY2l2ZXQnXG5cdCk6IFRDb21waWxlckNvbmZpZyA9PlxuXG5cdGFzc2VydCBpc0ZpbGUocGF0aCksIFwiTm8gc3VjaCBjb21waWxlIGNvbmZpZyBmaWxlOiAje09MKHBhdGgpfVwiXG5cdERCRyBcImxvYWQgY29tcGlsZXIgY29uZmlnIGZyb20gI3twYXRofVwiXG5cdGhDb25maWcgOj0gY29uZmlnRnJvbUZpbGUocGF0aClcblx0REJHVkFMVUUgJ2hDb25maWcnLCBoQ29uZmlnXG5cdGlmIGlzQ29tcGlsZXJDb25maWcoaENvbmZpZylcblxuXHRcdCMgLS0tIFJlbW92ZSBhbnkgY29tcGlsZXJzIGZvciB3aGljaCB0aGUgYWN0dWFsIGNvbXBpbGVyXG5cdFx0IyAgICAgaGFzIG5vdCBiZWVuIGluc3RhbGxlZFxuXG5cdFx0aENvbXBpbGVycyA6PSBoQ29uZmlnLmhDb21waWxlcnNcblx0XHRmb3IgZXh0IG9mIGtleXMoaENvbXBpbGVycylcblx0XHRcdHt0ZXN0ZXJ9IDo9IGhDb21waWxlcnNbZXh0XVxuXHRcdFx0cHVzaExvZ0xldmVsICdzaWxlbnQnXG5cdFx0XHR3b3JrcyA6PSB0ZXN0ZXIoKVxuXHRcdFx0cG9wTG9nTGV2ZWwoKVxuXG5cdFx0XHRpZiBub3Qgd29ya3Ncblx0XHRcdFx0REJHIFwiRGVsZXRpbmcgY29tcGlsZXIgZm9yIGV4dCAje09MKGV4dCl9XCJcblx0XHRcdFx0ZGVsZXRlIGhDb21waWxlcnNbZXh0XVxuXHRcdHJldHVybiBoQ29uZmlnXG5cdGVsc2Vcblx0XHRyZXR1cm4ge1xuXHRcdFx0aENvbXBpbGVyczoge31cblx0XHRcdGhQb3N0UHJvY2Vzc29yczoge31cblx0XHRcdH1cblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgLS0tIHJldHVybnMgYSBUQ29tcGlsZXJJbmZvIG9yIHVuZGVmXG5cbmV4cG9ydCBnZXRDb21waWxlckluZm8gOj0gKFxuXHRcdGV4dDogc3RyaW5nXG5cdFx0KTogVENvbXBpbGVySW5mbz8gPT5cblxuXHRoQ29uZmlnIDo9IGdldENvbmZpZygpXG5cdGhJbmZvIDo9IGhDb25maWcuaENvbXBpbGVyc1tleHRdXG5cdGlmIGRlZmluZWQoaEluZm8pXG5cdFx0cmV0dXJuIGhJbmZvXG5cdGVsc2Vcblx0XHREQkcgXCJObyBjb21waWxlciBmb3IgI3tleHR9IGZpbGVzXCJcblx0XHRyZXR1cm4gdW5kZWZcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuZXhwb3J0IGdldFBvc3RQcm9jZXNzb3IgOj0gKHB1cnBvc2U6IHN0cmluZyk6IFRQb3N0UHJvY2Vzc29yPyA9PlxuXG5cdGhDb25maWcgOj0gZ2V0Q29uZmlnKClcblx0cHAgOj0gaENvbmZpZy5oUG9zdFByb2Nlc3NvcnNbcHVycG9zZV1cblx0aWYgZGVmaW5lZChwcClcblx0XHRyZXR1cm4gcHBcblx0ZWxzZVxuXHRcdERCRyBcIk5vIHBvc3QgcHJvY2Vzc29yIGZvciAje3B1cnBvc2V9IGZpbGVzXCJcblx0XHRyZXR1cm4gdW5kZWZcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgLS0tIHNyYyBjYW4gYmUgYSBmdWxsIG9yIHJlbGF0aXZlIHBhdGhcbiMgICAgIHRocm93cyBlcnJvciBpZiBmaWxlIGRvZXMgbm90IGV4aXN0XG4jXG4jICAgICBQb3NzaWJsZSBzdGF0dXMgdmFsdWVzOlxuIyAgICAgICAgJ3RlbXAnICAgICAgIC0gaXQgd2FzIGEgdGVtcCBmaWxlLCBub3QgY29tcGlsZWRcbiMgICAgICAgICdub2NvbXBpbGVyJyAtIGhhcyBubyBjb21waWxlciwgbm90IGNvbXBpbGVkXG4jICAgICAgICAnZXhpc3RzJyAgICAgLSBuZXdlciBjb21waWxlZCBmaWxlIGFscmVhZHkgZXhpc3RzXG4jICAgICAgICAnZmFpbGVkJyAgICAgLSBjb21waWxpbmcgZmFpbGVkXG4jICAgICAgICAnY29tcGlsZWQnICAgLSBzdWNjZXNzZnVsbHkgY29tcGlsZWRcblxuZXhwb3J0IGNvbXBpbGVGaWxlIDo9IChcblx0cGF0aDogc3RyaW5nLFxuXHRoT3B0aW9uczogaGFzaD17fVxuXHQpOiBUQ29tcGlsZVJlc3VsdCA9PlxuXG5cdGFzc2VydCBpc0ZpbGUocGF0aCksIFwiTm8gc3VjaCBmaWxlOiAje09MKHBhdGgpfVwiXG5cdERCRyBcIkNPTVBJTEU6ICN7T0wocGF0aCl9XCIsIElOREVOVFxuXG5cdHR5cGUgb3B0ID0ge1xuXHRcdG5vcHA6IGJvb2xlYW5cblx0XHR9XG5cdHtub3BwfSA6PSBnZXRPcHRpb25zPG9wdD4gaE9wdGlvbnMsIHtcblx0XHRub3BwOiBmYWxzZVxuXHRcdH1cblxuXHRoUGF0aEluZm8gOj0gcGFyc2VQYXRoIHBhdGhcblx0e3JlbFBhdGgsIHN0dWIsIHB1cnBvc2UsIGV4dH0gOj0gaFBhdGhJbmZvXG5cblx0aWYgbm90ZGVmaW5lZChleHQpXG5cdFx0REJHIFwiTm90IGNvbXBpbGluZyAtIG5vIGZpbGUgZXh0ZW5zaW9uIGluICN7T0wocGF0aCl9XCIsIFVOREVOVFxuXHRcdHJldHVybiB7c3RhdHVzOiAnbm9jb21waWxlcicsIHBhdGg6IHJlbFBhdGh9XG5cblx0aENvbXBpbGVySW5mbyA6PSBnZXRDb21waWxlckluZm8oZXh0KVxuXHRpZiBub3RkZWZpbmVkKGhDb21waWxlckluZm8pXG5cdFx0REJHIFwiTm90IGNvbXBpbGluZyAtIG5vIGNvbXBpbGVyIGZvciAje09MKGV4dCl9XCIsIFVOREVOVFxuXHRcdHJldHVybiB7c3RhdHVzOiAnbm9jb21waWxlcicsIHBhdGg6IHJlbFBhdGh9XG5cblx0e2NvbXBpbGVyLCBnZXRPdXRQYXRoc30gOj0gaENvbXBpbGVySW5mb1xuXHRsT3V0UGF0aHMgOj0gZ2V0T3V0UGF0aHMocmVsUGF0aClcblx0REJHIFwibE91dFBhdGhzID0gI3tPTChsT3V0UGF0aHMpfVwiXG5cblx0bGV0IGFsbE5ld2VyID0gdHJ1ZVxuXHRmb3Igb3V0UGF0aCBvZiBsT3V0UGF0aHNcblx0XHRpZiBub3QgbmV3ZXJEZXN0RmlsZUV4aXN0cyhyZWxQYXRoLCBvdXRQYXRoKVxuXHRcdFx0YWxsTmV3ZXIgPSBmYWxzZVxuXHRcdFx0YnJlYWtcblx0aWYgYWxsTmV3ZXJcblx0XHREQkcgXCJOb3QgY29tcGlsaW5nLCBuZXdlciAje09MKGxPdXRQYXRocyl9IGV4aXN0XCIsIFVOREVOVFxuXHRcdHJldHVybiB7c3RhdHVzOiAnZXhpc3RzJywgcGF0aDogcmVsUGF0aCwgbE91dFBhdGhzfVxuXG5cdERCRyBcImNvbXBpbGluZyAje09MKHBhdGgpfSB0byAje09MKGxPdXRQYXRocyl9XCJcblx0c3RhdHVzIDo9IGNvbXBpbGVyIHBhdGhcblx0bGV0IHBvc3RQcm9jU3RhdHVzOiBhbnk/ID0gdW5kZWZcblx0aWYgKHN0YXR1cyA9PSAnY29tcGlsZWQnKSAmJiBkZWZpbmVkKHB1cnBvc2UpICYmIG5vdCBub3BwXG5cdFx0cG9zdFByb2MgOj0gZ2V0UG9zdFByb2Nlc3NvcihwdXJwb3NlKVxuXHRcdGlmIGRlZmluZWQocG9zdFByb2MpXG5cdFx0XHREQkcgXCJwb3N0LXByb2Nlc3NpbmcgZmlsZVwiXG5cdFx0XHR0cnlcblx0XHRcdFx0cG9zdFByb2MgcGF0aFxuXHRcdFx0Y2F0Y2ggZXJyXG5cdFx0XHRcdHBvc3RQcm9jU3RhdHVzID0gZXJyXG5cdERCRyBVTkRFTlRcblx0aWYgZGVmaW5lZChwb3N0UHJvY1N0YXR1cylcblx0XHRyZXR1cm4ge3N0YXR1cywgcGF0aDogcmVsUGF0aCwgbE91dFBhdGhzLCBwb3N0UHJvY1N0YXR1c31cblx0ZWxzZVxuXHRcdHJldHVybiB7c3RhdHVzLCBwYXRoOiByZWxQYXRoLCBsT3V0UGF0aHN9XG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmV4cG9ydCBnZXRDb21waWxlckdsb2JQYXR0ZXJuIDo9IChyb290OiBzdHJpbmc9JyoqJyk6IHN0cmluZyA9PlxuXG5cdGhDb25maWcgOj0gZ2V0Q29uZmlnKClcblx0bEtleXMgOj0ga2V5cyhoQ29uZmlnLmhDb21waWxlcnMpXG5cdHBhdHRlcm4gOj0gKFxuXHRcdChsS2V5cy5sZW5ndGggPT0gMSkgPyBcIiN7cm9vdH0vKiN7bEtleXNbMF19XCJcblx0XHQgICAgICAgICAgICAgICAgICAgIDogXCIje3Jvb3R9Lyp7I3tsS2V5cy5qb2luKCcsJyl9fVwiXG5cdFx0KVxuXHREQkcgXCJjb21waWxlciBnbG9iOiAje09MKHBhdHRlcm4pfVwiXG5cdHJldHVybiBwYXR0ZXJuXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIC0tLSBHRU5FUkFUT1JcblxuZXhwb3J0IGFsbENvbXBpbGFibGVGaWxlcyA6PSAoXG5cdFx0aE9wdGlvbnM6IGhhc2g9e31cblx0XHQpOiBHZW5lcmF0b3I8VFBhdGhJbmZvLCB2b2lkLCB2b2lkPiAtPlxuXG5cdHR5cGUgb3B0ID0ge1xuXHRcdHJvb3Q6IHN0cmluZ1xuXHRcdGZpbHRlcjogRnVuY3Rpb24/XG5cdFx0fVxuXHR7cm9vdCwgZmlsdGVyfSA6PSBnZXRPcHRpb25zIGhPcHRpb25zLCB7XG5cdFx0cm9vdDogJyoqJ1xuXHRcdGZpbHRlcjogdW5kZWZcblx0XHR9XG5cdHBhdHRlcm4gOj0gZ2V0Q29tcGlsZXJHbG9iUGF0dGVybihyb290KVxuXHREQkcgXCJwYXR0ZXJuID0gI3twYXR0ZXJufVwiXG5cdGZvciBoRmlsZUluZm8gb2YgYWxsRmlsZXNNYXRjaGluZyhwYXR0ZXJuLCB7ZmlsdGVyfSlcblx0XHR5aWVsZCBoRmlsZUluZm9cblx0cmV0dXJuXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiMgLS0tIGEgZ2VuZXJhdG9yXG5cbmV4cG9ydCBydW5Vbml0VGVzdHNGb3IgOj0gKFxuXHRzdHViOiBub25FbXB0eVN0cmluZ1xuXHRoT3B0aW9uczogaGFzaD17fVxuXHQpOiBHZW5lcmF0b3I8VFVuaXRUZXN0UmVzdWx0LCB2b2lkLCB2b2lkPiAtPlxuXG5cdHt2ZXJib3NlfSA6PSBnZXRPcHRpb25zIGhPcHRpb25zLCB7XG5cdFx0dmVyYm9zZTogZmFsc2Vcblx0XHR9XG5cblx0REJHIFwiUnVubmluZyB1bml0IHRlc3RzIGZvciAje3N0dWJ9XCJcblx0aWYgbm90IHZlcmJvc2Vcblx0XHRwdXNoTG9nTGV2ZWwgJ3NpbGVudCdcblxuXHQjIC0tLSBFbnN1cmUgdGhhdCBtYXRjaGluZyBsaWIgJiBjbWQgZmlsZXMgYXJlIGNvbXBpbGVkXG5cdCMgICAgIChubyBlcnJvciBpZiB0aGVyZSBpcyBubyBjb21waWxlciBmb3IgdGhlIGZpbGUpXG5cdGZvciB7cGF0aH0gb2YgYWxsRmlsZXNNYXRjaGluZyhcIioqLyN7c3R1Yn0uKlwiKVxuXHRcdHtzdGF0dXN9IDo9IGNvbXBpbGVGaWxlIHBhdGgsIG8nbm9wcCdcblx0XHRhc3NlcnQgKHN0YXR1cyAhPSAnZmFpbGVkJyksIFwiY29tcGlsZSBvZiAje3BhdGh9IGZhaWxlZFwiXG5cblx0IyAtLS0gQ29tcGlsZSBhbmQgcnVuIGFsbCB1bml0IHRlc3RzIGZvciBzdHViXG5cdGZvciB7cGF0aH0gb2YgYWxsRmlsZXNNYXRjaGluZyhcIioqLyN7c3R1Yn0qLnRlc3QuKlwiKVxuXHRcdHtzdGF0dXMsIGxPdXRQYXRoc30gOj0gY29tcGlsZUZpbGUgcGF0aCwgbydub3BwJ1xuXHRcdGFzc2VydCAoc3RhdHVzICE9ICdmYWlsZWQnKSwgXCJjb21waWxlIG9mICN7cGF0aH0gZmFpbGVkXCJcblx0XHRpZiBub3RkZWZpbmVkKGxPdXRQYXRocylcblx0XHRcdGNvbnRpbnVlXG5cdFx0Zm9yIG91dFBhdGggb2YgbE91dFBhdGhzXG5cdFx0XHRhc3NlcnQgaXNGaWxlKG91dFBhdGgpLCBcIkZpbGUgI3tPTChvdXRQYXRoKX0gbm90IGZvdW5kXCJcblxuXHRcdCMgLS0tIENvbXBpbGUgYWxsIGZpbGVzIGluIHN1YmRpciBpZiBpdCBleGlzdHNcblx0XHRpZiBpc0RpcihcInRlc3QvI3tzdHVifVwiKVxuXHRcdFx0Zm9yIHtwYXRofSBvZiBhbGxGaWxlc01hdGNoaW5nKFwidGVzdC8je3N0dWJ9LypcIilcblx0XHRcdFx0e3N0YXR1cywgbE91dFBhdGhzfSA6PSBjb21waWxlRmlsZSBwYXRoXG5cdFx0XHRcdGFzc2VydCAoc3RhdHVzICE9ICdmYWlsZWQnKSwgXCJDb21waWxlIG9mICN7cGF0aH0gZmFpbGVkXCJcblx0XHRcdFx0aWYgbm90ZGVmaW5lZChsT3V0UGF0aHMpXG5cdFx0XHRcdFx0V0FSTiBcIkZpbGUgI3tPTChwYXRoKX0gbm90IGNvbXBpbGVkIHRvICN7T0wobE91dFBhdGhzKX1cIlxuXG5cdFx0IyAtLS0gUnVuIHRoZSB1bml0IHRlc3RzLCB5aWVsZCByZXN1bHRzXG5cdFx0Zm9yIG91dFBhdGggb2YgbE91dFBhdGhzXG5cdFx0XHR7c3VjY2VzcywgY29kZSwgc2lnbmFsfSA6PSBleGVjQ21kU3luYyAnZGVubycsIFtcblx0XHRcdFx0XHQndGVzdCcsXG5cdFx0XHRcdFx0Jy1xQScsXG5cdFx0XHRcdFx0b3V0UGF0aFxuXHRcdFx0XHRcdF1cblx0XHRcdHlpZWxkIHtzdHViLCBzdWNjZXNzLCBjb2RlLCBzaWduYWx9XG5cdGlmIG5vdCB2ZXJib3NlXG5cdFx0cG9wTG9nTGV2ZWwoKVxuXHRyZXR1cm5cblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiMgLS0tIGEgZ2VuZXJhdG9yXG5cbmV4cG9ydCBydW5BbGxVbml0VGVzdHMgOj0gKFxuXHRcdCk6IEdlbmVyYXRvcjxUVW5pdFRlc3RSZXN1bHQsIHZvaWQsIHZvaWQ+IC0+XG5cblx0REJHIFwiUnVubmluZyBhbGwgdW5pdCB0ZXN0c1wiXG5cblx0aEdsb2JPcHRpb25zIDo9IHtcblx0XHRleGNsdWRlOiBbJ25vZGVfbW9kdWxlcy8qKicsICcuZ2l0LyoqJ11cblx0XHR9XG5cblx0cGF0dGVybiA6PSAnKiovKi57bGliLGNtZH0udHMnXG5cdERCRyBcInBhdHRlcm4gPSAje09MKHBhdHRlcm4pfVwiXG5cdGZvciB7cGF0aCwgc3R1Yn0gb2YgYWxsRmlsZXNNYXRjaGluZyhwYXR0ZXJuLCBoR2xvYk9wdGlvbnMpXG5cdFx0aWYgKHN0dWIgPT0gdW5kZWYpXG5cdFx0XHRXQVJOIFwiTm8gc3R1YiBmb3VuZCBpbiAje09MKHBhdGgpfVwiXG5cdFx0ZWxzZVxuXHRcdFx0REJHIFwiVU5JVCBURVNUOiAje3BhdGh9XCJcblx0XHRcdGZvciBoUmVzdWx0IG9mIHJ1blVuaXRUZXN0c0ZvcihzdHViKVxuXHRcdFx0XHR5aWVsZCBoUmVzdWx0XG5cdHJldHVyblxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4jIC0tLSB1c2VyQ29uZmlnUGF0aCByZXNvbHZlcyAnLicgdG8gY3VycmVudCB3b3JraW5nIGRpcmVjdG9yeSxcbiMgICAgIG5vdCB0aGUgY3VycmVudCBmaWxlIGxvY2F0aW9uXG5cbmV4cG9ydCB1c2VyQ29uZmlnUGF0aDogc3RyaW5nIDo9IG1rcGF0aCgnLi9jb21waWxlci5jb25maWcudHMnKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBBU1lOQ1xuXG5leHBvcnQgaW5zdGFsbENtZCA6PSAocGF0aDogc3RyaW5nLCBuYW1lOiBzdHJpbmc/PXVuZGVmKTogdm9pZCA9PlxuXG5cdGlmIG5vdGRlZmluZWQobmFtZSlcblx0XHRhd2FpdCBleGVjQ21kICdkZW5vJywgW1xuXHRcdFx0J2luc3RhbGwnXG5cdFx0XHQnLWZnQSdcblx0XHRcdCctLWNvbmZpZydcblx0XHRcdCdkZW5vLmpzb25jJ1xuXHRcdFx0cGF0aFxuXHRcdFx0XVxuXHRlbHNlXG5cdFx0YXdhaXQgZXhlY0NtZCAnZGVubycsIFtcblx0XHRcdCdpbnN0YWxsJ1xuXHRcdFx0Jy1mZ0EnXG5cdFx0XHQnLW4nXG5cdFx0XHRuYW1lXG5cdFx0XHQnLS1jb25maWcnXG5cdFx0XHQnZGVuby5qc29uYydcblx0XHRcdHBhdGhcblx0XHRcdF1cblx0cmV0dXJuXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIEFTWU5DXG5cbmV4cG9ydCB1bmluc3RhbGxDbWQgOj0gKHBhdGg6IHN0cmluZywgbmFtZTogc3RyaW5nPz11bmRlZik6IHZvaWQgPT5cblxuXHRpZiBub3RkZWZpbmVkKG5hbWUpXG5cdFx0YXdhaXQgZXhlY0NtZCAnZGVubycsIFtcblx0XHRcdCd1bmluc3RhbGwnXG5cdFx0XHQnLWcnXG5cdFx0XHRwYXRoXG5cdFx0XHRdXG5cdGVsc2Vcblx0XHRhd2FpdCBleGVjQ21kICdkZW5vJywgW1xuXHRcdFx0J3VuaW5zdGFsbCdcblx0XHRcdCctZydcblx0XHRcdCctbidcblx0XHRcdG5hbWVcblx0XHRcdHBhdGhcblx0XHRcdF1cblx0cmV0dXJuXG4iXX0=