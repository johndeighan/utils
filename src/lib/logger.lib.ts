"use strict";
// logger.lib.civet

import {
	existsSync, ensureDirSync,
	} from '@std/fs'
import {LogLevels} from "@std/log/levels"
import {
	ConsoleHandler, FileHandler, setup, getLogger, LogRecord,
	} from '@std/log'
import {blue, black} from "@std/fmt/colors"

import {rmFile} from 'base-utils'
import {getPrefix} from 'unicode'
import {
	undef, defined, notdefined, hash, isString, nonEmpty,
	croak, assert,
	} from 'datatypes'
import {
	spaces, o, sinceLoadStr, pass,
	} from 'llutils'
import {OL, ML} from 'to-nice'
import {
	TLogLevel, isLogLevel, getLogLevel, setLogLevel,
	pushLogLevel, popLogLevel, resetLogLevel,
	isInactiveLevel,
	} from 'log-levels'
import {
	getFormatter, indentLog, undentLog,
	getConsoleLog, clearConsoleLog, logIndent,
	} from 'log-formatter'

export {
	getLogLevel, isLogLevel, setLogLevel,
	pushLogLevel, popLogLevel,
	indentLog, undentLog,
	clearConsoleLog, getConsoleLog,
	}
export type {TLogLevel}

ensureDirSync('./logs')

// ---------------------------------------------------------------------------

const mainModule: string = new URL(Deno.mainModule).pathname.slice(1)

const logFileName = (() => {
	const lMatches = mainModule.match(/[A-Za-z0-9_\-\.]+$/)
	if (lMatches === null) {
		return "logs/dummy.log"
	}
	const label = lMatches[0].replaceAll('.', '_')
	const time = new Date().toISOString().replaceAll(':','-')
	return `logs/${label} ${time}.log`
}
	)()

// ---------------------------------------------------------------------------

export const getLog = (from: string): string => {

	switch(from) {
		case 'console': {
			return getConsoleLog()
		}
		case 'file': {
			if (existsSync(logFileName)) {
				const data = Deno.readFileSync(logFileName)
				const decoder = new TextDecoder("utf-8")
				return decoder.decode(data)
			}
			else {
				return ''
			}
		}
		default: {
			croak(`getLog(): invalid from = ${from}`)
			return ''
		}
	}
}

// ---------------------------------------------------------------------------

export const clearLog = (which: string): void => {

	switch(which) {
		case 'console': {
			clearConsoleLog();break;
		}
		case 'file': {
			const encoder = new TextEncoder();
			const str = encoder.encode('')
			Deno.writeFileSync(logFileName, str);break;
		}
		case 'both': {
			clearConsoleLog()
			const encoder = new TextEncoder();
			const str = encoder.encode('')
			Deno.writeFileSync(logFileName, str);break;
		}
		default: {
			pass()
		}
	}
	return
}

// ---------------------------------------------------------------------------

const hConfig: hash = {

	handlers: {

		console: new ConsoleHandler('DEBUG', {
			formatter: getFormatter('$msg', 'console')
			}),

		file: new FileHandler('DEBUG', {
			filename: logFileName,
			mode: 'a',
			formatter: getFormatter('$ll $msg', 'file')
			}),

		console_prof: new ConsoleHandler('DEBUG', {
			formatter: getFormatter('[$ts] $msg', 'console')
			}),

		file_prof: new FileHandler('DEBUG', {
			filename: logFileName,
			mode: 'a',
			formatter: getFormatter('[$ts] $ll $msg', 'file')
			}),
	},

	// --- assign handlers to loggers
	//     order from most verbose to least verbose

	loggers: {
		profile: {
			level: "DEBUG",
			num: 1,
			handlers: ["console_prof", "file_prof"]
			},
		debug: {
			level: "DEBUG",
			num: 2,
			handlers: ["console", "file"]
			},
		info: {
			level: "INFO",
			num: 3,
			handlers: ["console", "file"]
			},
		warn: {
			level: "WARN",
			num: 4,
			handlers: ["console", "file"]
			},
		error: {
			level: "ERROR",
			num: 5,
			handlers: ["console", "file"]
			},
		file: {
			level: "DEBUG",
			num: 6,
			handlers: ["file"]
			},
		silent: {
			level: "ERROR",
			num: 7,
			handlers: []
			}
		}
	}

setup(hConfig)
const hLoggers = hConfig.loggers
const hHandlers = hConfig.handlers

export const INDENT = Symbol('indent')
export const UNDENT = Symbol('undent')

// ---------------------------------------------------------------------------

const output = (level: TLogLevel, lItems: unknown[]): void => {

	if (isInactiveLevel(level)) {
		return
	}

	let logger = getLogger(getLogLevel())
	for (const item of lItems) {
		switch(item) {
			case INDENT: {
				indentLog();break;
			}
			case UNDENT: {
				undentLog();break;
			}
			default: {
				const str = isString(item) ? item : ML(item)
				if (nonEmpty(str)) {
					switch(level) {
						case 'debug': { logger.debug(str);break;
						}
						case 'info': {  logger.info(black(str));break;
						}
						case 'warn': {  logger.warn(str);break;
						}
						case 'error': { logger.error(str);break;
						}
						default: { pass() }
					}
				}
			}
		}
	}

	return
}

// ---------------------------------------------------------------------------

export const DBG  = (...lItems: unknown[]): void => {
	output('debug', lItems)
	return
}

export const LOG  = (...lItems: unknown[]): void => {
	output('info', lItems)
	return
}

export const WARN = (...lItems: unknown[]): void => {
	output('warn', lItems)
	return
}

export const ERR  = (...lItems: unknown[]): void => {
	output('error', lItems)
	return
}

export const LOGVALUE = (label: string, value: unknown): void => {
	if (isInactiveLevel('info')) {
		return
	}
	LOG(`${label} = ${ML(value)}`)
	return
}

export const LOGLABELED = (label: string, value: unknown): void => {
	if (isInactiveLevel('info')) {
		return
	}
	LOG(blue(label) + ` = ${ML(value)}`)
	return
}

export const DBGVALUE = (label: string, value: unknown): void => {
	if (isInactiveLevel('debug')) {
		return
	}
	DBG(blue(label) + ` = ${ML(value)}`)
	return
}

export const DBGLABELED = (label: string, value: unknown): void => {
	if (isInactiveLevel('debug')) {
		return
	}
	DBG(blue(label) + `: ${ML(value)}`)
	return
}

// ---------------------------------------------------------------------------

export const removeLogFile = (): void => {

	rmFile(logFileName)
	return
}

// ---------------------------------------------------------------------------

export type TFormatter<T> = (desc: string, item: (T | undefined)) => string

export class TreeLogger<T> {

	// --- data fields
	indentLevel: number = 0
	logLevel: TLogLevel = 'debug'
	formatter: TFormatter<T>

	// --- methods
	constructor(
			formatter1 = (desc: string, item: (T | undefined)) => desc,
			logLevel: string = 'debug'
			) {
		this.formatter = formatter1;
		if (isLogLevel(logLevel)) {
			this.logLevel = logLevel
		}
	}

	start(desc: string, item: (T | undefined)=undef): void {
		const str = this.formatter(desc, item)
		const pre = getPrefix(this.indentLevel, 'plain')
		output(this.logLevel, [pre + str])
		this.indentLevel += 1
		return
	}

	log(desc: string, item: (T | undefined)=undef): void {
		const str = this.formatter(desc, item)
		const pre = getPrefix(this.indentLevel, 'plain')
		output(this.logLevel,  [pre + str])
		return
	}

	succeed(desc: string, item: (T | undefined)=undef): void {
		const str = this.formatter(desc, item)
		const pre = getPrefix(this.indentLevel, 'withArrow')
		output(this.logLevel,  [pre + str])
		this.indentLevel -= 1
		return
	}

	fail(desc: string, item: (T | undefined)=undef): void {
		const str = this.formatter(desc, item)
		const pre = getPrefix(this.indentLevel, 'withArrow')
		output(this.logLevel,  [pre + str])
		this.indentLevel -= 1
		return
	}
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcbGliXFxsb2dnZXIubGliLmNpdmV0LnRzeCIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcbGliXFxsb2dnZXIubGliLmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsbUJBQWtCO0FBQ2xCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxVQUFVLENBQUMsQ0FBQyxhQUFhLENBQUM7QUFDM0IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVM7QUFDakIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUI7QUFDekMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxjQUFjLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDMUQsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQVU7QUFDbEIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxpQkFBaUI7QUFDM0MsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsWUFBWTtBQUNqQyxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVM7QUFDakMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUM7QUFDdEQsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDZixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsV0FBVztBQUNuQixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLElBQUksQ0FBQztBQUMvQixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUztBQUNqQixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVM7QUFDOUIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxTQUFTLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUM7QUFDakQsQ0FBQyxZQUFZLENBQUMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxhQUFhLENBQUM7QUFDMUMsQ0FBQyxlQUFlLENBQUM7QUFDakIsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVk7QUFDcEIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxZQUFZLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDcEMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxlQUFlLENBQUMsQ0FBQyxTQUFTLENBQUM7QUFDM0MsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGVBQWU7QUFDdkIsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsV0FBVyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQ3RDLENBQUMsWUFBWSxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQzNCLENBQUMsU0FBUyxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ3RCLENBQUMsZUFBZSxDQUFDLENBQUMsYUFBYSxDQUFDO0FBQ2hDLENBQUMsQ0FBQztBQUNGLEFBQUEsQUFBQSxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ3ZCLEFBQUE7QUFDQSxBQUFBLEFBQUEsYUFBYSxDQUFBLEFBQUMsUUFBUSxDQUFBO0FBQ3RCLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFrQixNQUFsQixVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO0FBQ2hFLEFBQUE7QUFDQSxBQUFBLEFBQVcsTUFBWCxXQUFXLENBQUMsQ0FBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDckIsQUFBQSxDQUFTLE1BQVIsUUFBUSxDQUFDLENBQUUsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLG9CQUFvQixDQUFDO0FBQ25ELEFBQUEsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQSxDQUFBO0FBQ3RCLEFBQUEsRUFBRSxNQUFNLENBQUMsZ0I7Q0FBZ0IsQ0FBQTtBQUN6QixBQUFBLENBQU0sTUFBTCxLQUFLLENBQUMsQ0FBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQzFDLEFBQUEsQ0FBSyxNQUFKLElBQUksQ0FBQyxDQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQztBQUNyRCxBQUFBLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLEtBQUssQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQztBQUFDLENBQUE7QUFDbkMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNKLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBTyxNQUFOLE1BQU0sQ0FBQyxDQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUMxQyxBQUFBO0FBQ0EsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLElBQUksQ0FBQSxDQUFBLENBQUE7QUFDWixBQUFBLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQSxDQUFBLENBQUE7QUFDaEIsQUFBQSxHQUFHLE1BQU0sQ0FBQyxhQUFhLENBQUMsQztFQUFDLENBQUE7QUFDekIsQUFBQSxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUEsQ0FBQSxDQUFBO0FBQ2IsQUFBQSxHQUFHLEdBQUcsQ0FBQSxVQUFVLENBQUMsV0FBVyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQzdCLEFBQUEsSUFBUSxNQUFKLElBQUksQ0FBQyxDQUFFLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxXQUFXLENBQUM7QUFDMUMsQUFBQSxJQUFXLE1BQVAsT0FBTyxDQUFDLENBQUUsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQztBQUN2QyxBQUFBLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDO0dBQUMsQ0FBQTtBQUMvQixBQUFBLEdBQUcsSUFBSSxDQUFBLENBQUE7QUFDUCxBQUFBLElBQUksTUFBTSxDQUFDLEU7R0FBRSxDO0VBQUEsQ0FBQTtBQUNiLEFBQUEsRUFBRSxPQUFJLENBQUEsQ0FBQSxDQUFBO0FBQ04sQUFBQSxHQUFHLEtBQUssQ0FBQSxBQUFDLENBQUMseUJBQXlCLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQTtBQUMzQyxBQUFBLEdBQUcsTUFBTSxDQUFDLEU7RUFBRSxDO0NBQUEsQztBQUFBLENBQUE7QUFDWixBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQVMsTUFBUixRQUFRLENBQUMsQ0FBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDM0MsQUFBQTtBQUNBLEFBQUEsQ0FBQyxNQUFNLENBQUEsQUFBQyxLQUFLLENBQUEsQ0FBQSxDQUFBO0FBQ2IsQUFBQSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUEsQ0FBQSxDQUFBO0FBQ2hCLEFBQUEsR0FBRyxlQUFlLENBQUMsQ0FBQyxPO0VBQUEsQ0FBQTtBQUNwQixBQUFBLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBQSxDQUFBLENBQUE7QUFDYixBQUFBLEdBQVUsTUFBUCxPQUFPLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQ2hDLEFBQUEsR0FBTSxNQUFILEdBQUcsQ0FBQyxDQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7QUFDNUIsQUFBQSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLE87RUFBQSxDQUFBO0FBQ3ZDLEFBQUEsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFBLENBQUEsQ0FBQTtBQUNiLEFBQUEsR0FBRyxlQUFlLENBQUMsQ0FBQztBQUNwQixBQUFBLEdBQVUsTUFBUCxPQUFPLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO0FBQ2hDLEFBQUEsR0FBTSxNQUFILEdBQUcsQ0FBQyxDQUFFLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUM7QUFDNUIsQUFBQSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDLENBQUMsR0FBRyxDQUFDLE87RUFBQSxDQUFBO0FBQ3ZDLEFBQUEsRUFBRSxPQUFJLENBQUEsQ0FBQSxDQUFBO0FBQ04sQUFBQSxHQUFHLElBQUksQ0FBQyxDO0VBQUMsQztDQUFBLENBQUE7QUFDVCxBQUFBLENBQUMsTTtBQUFNLENBQUE7QUFDUCxBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQTtBQUNBLEFBQUEsQUFBYSxNQUFiLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFFLENBQUMsQ0FBQztBQUNsQixBQUFBO0FBQ0EsQUFBQSxDQUFDLFFBQVEsQ0FBQyxDQUFBLENBQUE7QUFDVixBQUFBO0FBQ0EsQUFBQSxFQUFFLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUN4QyxBQUFBLEdBQUcsU0FBUyxDQUFDLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQztBQUM3QyxHQUFHLENBQUMsQ0FBQyxDQUFBO0FBQ0wsQUFBQTtBQUNBLEFBQUEsRUFBRSxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsV0FBVyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7QUFDbEMsQUFBQSxHQUFHLFFBQVEsQ0FBQyxDQUFDLFdBQVcsQ0FBQTtBQUN4QixBQUFBLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFBO0FBQ1osQUFBQSxHQUFHLFNBQVMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDOUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtBQUNMLEFBQUE7QUFDQSxBQUFBLEVBQUUsWUFBWSxDQUFDLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQzdDLEFBQUEsR0FBRyxTQUFTLENBQUMsQ0FBQyxZQUFZLENBQUMsWUFBWSxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ25ELEdBQUcsQ0FBQyxDQUFDLENBQUE7QUFDTCxBQUFBO0FBQ0EsQUFBQSxFQUFFLFNBQVMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUN2QyxBQUFBLEdBQUcsUUFBUSxDQUFDLENBQUMsV0FBVyxDQUFBO0FBQ3hCLEFBQUEsR0FBRyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUE7QUFDWixBQUFBLEdBQUcsU0FBUyxDQUFDLENBQUMsWUFBWSxDQUFDLGdCQUFnQixDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ3BELEdBQUcsQ0FBQyxDQUFDLEM7Q0FBQSxDQUFBLENBQUE7QUFDTCxBQUFBO0FBQ0EsQUFBQSxDQUFDLGlDQUFnQztBQUNqQyxBQUFBLENBQUMsK0NBQThDO0FBQy9DLEFBQUE7QUFDQSxBQUFBLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztBQUNYLEFBQUEsRUFBRSxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQ1osQUFBQSxHQUFHLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQTtBQUNqQixBQUFBLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ1QsQUFBQSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQzFDLEdBQUcsQ0FBQyxDQUFBO0FBQ0osQUFBQSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDVixBQUFBLEdBQUcsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFBO0FBQ2pCLEFBQUEsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDVCxBQUFBLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDaEMsR0FBRyxDQUFDLENBQUE7QUFDSixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNULEFBQUEsR0FBRyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUE7QUFDaEIsQUFBQSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNULEFBQUEsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNoQyxHQUFHLENBQUMsQ0FBQTtBQUNKLEFBQUEsRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBQ1QsQUFBQSxHQUFHLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNqQixBQUFBLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ1QsQUFBQSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ2hDLEdBQUcsQ0FBQyxDQUFBO0FBQ0osQUFBQSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUM7QUFDVixBQUFBLEdBQUcsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFBO0FBQ2pCLEFBQUEsR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDVCxBQUFBLEdBQUcsUUFBUSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUM7QUFDaEMsR0FBRyxDQUFDLENBQUE7QUFDSixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQztBQUNULEFBQUEsR0FBRyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUM7QUFDbEIsQUFBQSxHQUFHLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNULEFBQUEsR0FBRyxRQUFRLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUNyQixHQUFHLENBQUMsQ0FBQTtBQUNKLEFBQUEsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ1gsQUFBQSxHQUFHLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQTtBQUNqQixBQUFBLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ1QsQUFBQSxHQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNmLEdBQUcsQ0FBQztBQUNKLEVBQUUsQ0FBQztBQUNILENBQUMsQ0FBQztBQUNGLEFBQUE7QUFDQSxBQUFBLEFBQUEsS0FBSyxDQUFDLE9BQU8sQ0FBQztBQUNkLEFBQUEsQUFBUSxNQUFSLFFBQVEsQ0FBQyxDQUFFLENBQUMsT0FBTyxDQUFDLE9BQU87QUFDM0IsQUFBQSxBQUFTLE1BQVQsU0FBUyxDQUFDLENBQUUsQ0FBQyxPQUFPLENBQUMsUUFBUTtBQUM3QixBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBTyxNQUFOLE1BQU0sQ0FBQyxDQUFFLENBQUMsTUFBTSxDQUFDLFFBQVEsQ0FBQztBQUNqQyxBQUFBLEFBQUEsTUFBTSxDQUFPLE1BQU4sTUFBTSxDQUFDLENBQUUsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDO0FBQ2pDLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFNLE1BQU4sTUFBTSxDQUFDLENBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUN4RCxBQUFBO0FBQ0EsQUFBQSxDQUFDLEdBQUcsQ0FBQSxlQUFlLENBQUMsS0FBSyxDQUFDLENBQUEsQ0FBQSxDQUFBO0FBQzFCLEFBQUEsRUFBRSxNO0NBQU0sQ0FBQTtBQUNSLEFBQUE7QUFDQSxBQUFBLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7QUFDdEMsQUFBQSxDQUFDLEdBQUcsQ0FBQyxDQUFBLE1BQUEsSUFBSSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUEsQ0FBQSxDQUFBO0FBQ25CLEFBQUEsRUFBRSxNQUFNLENBQUEsQUFBQyxJQUFJLENBQUEsQ0FBQSxDQUFBO0FBQ2IsQUFBQSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUEsQ0FBQSxDQUFBO0FBQ2QsQUFBQSxJQUFJLFNBQVMsQ0FBQyxDQUFDLE87R0FBQSxDQUFBO0FBQ2YsQUFBQSxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUEsQ0FBQSxDQUFBO0FBQ2QsQUFBQSxJQUFJLFNBQVMsQ0FBQyxDQUFDLE87R0FBQSxDQUFBO0FBQ2YsQUFBQSxHQUFHLE9BQUksQ0FBQSxDQUFBLENBQUE7QUFDUCxBQUFBLElBQU8sTUFBSCxHQUFHLENBQUMsQ0FBRSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO0FBQzNDLEFBQUEsSUFBSSxHQUFHLENBQUEsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUNwQixBQUFBLEtBQUssTUFBTSxDQUFBLEFBQUMsS0FBSyxDQUFBLENBQUEsQ0FBQTtBQUNqQixBQUFBLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLENBQUEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFBLEFBQUMsR0FBRyxDQUFBLE87TUFBQSxDQUFBO0FBQ3BDLEFBQUEsTUFBTSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUEsQ0FBQSxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUEsQUFBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUEsTztNQUFBLENBQUE7QUFDMUMsQUFBQSxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFBLEVBQUUsTUFBTSxDQUFDLElBQUksQ0FBQSxBQUFDLEdBQUcsQ0FBQSxPO01BQUEsQ0FBQTtBQUNuQyxBQUFBLE1BQU0sSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBLENBQUEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFBLEFBQUMsR0FBRyxDQUFBLE87TUFBQSxDQUFBO0FBQ3BDLEFBQUEsTUFBTSxPQUFJLENBQUEsQ0FBQSxDQUFBLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQSxDO0tBQUEsQztJQUFBLEM7R0FBQSxDO0VBQUEsQztDQUFBLENBQUE7QUFDakIsQUFBQTtBQUNBLEFBQUEsQ0FBQyxNO0FBQU0sQ0FBQTtBQUNQLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBSyxNQUFKLEdBQUcsRUFBRSxDQUFFLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUM5QyxBQUFBLENBQUMsTUFBTSxDQUFBLEFBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQ3ZCLEFBQUEsQ0FBQyxNO0FBQU0sQ0FBQTtBQUNQLEFBQUE7QUFDQSxBQUFBLEFBQUEsTUFBTSxDQUFLLE1BQUosR0FBRyxFQUFFLENBQUUsQ0FBQyxDQUFDLEdBQUcsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQzlDLEFBQUEsQ0FBQyxNQUFNLENBQUEsQUFBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUE7QUFDdEIsQUFBQSxDQUFDLE07QUFBTSxDQUFBO0FBQ1AsQUFBQTtBQUNBLEFBQUEsQUFBQSxNQUFNLENBQUssTUFBSixJQUFJLENBQUMsQ0FBRSxDQUFDLENBQUMsR0FBRyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDOUMsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLE1BQU0sQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUN0QixBQUFBLENBQUMsTTtBQUFNLENBQUE7QUFDUCxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBSyxNQUFKLEdBQUcsRUFBRSxDQUFFLENBQUMsQ0FBQyxHQUFHLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUM5QyxBQUFBLENBQUMsTUFBTSxDQUFBLEFBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQ3ZCLEFBQUEsQ0FBQyxNO0FBQU0sQ0FBQTtBQUNQLEFBQUE7QUFDQSxBQUFBLEFBQUEsTUFBTSxDQUFTLE1BQVIsUUFBUSxDQUFDLENBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQzNELEFBQUEsQ0FBQyxHQUFHLENBQUEsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFBLENBQUEsQ0FBQTtBQUMzQixBQUFBLEVBQUUsTTtDQUFNLENBQUE7QUFDUixBQUFBLENBQUMsR0FBRyxDQUFBLEFBQUMsQ0FBQyxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUM5QixBQUFBLENBQUMsTTtBQUFNLENBQUE7QUFDUCxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBVyxNQUFWLFVBQVUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUM3RCxBQUFBLENBQUMsR0FBRyxDQUFBLGVBQWUsQ0FBQyxNQUFNLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDM0IsQUFBQSxFQUFFLE07Q0FBTSxDQUFBO0FBQ1IsQUFBQSxDQUFDLEdBQUcsQ0FBQSxBQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNwQyxBQUFBLENBQUMsTTtBQUFNLENBQUE7QUFDUCxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBUyxNQUFSLFFBQVEsQ0FBQyxDQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUMzRCxBQUFBLENBQUMsR0FBRyxDQUFBLGVBQWUsQ0FBQyxPQUFPLENBQUMsQ0FBQSxDQUFBLENBQUE7QUFDNUIsQUFBQSxFQUFFLE07Q0FBTSxDQUFBO0FBQ1IsQUFBQSxDQUFDLEdBQUcsQ0FBQSxBQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNwQyxBQUFBLENBQUMsTTtBQUFNLENBQUE7QUFDUCxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBVyxNQUFWLFVBQVUsQ0FBQyxDQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMs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Q25CLEFBQUEsRUFBRSxNO0NBQU0sQ0FBQTtBQUNSLEFBQUE7QUFDQSxBQUFBLEMsR0FBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQyxDLENBQUMsQUFBQyxDLFksQ0FBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBLENBQUE7QUFDeEMsQUFBQSxFQUFLLE1BQUgsR0FBRyxDQUFDLENBQUUsQ0FBQyxJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQztBQUMvQixBQUFBLEVBQUssTUFBSCxHQUFHLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxJLENBQUMsV0FBVyxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQ3pDLEFBQUEsRUFBRSxNQUFNLENBQUEsQUFBQyxJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ2hDLEFBQUEsRUFBRSxNO0NBQU0sQ0FBQTtBQUNSLEFBQUE7QUFDQSxBQUFBLEMsT0FBUSxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQyxDLENBQUMsQUFBQyxDLFksQ0FBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBLENBQUE7QUFDNUMsQUFBQSxFQUFLLE1BQUgsR0FBRyxDQUFDLENBQUUsQ0FBQyxJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQztBQUMvQixBQUFBLEVBQUssTUFBSCxHQUFHLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxJLENBQUMsV0FBVyxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQzdDLEFBQUEsRUFBRSxNQUFNLENBQUEsQUFBQyxJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ2hDLEFBQUEsRUFBRSxJLENBQUMsV0FBVyxDLEVBQUcsQ0FBQyxDQUFDO0FBQ25CLEFBQUEsRUFBRSxNO0NBQU0sQ0FBQTtBQUNSLEFBQUE7QUFDQSxBQUFBLEMsSUFBSyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQyxDLENBQUMsQUFBQyxDLFksQ0FBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBLENBQUE7QUFDekMsQUFBQSxFQUFLLE1BQUgsR0FBRyxDQUFDLENBQUUsQ0FBQyxJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQztBQUMvQixBQUFBLEVBQUssTUFBSCxHQUFHLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxJLENBQUMsV0FBVyxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQzdDLEFBQUEsRUFBRSxNQUFNLENBQUEsQUFBQyxJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFBO0FBQ2hDLEFBQUEsRUFBRSxJLENBQUMsV0FBVyxDLEVBQUcsQ0FBQyxDQUFDO0FBQ25CLEFBQUEsRUFBRSxNO0NBQU0sQztBQUFBLENBQUE7QUFDUiIsIm5hbWVzIjpbXSwic291cmNlc0NvbnRlbnQiOlsiIyBsb2dnZXIubGliLmNpdmV0XHJcblxyXG5pbXBvcnQge1xyXG5cdGV4aXN0c1N5bmMsIGVuc3VyZURpclN5bmMsXHJcblx0fSBmcm9tICdAc3RkL2ZzJ1xyXG5pbXBvcnQge0xvZ0xldmVsc30gZnJvbSBcIkBzdGQvbG9nL2xldmVsc1wiXHJcbmltcG9ydCB7XHJcblx0Q29uc29sZUhhbmRsZXIsIEZpbGVIYW5kbGVyLCBzZXR1cCwgZ2V0TG9nZ2VyLCBMb2dSZWNvcmQsXHJcblx0fSBmcm9tICdAc3RkL2xvZydcclxuaW1wb3J0IHtibHVlLCBibGFja30gZnJvbSBcIkBzdGQvZm10L2NvbG9yc1wiXHJcblxyXG5pbXBvcnQge3JtRmlsZX0gZnJvbSAnYmFzZS11dGlscydcclxuaW1wb3J0IHtnZXRQcmVmaXh9IGZyb20gJ3VuaWNvZGUnXHJcbmltcG9ydCB7XHJcblx0dW5kZWYsIGRlZmluZWQsIG5vdGRlZmluZWQsIGhhc2gsIGlzU3RyaW5nLCBub25FbXB0eSxcclxuXHRjcm9haywgYXNzZXJ0LFxyXG5cdH0gZnJvbSAnZGF0YXR5cGVzJ1xyXG5pbXBvcnQge1xyXG5cdHNwYWNlcywgbywgc2luY2VMb2FkU3RyLCBwYXNzLFxyXG5cdH0gZnJvbSAnbGx1dGlscydcclxuaW1wb3J0IHtPTCwgTUx9IGZyb20gJ3RvLW5pY2UnXHJcbmltcG9ydCB7XHJcblx0VExvZ0xldmVsLCBpc0xvZ0xldmVsLCBnZXRMb2dMZXZlbCwgc2V0TG9nTGV2ZWwsXHJcblx0cHVzaExvZ0xldmVsLCBwb3BMb2dMZXZlbCwgcmVzZXRMb2dMZXZlbCxcclxuXHRpc0luYWN0aXZlTGV2ZWwsXHJcblx0fSBmcm9tICdsb2ctbGV2ZWxzJ1xyXG5pbXBvcnQge1xyXG5cdGdldEZvcm1hdHRlciwgaW5kZW50TG9nLCB1bmRlbnRMb2csXHJcblx0Z2V0Q29uc29sZUxvZywgY2xlYXJDb25zb2xlTG9nLCBsb2dJbmRlbnQsXHJcblx0fSBmcm9tICdsb2ctZm9ybWF0dGVyJ1xyXG5cclxuZXhwb3J0IHtcclxuXHRnZXRMb2dMZXZlbCwgaXNMb2dMZXZlbCwgc2V0TG9nTGV2ZWwsXHJcblx0cHVzaExvZ0xldmVsLCBwb3BMb2dMZXZlbCxcclxuXHRpbmRlbnRMb2csIHVuZGVudExvZyxcclxuXHRjbGVhckNvbnNvbGVMb2csIGdldENvbnNvbGVMb2csXHJcblx0fVxyXG5leHBvcnQgdHlwZSB7VExvZ0xldmVsfVxyXG5cclxuZW5zdXJlRGlyU3luYyAnLi9sb2dzJ1xyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbm1haW5Nb2R1bGU6IHN0cmluZyA6PSBuZXcgVVJMKERlbm8ubWFpbk1vZHVsZSkucGF0aG5hbWUuc2xpY2UoMSlcclxuXHJcbmxvZ0ZpbGVOYW1lIDo9ICgoKSA9PlxyXG5cdGxNYXRjaGVzIDo9IG1haW5Nb2R1bGUubWF0Y2goL1tBLVphLXowLTlfXFwtXFwuXSskLylcclxuXHRpZiAobE1hdGNoZXMgPT0gbnVsbClcclxuXHRcdHJldHVybiBcImxvZ3MvZHVtbXkubG9nXCJcclxuXHRsYWJlbCA6PSBsTWF0Y2hlc1swXS5yZXBsYWNlQWxsKCcuJywgJ18nKVxyXG5cdHRpbWUgOj0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2VBbGwoJzonLCctJylcclxuXHRyZXR1cm4gXCJsb2dzLyN7bGFiZWx9ICN7dGltZX0ubG9nXCJcclxuXHQpKClcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgZ2V0TG9nIDo9IChmcm9tOiBzdHJpbmcpOiBzdHJpbmcgPT5cclxuXHJcblx0c3dpdGNoIGZyb21cclxuXHRcdHdoZW4gJ2NvbnNvbGUnXHJcblx0XHRcdHJldHVybiBnZXRDb25zb2xlTG9nKClcclxuXHRcdHdoZW4gJ2ZpbGUnXHJcblx0XHRcdGlmIGV4aXN0c1N5bmMobG9nRmlsZU5hbWUpXHJcblx0XHRcdFx0ZGF0YSA6PSBEZW5vLnJlYWRGaWxlU3luYyhsb2dGaWxlTmFtZSlcclxuXHRcdFx0XHRkZWNvZGVyIDo9IG5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIpXHJcblx0XHRcdFx0cmV0dXJuIGRlY29kZXIuZGVjb2RlKGRhdGEpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gJydcclxuXHRcdGVsc2VcclxuXHRcdFx0Y3JvYWsgXCJnZXRMb2coKTogaW52YWxpZCBmcm9tID0gI3tmcm9tfVwiXHJcblx0XHRcdHJldHVybiAnJ1xyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBjbGVhckxvZyA6PSAod2hpY2g6IHN0cmluZyk6IHZvaWQgPT5cclxuXHJcblx0c3dpdGNoIHdoaWNoXHJcblx0XHR3aGVuICdjb25zb2xlJ1xyXG5cdFx0XHRjbGVhckNvbnNvbGVMb2coKVxyXG5cdFx0d2hlbiAnZmlsZSdcclxuXHRcdFx0ZW5jb2RlciA6PSBuZXcgVGV4dEVuY29kZXIoKTtcclxuXHRcdFx0c3RyIDo9IGVuY29kZXIuZW5jb2RlKCcnKVxyXG5cdFx0XHREZW5vLndyaXRlRmlsZVN5bmMobG9nRmlsZU5hbWUsIHN0cilcclxuXHRcdHdoZW4gJ2JvdGgnXHJcblx0XHRcdGNsZWFyQ29uc29sZUxvZygpXHJcblx0XHRcdGVuY29kZXIgOj0gbmV3IFRleHRFbmNvZGVyKCk7XHJcblx0XHRcdHN0ciA6PSBlbmNvZGVyLmVuY29kZSgnJylcclxuXHRcdFx0RGVuby53cml0ZUZpbGVTeW5jKGxvZ0ZpbGVOYW1lLCBzdHIpXHJcblx0XHRlbHNlXHJcblx0XHRcdHBhc3MoKVxyXG5cdHJldHVyblxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmhDb25maWc6IGhhc2ggOj0ge1xyXG5cclxuXHRoYW5kbGVyczpcclxuXHJcblx0XHRjb25zb2xlOiBuZXcgQ29uc29sZUhhbmRsZXIoJ0RFQlVHJywge1xyXG5cdFx0XHRmb3JtYXR0ZXI6IGdldEZvcm1hdHRlcignJG1zZycsICdjb25zb2xlJylcclxuXHRcdFx0fSlcclxuXHJcblx0XHRmaWxlOiBuZXcgRmlsZUhhbmRsZXIoJ0RFQlVHJywge1xyXG5cdFx0XHRmaWxlbmFtZTogbG9nRmlsZU5hbWVcclxuXHRcdFx0bW9kZTogJ2EnXHJcblx0XHRcdGZvcm1hdHRlcjogZ2V0Rm9ybWF0dGVyKCckbGwgJG1zZycsICdmaWxlJylcclxuXHRcdFx0fSlcclxuXHJcblx0XHRjb25zb2xlX3Byb2Y6IG5ldyBDb25zb2xlSGFuZGxlcignREVCVUcnLCB7XHJcblx0XHRcdGZvcm1hdHRlcjogZ2V0Rm9ybWF0dGVyKCdbJHRzXSAkbXNnJywgJ2NvbnNvbGUnKVxyXG5cdFx0XHR9KVxyXG5cclxuXHRcdGZpbGVfcHJvZjogbmV3IEZpbGVIYW5kbGVyKCdERUJVRycsIHtcclxuXHRcdFx0ZmlsZW5hbWU6IGxvZ0ZpbGVOYW1lXHJcblx0XHRcdG1vZGU6ICdhJ1xyXG5cdFx0XHRmb3JtYXR0ZXI6IGdldEZvcm1hdHRlcignWyR0c10gJGxsICRtc2cnLCAnZmlsZScpXHJcblx0XHRcdH0pXHJcblxyXG5cdCMgLS0tIGFzc2lnbiBoYW5kbGVycyB0byBsb2dnZXJzXHJcblx0IyAgICAgb3JkZXIgZnJvbSBtb3N0IHZlcmJvc2UgdG8gbGVhc3QgdmVyYm9zZVxyXG5cclxuXHRsb2dnZXJzOiB7XHJcblx0XHRwcm9maWxlOiB7XHJcblx0XHRcdGxldmVsOiBcIkRFQlVHXCJcclxuXHRcdFx0bnVtOiAxXHJcblx0XHRcdGhhbmRsZXJzOiBbXCJjb25zb2xlX3Byb2ZcIiwgXCJmaWxlX3Byb2ZcIl1cclxuXHRcdFx0fVxyXG5cdFx0ZGVidWc6IHtcclxuXHRcdFx0bGV2ZWw6IFwiREVCVUdcIlxyXG5cdFx0XHRudW06IDJcclxuXHRcdFx0aGFuZGxlcnM6IFtcImNvbnNvbGVcIiwgXCJmaWxlXCJdXHJcblx0XHRcdH1cclxuXHRcdGluZm86IHtcclxuXHRcdFx0bGV2ZWw6IFwiSU5GT1wiXHJcblx0XHRcdG51bTogM1xyXG5cdFx0XHRoYW5kbGVyczogW1wiY29uc29sZVwiLCBcImZpbGVcIl1cclxuXHRcdFx0fVxyXG5cdFx0d2Fybjoge1xyXG5cdFx0XHRsZXZlbDogXCJXQVJOXCIsXHJcblx0XHRcdG51bTogNFxyXG5cdFx0XHRoYW5kbGVyczogW1wiY29uc29sZVwiLCBcImZpbGVcIl1cclxuXHRcdFx0fVxyXG5cdFx0ZXJyb3I6IHtcclxuXHRcdFx0bGV2ZWw6IFwiRVJST1JcIlxyXG5cdFx0XHRudW06IDVcclxuXHRcdFx0aGFuZGxlcnM6IFtcImNvbnNvbGVcIiwgXCJmaWxlXCJdXHJcblx0XHRcdH1cclxuXHRcdGZpbGU6IHtcclxuXHRcdFx0bGV2ZWw6IFwiREVCVUdcIixcclxuXHRcdFx0bnVtOiA2XHJcblx0XHRcdGhhbmRsZXJzOiBbXCJmaWxlXCJdXHJcblx0XHRcdH1cclxuXHRcdHNpbGVudDoge1xyXG5cdFx0XHRsZXZlbDogXCJFUlJPUlwiXHJcblx0XHRcdG51bTogN1xyXG5cdFx0XHRoYW5kbGVyczogW11cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH1cclxuXHJcbnNldHVwKGhDb25maWcpXHJcbmhMb2dnZXJzIDo9IGhDb25maWcubG9nZ2Vyc1xyXG5oSGFuZGxlcnMgOj0gaENvbmZpZy5oYW5kbGVyc1xyXG5cclxuZXhwb3J0IElOREVOVCA6PSBTeW1ib2woJ2luZGVudCcpXHJcbmV4cG9ydCBVTkRFTlQgOj0gU3ltYm9sKCd1bmRlbnQnKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbm91dHB1dCA6PSAobGV2ZWw6IFRMb2dMZXZlbCwgbEl0ZW1zOiB1bmtub3duW10pOiB2b2lkID0+XHJcblxyXG5cdGlmIGlzSW5hY3RpdmVMZXZlbChsZXZlbClcclxuXHRcdHJldHVyblxyXG5cclxuXHRsZXQgbG9nZ2VyID0gZ2V0TG9nZ2VyKGdldExvZ0xldmVsKCkpXHJcblx0Zm9yIGl0ZW0gb2YgbEl0ZW1zXHJcblx0XHRzd2l0Y2ggaXRlbVxyXG5cdFx0XHR3aGVuIElOREVOVFxyXG5cdFx0XHRcdGluZGVudExvZygpXHJcblx0XHRcdHdoZW4gVU5ERU5UXHJcblx0XHRcdFx0dW5kZW50TG9nKClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHN0ciA6PSBpc1N0cmluZyhpdGVtKSA/IGl0ZW0gOiBNTChpdGVtKVxyXG5cdFx0XHRcdGlmIG5vbkVtcHR5KHN0cilcclxuXHRcdFx0XHRcdHN3aXRjaCBsZXZlbFxyXG5cdFx0XHRcdFx0XHR3aGVuICdkZWJ1Zyc6IGxvZ2dlci5kZWJ1ZyBzdHJcclxuXHRcdFx0XHRcdFx0d2hlbiAnaW5mbyc6ICBsb2dnZXIuaW5mbyBibGFjayhzdHIpXHJcblx0XHRcdFx0XHRcdHdoZW4gJ3dhcm4nOiAgbG9nZ2VyLndhcm4gc3RyXHJcblx0XHRcdFx0XHRcdHdoZW4gJ2Vycm9yJzogbG9nZ2VyLmVycm9yIHN0clxyXG5cdFx0XHRcdFx0XHRlbHNlIHBhc3MoKVxyXG5cclxuXHRyZXR1cm5cclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5leHBvcnQgREJHICA6PSAoLi4ubEl0ZW1zOiB1bmtub3duW10pOiB2b2lkID0+XHJcblx0b3V0cHV0ICdkZWJ1ZycsIGxJdGVtc1xyXG5cdHJldHVyblxyXG5cclxuZXhwb3J0IExPRyAgOj0gKC4uLmxJdGVtczogdW5rbm93bltdKTogdm9pZCA9PlxyXG5cdG91dHB1dCAnaW5mbycsIGxJdGVtc1xyXG5cdHJldHVyblxyXG5cclxuZXhwb3J0IFdBUk4gOj0gKC4uLmxJdGVtczogdW5rbm93bltdKTogdm9pZCA9PlxyXG5cdG91dHB1dCAnd2FybicsIGxJdGVtc1xyXG5cdHJldHVyblxyXG5cclxuZXhwb3J0IEVSUiAgOj0gKC4uLmxJdGVtczogdW5rbm93bltdKTogdm9pZCA9PlxyXG5cdG91dHB1dCAnZXJyb3InLCBsSXRlbXNcclxuXHRyZXR1cm5cclxuXHJcbmV4cG9ydCBMT0dWQUxVRSA6PSAobGFiZWw6IHN0cmluZywgdmFsdWU6IHVua25vd24pOiB2b2lkID0+XHJcblx0aWYgaXNJbmFjdGl2ZUxldmVsKCdpbmZvJylcclxuXHRcdHJldHVyblxyXG5cdExPRyBcIiN7bGFiZWx9ID0gI3tNTCh2YWx1ZSl9XCJcclxuXHRyZXR1cm5cclxuXHJcbmV4cG9ydCBMT0dMQUJFTEVEIDo9IChsYWJlbDogc3RyaW5nLCB2YWx1ZTogdW5rbm93bik6IHZvaWQgPT5cclxuXHRpZiBpc0luYWN0aXZlTGV2ZWwoJ2luZm8nKVxyXG5cdFx0cmV0dXJuXHJcblx0TE9HIGJsdWUobGFiZWwpICsgXCIgPSAje01MKHZhbHVlKX1cIlxyXG5cdHJldHVyblxyXG5cclxuZXhwb3J0IERCR1ZBTFVFIDo9IChsYWJlbDogc3RyaW5nLCB2YWx1ZTogdW5rbm93bik6IHZvaWQgPT5cclxuXHRpZiBpc0luYWN0aXZlTGV2ZWwoJ2RlYnVnJylcclxuXHRcdHJldHVyblxyXG5cdERCRyBibHVlKGxhYmVsKSArIFwiID0gI3tNTCh2YWx1ZSl9XCJcclxuXHRyZXR1cm5cclxuXHJcbmV4cG9ydCBEQkdMQUJFTEVEIDo9IChsYWJlbDogc3RyaW5nLCB2YWx1ZTogdW5rbm93bik6IHZvaWQgPT5cclxuXHRpZiBpc0luYWN0aXZlTGV2ZWwoJ2RlYnVnJylcclxuXHRcdHJldHVyblxyXG5cdERCRyBibHVlKGxhYmVsKSArIFwiOiAje01MKHZhbHVlKX1cIlxyXG5cdHJldHVyblxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCByZW1vdmVMb2dGaWxlIDo9ICgpOiB2b2lkID0+XHJcblxyXG5cdHJtRmlsZSBsb2dGaWxlTmFtZVxyXG5cdHJldHVyblxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCB0eXBlIFRGb3JtYXR0ZXI8VD4gPSAoZGVzYzogc3RyaW5nLCBpdGVtOiBUPykgPT4gc3RyaW5nXHJcblxyXG5leHBvcnQgY2xhc3MgVHJlZUxvZ2dlcjxUPlxyXG5cclxuXHQjIC0tLSBkYXRhIGZpZWxkc1xyXG5cdGluZGVudExldmVsOiBudW1iZXIgPSAwXHJcblx0bG9nTGV2ZWw6IFRMb2dMZXZlbCA9ICdkZWJ1ZydcclxuXHRmb3JtYXR0ZXI6IFRGb3JtYXR0ZXI8VD5cclxuXHJcblx0IyAtLS0gbWV0aG9kc1xyXG5cdGNvbnN0cnVjdG9yKFxyXG5cdFx0XHRAZm9ybWF0dGVyID0gKGRlc2M6IHN0cmluZywgaXRlbTogVD8pID0+IGRlc2NcclxuXHRcdFx0bG9nTGV2ZWw6IHN0cmluZyA9ICdkZWJ1ZydcclxuXHRcdFx0KVxyXG5cdFx0aWYgaXNMb2dMZXZlbChsb2dMZXZlbClcclxuXHRcdFx0QGxvZ0xldmVsID0gbG9nTGV2ZWxcclxuXHJcblx0c3RhcnQoZGVzYzogc3RyaW5nLCBpdGVtOiBUPz11bmRlZik6IHZvaWRcclxuXHRcdHN0ciA6PSBAZm9ybWF0dGVyKGRlc2MsIGl0ZW0pXHJcblx0XHRwcmUgOj0gZ2V0UHJlZml4KEBpbmRlbnRMZXZlbCwgJ3BsYWluJylcclxuXHRcdG91dHB1dCBAbG9nTGV2ZWwsIFtwcmUgKyBzdHJdXHJcblx0XHRAaW5kZW50TGV2ZWwgKz0gMVxyXG5cdFx0cmV0dXJuXHJcblxyXG5cdGxvZyhkZXNjOiBzdHJpbmcsIGl0ZW06IFQ/PXVuZGVmKTogdm9pZFxyXG5cdFx0c3RyIDo9IEBmb3JtYXR0ZXIoZGVzYywgaXRlbSlcclxuXHRcdHByZSA6PSBnZXRQcmVmaXgoQGluZGVudExldmVsLCAncGxhaW4nKVxyXG5cdFx0b3V0cHV0IEBsb2dMZXZlbCwgIFtwcmUgKyBzdHJdXHJcblx0XHRyZXR1cm5cclxuXHJcblx0c3VjY2VlZChkZXNjOiBzdHJpbmcsIGl0ZW06IFQ/PXVuZGVmKTogdm9pZFxyXG5cdFx0c3RyIDo9IEBmb3JtYXR0ZXIoZGVzYywgaXRlbSlcclxuXHRcdHByZSA6PSBnZXRQcmVmaXgoQGluZGVudExldmVsLCAnd2l0aEFycm93JylcclxuXHRcdG91dHB1dCBAbG9nTGV2ZWwsICBbcHJlICsgc3RyXVxyXG5cdFx0QGluZGVudExldmVsIC09IDFcclxuXHRcdHJldHVyblxyXG5cclxuXHRmYWlsKGRlc2M6IHN0cmluZywgaXRlbTogVD89dW5kZWYpOiB2b2lkXHJcblx0XHRzdHIgOj0gQGZvcm1hdHRlcihkZXNjLCBpdGVtKVxyXG5cdFx0cHJlIDo9IGdldFByZWZpeChAaW5kZW50TGV2ZWwsICd3aXRoQXJyb3cnKVxyXG5cdFx0b3V0cHV0IEBsb2dMZXZlbCwgIFtwcmUgKyBzdHJdXHJcblx0XHRAaW5kZW50TGV2ZWwgLT0gMVxyXG5cdFx0cmV0dXJuXHJcbiJdfQ==