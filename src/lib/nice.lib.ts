"use strict";
// nice.lib.civet

import {
	undef, defined, notdefined, assert, croak, hash, hashof,
	isArray, isFunction, isBoolean, isString, isNonPrimitive,
	isClass, isArrayOfStrings, isEmpty, nonEmpty,
	className, functionName, symbolName,
	classDef, functionDef, regexpDef,
	} from 'datatypes'
import {
	getOptions, escapeStr, unescapeStr,
	keys, toBlock, o, OL, rtrim, Fetcher,
	} from 'llutils'
import {
	indented,
	} from 'indent'
import {
	TPLLToken, tkEOF, tkIndent, tkUndent,
	TTokenGenerator, allTokensInBlock,
	} from 'pll'

// ---------------------------------------------------------------------------

export type TCompareFunc = (a: string, b: string) => number
export type TMapFunc = (key: string, x: unknown) => unknown

// ---------------------------------------------------------------------------

export const alphaCompare: TCompareFunc = (
		a: string,
		b: string
		): number => {

	return (a < b) ? -1 : (a > b) ? 1 : 0
}

// ---------------------------------------------------------------------------

// --- Returns a function that:
//        compares 2 strings based on their position in lSortKeys
//        else compares alphabetically

const getCompareFunc = (
		lSortKeys: string[]
		): TCompareFunc => {

	// --- Create map of key to number
	const h: hashof<number> = {}
	let i1 = 0;for (const key of lSortKeys) {const i = i1++;
		h[key] = i+1
	}

	return function(a: string, b: string): number {
		const aVal = h[a]
		const bVal = h[b]

		if (defined(aVal)) {
			if (defined(bVal)) {
				// --- compare numerically
				return (aVal < bVal) ? -1 : (aVal > bVal) ? 1 : 0
			}
			else {
				return -1
			}
		}
		else {
			if (defined(bVal)) {
				return 1
			}
			else {
				return alphaCompare(a, b)
			}
		}
	}
}

// ---------------------------------------------------------------------------
// --- leading digit must be preceded by a '\'
//     leading and trailing whitespace must be replaced
//        with \t, \n or \x20

export const toNiceString = (str: string): string => {

	const escaped = escapeStr(str, o`style=C`)
	if (str.match(/^[\d.-]/) || str.match(/^\S+:/)) {
		return `\\${escaped}`
	}
	else {
		return escaped
	}
}

// ---------------------------------------------------------------------------

const pathadd = (
		path: string,
		key: string | number
		): string => {

	const newkey = (
		  (typeof key === 'number')
		? `[${key.toString()}]`
		: `/${key}`
		)
	return (path === '/') ? newkey : `${path}${newkey}`
}

// ---------------------------------------------------------------------------

export const toNice = (
		x: unknown,
		hOptions: hash={},
		mapVisited: Map<object, string> = new Map<object, string>(),
		path: string = '/'
		): string => {

	// --- When recoverable, classes and functions
	//     include their definitions,
	//     with escaped chars

	type opt = {
		recoverable: boolean
		ignoreEmptyKeys: boolean
		sortKeys: boolean
		sortFunc: (TCompareFunc | undefined)
		mapFunc: TMapFunc
		lInclude: ((string[]) | undefined)
		lExclude: string[]
		}
	const {recoverable,
			ignoreEmptyKeys,
			sortKeys,
			sortFunc,
			mapFunc,
			lInclude,
			lExclude,
		} = getOptions<opt>(hOptions, {
		recoverable: false,
		ignoreEmptyKeys: false,
		sortKeys: false,
		sortFunc: undef,
		mapFunc: (key: string, x: unknown) => { return x },
		lInclude: undef,
		lExclude: []
		})

	assert(!(sortKeys && defined(sortFunc)), "Bad options")
	switch(typeof x) {
		case 'undefined': {
			return '.undef.'
		}

		case 'boolean': {
			return x ? '.true.' : '.false.'
		}

		case 'number': {
			return (
				  Number.isNaN(x)    ? '.NaN.'
				: Number.isFinite(x) ? x.toString()
				: ((x < 0) ? '.neginfinity.' : '.infinity.')
				)
		}

		case 'bigint': {
			return x.toString() + 'n'
		}

		case 'string': {
			return toNiceString(x)
		}

		case 'symbol': {
			const name = symbolName(x)
			return name ? `.symbol ${name}.` : '.symbol.'
		}

		case 'function': {
			if (isClass(x)) {
				return `.class ${className(x)}.`
			}
			else {
				return `.function ${functionName(x)}.`
			}
		}

		case 'object': {
			if (x === null) {
				return '.null.'
			}

			if (x instanceof RegExp) {
				const def = regexpDef(x)
				return def ? `.regexp ${def}.` : '.regexp.'
			}

			if (x instanceof String) {
				return toNiceString(x.toString())
			}

			if (x instanceof Boolean) {
				return x ? '.true.' : '.false.'
			}

			if (x instanceof Number) {
				return x.toString()
			}

			// --- Check if object was previously visited
			const prevpath = mapVisited.get(x)
			if (prevpath) {
				return `.REF ${prevpath}.`
			}

			// --- a utility function ---

			const shouldSplit = (v: unknown): boolean => {
				return (
						(typeof v === 'object')
					&& (v !== null)
					&& !(v instanceof String)
					&& !(v instanceof Number)
					&& !(v instanceof Boolean)
					&& nonEmpty(v)
					&& !mapVisited.has(v)
					)
			}

			if (isArray(x)) {
				if (x.length === 0) {
					return '.[].'
				}
				const lLines = []
				let i2 = 0;for (const val of x) {const i = i2++;
					const doSplit = shouldSplit(val)
					const block = toNice(
							val,
							hOptions,
							mapVisited,
							pathadd(path, i)
							)
					if (doSplit) {
						lLines.push('-')
						lLines.push(indented(block, 1, {oneIndent: '   '}))
					}
					else {
						lLines.push(`- ${block}`)
					}
				}
				return toBlock(lLines)
			}

			// --- Add to visited map
			mapVisited.set(x, path)

			const lKeys = Object.keys(x)
			if (lKeys.length === 0) {
				return '.{}.'
			}

			const func: (TCompareFunc | undefined) = (
				  defined(sortFunc) ? sortFunc
				: defined(lInclude) ? getCompareFunc(lInclude)
				: sortKeys          ? alphaCompare
				:                     undef
				)

			const useKey = (key: unknown): boolean => {
				if (typeof key !== 'string') {
					return false
				}
				if (defined(lExclude) && lExclude.includes(key)) {
					return false
				}
				if (defined(lInclude) && !lInclude.includes(key)) {
					return false
				}
				return true
			}

			const lLines = []
			for (const key of (defined(func) ? lKeys.sort(func) : lKeys)) {
				if (useKey(key)) {
					const val = mapFunc(key, (x as hashof<unknown>)[key])
					if (!ignoreEmptyKeys || !isEmpty(val)) {
						const doSplit = shouldSplit(val)
						const block = toNice(
								val,
								hOptions,
								mapVisited,
								pathadd(path, key)
								)
						if (doSplit) {
							lLines.push(`${key}:`)
							lLines.push(indented(block, 1, {oneIndent: '   '}))
						}
						else {
							lLines.push(`${key}: ${block}`)
						}
					}
				}
			}
			return toBlock(lLines)
		}
	}

	return `<Unknown object ${OL(x)}>`
}

// ---------------------------------------------------------------------------


// ---------------------------------------------------------------------------

export const niceSplitter: TTokenGenerator = function*(
		str: string
		) {
	let ref;let ref1;if ((ref = str.match(/^-(.*)$/))) {let lMatches = ref;
		const tail = lMatches[1].trim()
		if (tail) {
			yield {
				kind: 'list-item',
				str,
				value: getPrimitive(tail)
				}
		}
		else {
			yield {
				kind: 'list-head',
				name: str,
				str: ''
				}
		}
	}
	else if ((ref1 = str.match(/^([A-Za-z][A-Za-z0-9_]*):(.*)$/))) {let lMatches = ref1;
		const name = lMatches[1]
		const tail = lMatches[2].trim()
		if (tail) {
			yield {
				kind: 'hash-item',
				str,
				name,
				value: getPrimitive(tail)
				}
		}
		else {
			yield {
				kind: 'hash-head',
				name,
				str
				}
		}
	}
	else {
		yield {
			kind: 'primitive',
			str,
			value: getPrimitive(str)
			}
	}
}

// ---------------------------------------------------------------------------

export const allNiceTokens = function*(
		block: string,
		): Generator<TPLLToken, void, void> {

	for (const h of allTokensInBlock(block, niceSplitter)) {
		yield h
	}
	return
}

// ---------------------------------------------------------------------------

export const fromNice = (
		str: string,
		): unknown => {

	// --- Create a Fetcher, then use
	//     recursive descent parsing

	const fetcher = new Fetcher<TPLLToken>(allNiceTokens(str), tkEOF)

	const parseObj = (): unknown => {
		const {kind, str} = fetcher.peek()
		if(kind === 'list-item' || kind === 'list-head') {
				return parseList()}
else if(kind === 'hash-item' || kind === 'hash-head') {
				return parseHash()}
else if(kind === 'eof') {
				return undef}
else  {
				fetcher.skip()
				if (defined(str)) {
					return getPrimitive(str)
				}
			}
	}

	const parseList = (): unknown[] => {
		const lItems: unknown[] = []
		let {kind} = fetcher.peek()
		while (['list-item', 'list-head'].includes(kind)) {
			if (kind === 'list-head') {
				lItems.push(parseListNest())
			}
			else {
				lItems.push(fetcher.get().value)
			}
			kind = fetcher.peek().kind
		}
		return lItems
	}

	const parseListNest = (): unknown[] => {
		fetcher.get({kind: 'list-head', str: ''})
		fetcher.get({kind: 'indent', str: ''})
		const value = parseObj()
		fetcher.get({kind: 'undent', str: ''})
		return [value]
	}

	const parseHash = (): hash => {
		const hItems: hash = {}
		let {kind, name} = fetcher.peek()
		if (kind === 'hash-head') {
			fetcher.skip()
			fetcher.get({kind: 'indent', str: ''})
			const value = parseObj()
			if (defined(name)) {
				hItems[name] = value
			}
			fetcher.get({kind: 'undent', str: ''})
		}
		else {
			while (kind === 'hash-item') {
				const {name, value} = fetcher.get()
				if (defined(name)) {
					hItems[name] = value
				};
				({kind} = fetcher.peek())
			}
		}
		return hItems
	}

	debugger
	return parseObj()
}

// ---------------------------------------------------------------------------

export const getPrimitive = (
		str: string,
		): unknown => {

	str = str.trim()
	let ref2;if ((ref2 = str.match(/^\.(.*)\.$/))) {const lMatches = ref2;
		const s = lMatches[1].trim()
		if(s === 'undef') { return undef}
else if(s === 'null') { return null}
else if(s === 'true') { return true}
else if(s === 'false') { return false}
else if(s === 'NaN') { return NaN}
else if(s === 'infinity') { return Infinity}
else if(s === 'neginfinity') { return -Infinity}
else if(s === 'symbol') { return Symbol()}
else if(s === '[]') { return []}
else if(s === '{}') { return {}}
else if(typeof s === 'string' && /^symbol\s+(.+)$/.test(s)) {
				const lMatches = s.match(/^symbol\s+(.+)$/)
				if (defined(lMatches)) {
					const name = lMatches[1]
					return Symbol(name)
				}
				else {
					return Symbol()
				}}
else if(typeof s === 'string' && /^regexp\s+(.+)$/.test(s)) {
				const lMatches = s.match(/^regexp\s+(.+)$/)
				if (defined(lMatches)) {
					const name = lMatches[1]
					return new RegExp(name)
				}
				else {
					return new RegExp('^$')
				}}
else  {
				croak("Not Implemented")
			}
	}
	else if (str.match(/^\d+$/)) {
		return parseInt(str, 10)
	}
	else if (str.match(/^\d+\.\d*$/)) {
		return parseFloat(str)
	}
	else {
		return unescapeStr(str, o`purpose=C`)
	}
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQzpcXFVzZXJzXFxqb2huZFxcdXRpbHNcXHNyY1xcbGliXFxuaWNlLmxpYi5jaXZldC50c3giLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcam9obmRcXHV0aWxzXFxzcmNcXGxpYlxcbmljZS5saWIuY2l2ZXQiXSwibWFwcGluZ3MiOiI7QUFBQSxpQkFBZ0I7QUFDaEIsQUFBQTtBQUNBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQztBQUN6RCxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLGNBQWMsQ0FBQztBQUMxRCxDQUFDLE9BQU8sQ0FBQyxDQUFDLGdCQUFnQixDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQzlDLENBQUMsU0FBUyxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsVUFBVSxDQUFDO0FBQ3JDLENBQUMsUUFBUSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ2xDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXO0FBQ25CLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsVUFBVSxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQ3BDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQ3RDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTO0FBQ2pCLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsUUFBUSxDQUFDO0FBQ1YsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVE7QUFD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LmxpYi5jaXZldFxyXG5cclxuaW1wb3J0IHtcclxuXHR1bmRlZiwgZGVmaW5lZCwgbm90ZGVmaW5lZCwgYXNzZXJ0LCBjcm9haywgaGFzaCwgaGFzaG9mLFxyXG5cdGlzQXJyYXksIGlzRnVuY3Rpb24sIGlzQm9vbGVhbiwgaXNTdHJpbmcsIGlzTm9uUHJpbWl0aXZlLFxyXG5cdGlzQ2xhc3MsIGlzQXJyYXlPZlN0cmluZ3MsIGlzRW1wdHksIG5vbkVtcHR5LFxyXG5cdGNsYXNzTmFtZSwgZnVuY3Rpb25OYW1lLCBzeW1ib2xOYW1lLFxyXG5cdGNsYXNzRGVmLCBmdW5jdGlvbkRlZiwgcmVnZXhwRGVmLFxyXG5cdH0gZnJvbSAnZGF0YXR5cGVzJ1xyXG5pbXBvcnQge1xyXG5cdGdldE9wdGlvbnMsIGVzY2FwZVN0ciwgdW5lc2NhcGVTdHIsXHJcblx0a2V5cywgdG9CbG9jaywgbywgT0wsIHJ0cmltLCBGZXRjaGVyLFxyXG5cdH0gZnJvbSAnbGx1dGlscydcclxuaW1wb3J0IHtcclxuXHRpbmRlbnRlZCxcclxuXHR9IGZyb20gJ2luZGVudCdcclxuaW1wb3J0IHtcclxuXHRUUExMVG9rZW4sIHRrRU9GLCB0a0luZGVudCwgdGtVbmRlbnQsXHJcblx0VFRva2VuR2VuZXJhdG9yLCBhbGxUb2tlbnNJbkJsb2NrLFxyXG5cdH0gZnJvbSAncGxsJ1xyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCB0eXBlIFRDb21wYXJlRnVuYyA9IChhOiBzdHJpbmcsIGI6IHN0cmluZykgPT4gbnVtYmVyXHJcbmV4cG9ydCB0eXBlIFRNYXBGdW5jID0gKGtleTogc3RyaW5nLCB4OiB1bmtub3duKSA9PiB1bmtub3duXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZXhwb3J0IGFscGhhQ29tcGFyZTogVENvbXBhcmVGdW5jIDo9IChcclxuXHRcdGE6IHN0cmluZyxcclxuXHRcdGI6IHN0cmluZ1xyXG5cdFx0KTogbnVtYmVyID0+XHJcblxyXG5cdHJldHVybiAoYSA8IGIpID8gLTEgOiAoYSA+IGIpID8gMSA6IDBcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4jIC0tLSBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdDpcclxuIyAgICAgICAgY29tcGFyZXMgMiBzdHJpbmdzIGJhc2VkIG9uIHRoZWlyIHBvc2l0aW9uIGluIGxTb3J0S2V5c1xyXG4jICAgICAgICBlbHNlIGNvbXBhcmVzIGFscGhhYmV0aWNhbGx5XHJcblxyXG5nZXRDb21wYXJlRnVuYyA6PSAoXHJcblx0XHRsU29ydEtleXM6IHN0cmluZ1tdXHJcblx0XHQpOiBUQ29tcGFyZUZ1bmMgPT5cclxuXHJcblx0IyAtLS0gQ3JlYXRlIG1hcCBvZiBrZXkgdG8gbnVtYmVyXHJcblx0aDogaGFzaG9mPG51bWJlcj4gOj0ge31cclxuXHRmb3Iga2V5LGkgb2YgbFNvcnRLZXlzXHJcblx0XHRoW2tleV0gPSBpKzFcclxuXHJcblx0cmV0dXJuIChhOiBzdHJpbmcsIGI6IHN0cmluZyk6IG51bWJlciAtPlxyXG5cdFx0YVZhbCA6PSBoW2FdXHJcblx0XHRiVmFsIDo9IGhbYl1cclxuXHJcblx0XHRpZiBkZWZpbmVkKGFWYWwpXHJcblx0XHRcdGlmIGRlZmluZWQoYlZhbClcclxuXHRcdFx0XHQjIC0tLSBjb21wYXJlIG51bWVyaWNhbGx5XHJcblx0XHRcdFx0cmV0dXJuIChhVmFsIDwgYlZhbCkgPyAtMSA6IChhVmFsID4gYlZhbCkgPyAxIDogMFxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIC0xXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIGRlZmluZWQoYlZhbClcclxuXHRcdFx0XHRyZXR1cm4gMVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIGFscGhhQ29tcGFyZShhLCBiKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyAtLS0gbGVhZGluZyBkaWdpdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgJ1xcJ1xyXG4jICAgICBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlIG11c3QgYmUgcmVwbGFjZWRcclxuIyAgICAgICAgd2l0aCBcXHQsIFxcbiBvciBcXHgyMFxyXG5cclxuZXhwb3J0IHRvTmljZVN0cmluZyA6PSAoc3RyOiBzdHJpbmcpOiBzdHJpbmcgPT5cclxuXHJcblx0ZXNjYXBlZCA6PSBlc2NhcGVTdHIoc3RyLCBvJ3N0eWxlPUMnKVxyXG5cdGlmIHN0ci5tYXRjaCgvXltcXGQuLV0vKSB8fCBzdHIubWF0Y2goL15cXFMrOi8pXHJcblx0XHRyZXR1cm4gXCJcXFxcI3tlc2NhcGVkfVwiXHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIGVzY2FwZWRcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG5wYXRoYWRkIDo9IChcclxuXHRcdHBhdGg6IHN0cmluZ1xyXG5cdFx0a2V5OiBzdHJpbmcgfCBudW1iZXJcclxuXHRcdCk6IHN0cmluZyA9PlxyXG5cclxuXHRuZXdrZXkgOj0gKFxyXG5cdFx0ICAodHlwZW9mIGtleSA9PSAnbnVtYmVyJylcclxuXHRcdD8gXCJbI3trZXkudG9TdHJpbmcoKX1dXCJcclxuXHRcdDogXCIvI3trZXl9XCJcclxuXHRcdClcclxuXHRyZXR1cm4gKHBhdGggPT0gJy8nKSA/IG5ld2tleSA6IFwiI3twYXRofSN7bmV3a2V5fVwiXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZXhwb3J0IHRvTmljZSA6PSAoXHJcblx0XHR4OiB1bmtub3duLFxyXG5cdFx0aE9wdGlvbnM6IGhhc2g9e31cclxuXHRcdG1hcFZpc2l0ZWQ6IE1hcDxvYmplY3QsIHN0cmluZz4gPSBuZXcgTWFwPG9iamVjdCwgc3RyaW5nPigpXHJcblx0XHRwYXRoOiBzdHJpbmcgPSAnLydcclxuXHRcdCk6IHN0cmluZyA9PlxyXG5cclxuXHQjIC0tLSBXaGVuIHJlY292ZXJhYmxlLCBjbGFzc2VzIGFuZCBmdW5jdGlvbnNcclxuXHQjICAgICBpbmNsdWRlIHRoZWlyIGRlZmluaXRpb25zLFxyXG5cdCMgICAgIHdpdGggZXNjYXBlZCBjaGFyc1xyXG5cclxuXHR0eXBlIG9wdCA9IHtcclxuXHRcdHJlY292ZXJhYmxlOiBib29sZWFuXHJcblx0XHRpZ25vcmVFbXB0eUtleXM6IGJvb2xlYW5cclxuXHRcdHNvcnRLZXlzOiBib29sZWFuXHJcblx0XHRzb3J0RnVuYzogVENvbXBhcmVGdW5jP1xyXG5cdFx0bWFwRnVuYzogVE1hcEZ1bmNcclxuXHRcdGxJbmNsdWRlOiBzdHJpbmdbXT9cclxuXHRcdGxFeGNsdWRlOiBzdHJpbmdbXVxyXG5cdFx0fVxyXG5cdHtyZWNvdmVyYWJsZSxcclxuXHRcdFx0aWdub3JlRW1wdHlLZXlzLFxyXG5cdFx0XHRzb3J0S2V5cyxcclxuXHRcdFx0c29ydEZ1bmMsXHJcblx0XHRcdG1hcEZ1bmMsXHJcblx0XHRcdGxJbmNsdWRlLFxyXG5cdFx0XHRsRXhjbHVkZSxcclxuXHRcdH0gOj0gZ2V0T3B0aW9uczxvcHQ+IGhPcHRpb25zLCB7XHJcblx0XHRyZWNvdmVyYWJsZTogZmFsc2VcclxuXHRcdGlnbm9yZUVtcHR5S2V5czogZmFsc2VcclxuXHRcdHNvcnRLZXlzOiBmYWxzZVxyXG5cdFx0c29ydEZ1bmM6IHVuZGVmXHJcblx0XHRtYXBGdW5jOiAoa2V5OiBzdHJpbmcsIHg6IHVua25vd24pID0+IHJldHVybiB4XHJcblx0XHRsSW5jbHVkZTogdW5kZWZcclxuXHRcdGxFeGNsdWRlOiBbXVxyXG5cdFx0fVxyXG5cclxuXHRhc3NlcnQgbm90IChzb3J0S2V5cyAmJiBkZWZpbmVkKHNvcnRGdW5jKSksIFwiQmFkIG9wdGlvbnNcIlxyXG5cdHN3aXRjaCB0eXBlb2YgeFxyXG5cdFx0d2hlbiAndW5kZWZpbmVkJ1xyXG5cdFx0XHRyZXR1cm4gJy51bmRlZi4nXHJcblxyXG5cdFx0d2hlbiAnYm9vbGVhbidcclxuXHRcdFx0cmV0dXJuIHggPyAnLnRydWUuJyA6ICcuZmFsc2UuJ1xyXG5cclxuXHRcdHdoZW4gJ251bWJlcidcclxuXHRcdFx0cmV0dXJuIChcclxuXHRcdFx0XHQgIE51bWJlci5pc05hTih4KSAgICA/ICcuTmFOLidcclxuXHRcdFx0XHQ6IE51bWJlci5pc0Zpbml0ZSh4KSA/IHgudG9TdHJpbmcoKVxyXG5cdFx0XHRcdDogKCh4IDwgMCkgPyAnLm5lZ2luZmluaXR5LicgOiAnLmluZmluaXR5LicpXHJcblx0XHRcdFx0KVxyXG5cclxuXHRcdHdoZW4gJ2JpZ2ludCdcclxuXHRcdFx0cmV0dXJuIHgudG9TdHJpbmcoKSArICduJ1xyXG5cclxuXHRcdHdoZW4gJ3N0cmluZydcclxuXHRcdFx0cmV0dXJuIHRvTmljZVN0cmluZyh4KVxyXG5cclxuXHRcdHdoZW4gJ3N5bWJvbCdcclxuXHRcdFx0bmFtZSA6PSBzeW1ib2xOYW1lKHgpXHJcblx0XHRcdHJldHVybiBuYW1lID8gXCIuc3ltYm9sICN7bmFtZX0uXCIgOiAnLnN5bWJvbC4nXHJcblxyXG5cdFx0d2hlbiAnZnVuY3Rpb24nXHJcblx0XHRcdGlmIGlzQ2xhc3MoeClcclxuXHRcdFx0XHRyZXR1cm4gXCIuY2xhc3MgI3tjbGFzc05hbWUoeCl9LlwiXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gXCIuZnVuY3Rpb24gI3tmdW5jdGlvbk5hbWUoeCl9LlwiXHJcblxyXG5cdFx0d2hlbiAnb2JqZWN0J1xyXG5cdFx0XHRpZiAoeCA9PSBudWxsKVxyXG5cdFx0XHRcdHJldHVybiAnLm51bGwuJ1xyXG5cclxuXHRcdFx0aWYgKHggaW5zdGFuY2VvZiBSZWdFeHApXHJcblx0XHRcdFx0ZGVmIDo9IHJlZ2V4cERlZih4KVxyXG5cdFx0XHRcdHJldHVybiBkZWYgPyBcIi5yZWdleHAgI3tkZWZ9LlwiIDogJy5yZWdleHAuJ1xyXG5cclxuXHRcdFx0aWYgKHggaW5zdGFuY2VvZiBTdHJpbmcpXHJcblx0XHRcdFx0cmV0dXJuIHRvTmljZVN0cmluZyh4LnRvU3RyaW5nKCkpXHJcblxyXG5cdFx0XHRpZiAoeCBpbnN0YW5jZW9mIEJvb2xlYW4pXHJcblx0XHRcdFx0cmV0dXJuIHggPyAnLnRydWUuJyA6ICcuZmFsc2UuJ1xyXG5cclxuXHRcdFx0aWYgKHggaW5zdGFuY2VvZiBOdW1iZXIpXHJcblx0XHRcdFx0cmV0dXJuIHgudG9TdHJpbmcoKVxyXG5cclxuXHRcdFx0IyAtLS0gQ2hlY2sgaWYgb2JqZWN0IHdhcyBwcmV2aW91c2x5IHZpc2l0ZWRcclxuXHRcdFx0cHJldnBhdGggOj0gbWFwVmlzaXRlZC5nZXQgeFxyXG5cdFx0XHRpZiBwcmV2cGF0aFxyXG5cdFx0XHRcdHJldHVybiBcIi5SRUYgI3twcmV2cGF0aH0uXCJcclxuXHJcblx0XHRcdCMgLS0tIGEgdXRpbGl0eSBmdW5jdGlvbiAtLS1cclxuXHJcblx0XHRcdHNob3VsZFNwbGl0IDo9ICh2OiB1bmtub3duKTogYm9vbGVhbiA9PlxyXG5cdFx0XHRcdHJldHVybiAoXHJcblx0XHRcdFx0XHRcdCh0eXBlb2YgdiA9PSAnb2JqZWN0JylcclxuXHRcdFx0XHRcdCYmICh2ICE9IG51bGwpXHJcblx0XHRcdFx0XHQmJiBub3QgKHYgaW5zdGFuY2VvZiBTdHJpbmcpXHJcblx0XHRcdFx0XHQmJiBub3QgKHYgaW5zdGFuY2VvZiBOdW1iZXIpXHJcblx0XHRcdFx0XHQmJiBub3QgKHYgaW5zdGFuY2VvZiBCb29sZWFuKVxyXG5cdFx0XHRcdFx0JiYgbm9uRW1wdHkodilcclxuXHRcdFx0XHRcdCYmIG5vdCBtYXBWaXNpdGVkLmhhcyh2KVxyXG5cdFx0XHRcdFx0KVxyXG5cclxuXHRcdFx0aWYgaXNBcnJheSh4KVxyXG5cdFx0XHRcdGlmICh4Lmxlbmd0aCA9PSAwKVxyXG5cdFx0XHRcdFx0cmV0dXJuICcuW10uJ1xyXG5cdFx0XHRcdGxMaW5lcyA6PSBbXVxyXG5cdFx0XHRcdGZvciB2YWwsaSBvZiB4XHJcblx0XHRcdFx0XHRkb1NwbGl0IDo9IHNob3VsZFNwbGl0KHZhbClcclxuXHRcdFx0XHRcdGJsb2NrIDo9IHRvTmljZShcclxuXHRcdFx0XHRcdFx0XHR2YWwsXHJcblx0XHRcdFx0XHRcdFx0aE9wdGlvbnMsXHJcblx0XHRcdFx0XHRcdFx0bWFwVmlzaXRlZCxcclxuXHRcdFx0XHRcdFx0XHRwYXRoYWRkKHBhdGgsIGkpXHJcblx0XHRcdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0aWYgZG9TcGxpdFxyXG5cdFx0XHRcdFx0XHRsTGluZXMucHVzaCAnLSdcclxuXHRcdFx0XHRcdFx0bExpbmVzLnB1c2ggaW5kZW50ZWQoYmxvY2ssIDEsIHtvbmVJbmRlbnQ6ICcgICAnfSlcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0bExpbmVzLnB1c2ggXCItICN7YmxvY2t9XCJcclxuXHRcdFx0XHRyZXR1cm4gdG9CbG9jayhsTGluZXMpXHJcblxyXG5cdFx0XHQjIC0tLSBBZGQgdG8gdmlzaXRlZCBtYXBcclxuXHRcdFx0bWFwVmlzaXRlZC5zZXQgeCwgcGF0aFxyXG5cclxuXHRcdFx0bEtleXMgOj0gT2JqZWN0LmtleXMoeClcclxuXHRcdFx0aWYgKGxLZXlzLmxlbmd0aCA9PSAwKVxyXG5cdFx0XHRcdHJldHVybiAnLnt9LidcclxuXHJcblx0XHRcdGZ1bmM6IFRDb21wYXJlRnVuYz8gOj0gKFxyXG5cdFx0XHRcdCAgZGVmaW5lZChzb3J0RnVuYykgPyBzb3J0RnVuY1xyXG5cdFx0XHRcdDogZGVmaW5lZChsSW5jbHVkZSkgPyBnZXRDb21wYXJlRnVuYyhsSW5jbHVkZSlcclxuXHRcdFx0XHQ6IHNvcnRLZXlzICAgICAgICAgID8gYWxwaGFDb21wYXJlXHJcblx0XHRcdFx0OiAgICAgICAgICAgICAgICAgICAgIHVuZGVmXHJcblx0XHRcdFx0KVxyXG5cclxuXHRcdFx0dXNlS2V5IDo9IChrZXk6IHVua25vd24pOiBib29sZWFuID0+XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBrZXkgIT0gJ3N0cmluZycpXHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0XHRpZiBkZWZpbmVkKGxFeGNsdWRlKSAmJiBsRXhjbHVkZS5pbmNsdWRlcyhrZXkpXHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0XHRpZiBkZWZpbmVkKGxJbmNsdWRlKSAmJiBub3QgbEluY2x1ZGUuaW5jbHVkZXMoa2V5KVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblx0XHRcdGxMaW5lcyA6PSBbXVxyXG5cdFx0XHRmb3Iga2V5IG9mIChkZWZpbmVkKGZ1bmMpID8gbEtleXMuc29ydChmdW5jKSA6IGxLZXlzKVxyXG5cdFx0XHRcdGlmIHVzZUtleShrZXkpXHJcblx0XHRcdFx0XHR2YWwgOj0gbWFwRnVuYyhrZXksICh4IGFzIGhhc2hvZjx1bmtub3duPilba2V5XSlcclxuXHRcdFx0XHRcdGlmIG5vdCBpZ25vcmVFbXB0eUtleXMgfHwgbm90IGlzRW1wdHkodmFsKVxyXG5cdFx0XHRcdFx0XHRkb1NwbGl0IDo9IHNob3VsZFNwbGl0KHZhbClcclxuXHRcdFx0XHRcdFx0YmxvY2sgOj0gdG9OaWNlKFxyXG5cdFx0XHRcdFx0XHRcdFx0dmFsLFxyXG5cdFx0XHRcdFx0XHRcdFx0aE9wdGlvbnMsXHJcblx0XHRcdFx0XHRcdFx0XHRtYXBWaXNpdGVkLFxyXG5cdFx0XHRcdFx0XHRcdFx0cGF0aGFkZChwYXRoLCBrZXkpXHJcblx0XHRcdFx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRcdGlmIGRvU3BsaXRcclxuXHRcdFx0XHRcdFx0XHRsTGluZXMucHVzaCBcIiN7a2V5fTpcIlxyXG5cdFx0XHRcdFx0XHRcdGxMaW5lcy5wdXNoIGluZGVudGVkKGJsb2NrLCAxLCB7b25lSW5kZW50OiAnICAgJ30pXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRsTGluZXMucHVzaCBcIiN7a2V5fTogI3tibG9ja31cIlxyXG5cdFx0XHRyZXR1cm4gdG9CbG9jayhsTGluZXMpXHJcblxyXG5cdHJldHVybiBcIjxVbmtub3duIG9iamVjdCAje09MKHgpfT5cIlxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZXhwb3J0IG5pY2VTcGxpdHRlcjogVFRva2VuR2VuZXJhdG9yIDo9IChcclxuXHRcdHN0cjogc3RyaW5nXHJcblx0XHQpIC0+XHJcblx0aWYgbGV0IGxNYXRjaGVzID0gc3RyLm1hdGNoKC8vL15cclxuXHRcdFx0LVxyXG5cdFx0XHQoLiopXHJcblx0XHRcdCQvLy8pXHJcblx0XHR0YWlsIDo9IGxNYXRjaGVzWzFdLnRyaW0oKVxyXG5cdFx0aWYgdGFpbFxyXG5cdFx0XHR5aWVsZCB7XHJcblx0XHRcdFx0a2luZDogJ2xpc3QtaXRlbSdcclxuXHRcdFx0XHRzdHJcclxuXHRcdFx0XHR2YWx1ZTogZ2V0UHJpbWl0aXZlKHRhaWwpXHJcblx0XHRcdFx0fVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR5aWVsZCB7XHJcblx0XHRcdFx0a2luZDogJ2xpc3QtaGVhZCdcclxuXHRcdFx0XHRuYW1lOiBzdHJcclxuXHRcdFx0XHRzdHI6ICcnXHJcblx0XHRcdFx0fVxyXG5cdGVsc2UgaWYgbGV0IGxNYXRjaGVzID0gc3RyLm1hdGNoKC8vL15cclxuXHRcdFx0KFtBLVphLXpdW0EtWmEtejAtOV9dKilcclxuXHRcdFx0OlxyXG5cdFx0XHQoLiopXHJcblx0XHRcdCQvLy8pXHJcblx0XHRuYW1lIDo9IGxNYXRjaGVzWzFdXHJcblx0XHR0YWlsIDo9IGxNYXRjaGVzWzJdLnRyaW0oKVxyXG5cdFx0aWYgdGFpbFxyXG5cdFx0XHR5aWVsZCB7XHJcblx0XHRcdFx0a2luZDogJ2hhc2gtaXRlbSdcclxuXHRcdFx0XHRzdHJcclxuXHRcdFx0XHRuYW1lXHJcblx0XHRcdFx0dmFsdWU6IGdldFByaW1pdGl2ZSh0YWlsKVxyXG5cdFx0XHRcdH1cclxuXHRcdGVsc2VcclxuXHRcdFx0eWllbGQge1xyXG5cdFx0XHRcdGtpbmQ6ICdoYXNoLWhlYWQnXHJcblx0XHRcdFx0bmFtZVxyXG5cdFx0XHRcdHN0clxyXG5cdFx0XHRcdH1cclxuXHRlbHNlXHJcblx0XHR5aWVsZCB7XHJcblx0XHRcdGtpbmQ6ICdwcmltaXRpdmUnXHJcblx0XHRcdHN0clxyXG5cdFx0XHR2YWx1ZTogZ2V0UHJpbWl0aXZlKHN0cilcclxuXHRcdFx0fVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmV4cG9ydCBhbGxOaWNlVG9rZW5zIDo9IChcclxuXHRcdGJsb2NrOiBzdHJpbmcsXHJcblx0XHQpOiBHZW5lcmF0b3I8VFBMTFRva2VuLCB2b2lkLCB2b2lkPiAtPlxyXG5cclxuXHRmb3IgaCBvZiBhbGxUb2tlbnNJbkJsb2NrKGJsb2NrLCBuaWNlU3BsaXR0ZXIpXHJcblx0XHR5aWVsZCBoXHJcblx0cmV0dXJuXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZXhwb3J0IGZyb21OaWNlIDo9IChcclxuXHRcdHN0cjogc3RyaW5nLFxyXG5cdFx0KTogdW5rbm93biA9PlxyXG5cclxuXHQjIC0tLSBDcmVhdGUgYSBGZXRjaGVyLCB0aGVuIHVzZVxyXG5cdCMgICAgIHJlY3Vyc2l2ZSBkZXNjZW50IHBhcnNpbmdcclxuXHJcblx0ZmV0Y2hlciA6PSBuZXcgRmV0Y2hlcjxUUExMVG9rZW4+KGFsbE5pY2VUb2tlbnMoc3RyKSwgdGtFT0YpXHJcblxyXG5cdHBhcnNlT2JqIDo9ICgpOiB1bmtub3duID0+XHJcblx0XHR7a2luZCwgc3RyfSA6PSBmZXRjaGVyLnBlZWsoKVxyXG5cdFx0c3dpdGNoIGtpbmRcclxuXHRcdFx0J2xpc3QtaXRlbScsICdsaXN0LWhlYWQnXHJcblx0XHRcdFx0cmV0dXJuIHBhcnNlTGlzdCgpXHJcblx0XHRcdCdoYXNoLWl0ZW0nLCAnaGFzaC1oZWFkJ1xyXG5cdFx0XHRcdHJldHVybiBwYXJzZUhhc2goKVxyXG5cdFx0XHQnZW9mJ1xyXG5cdFx0XHRcdHJldHVybiB1bmRlZlxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0ZmV0Y2hlci5za2lwKClcclxuXHRcdFx0XHRpZiBkZWZpbmVkKHN0cilcclxuXHRcdFx0XHRcdHJldHVybiBnZXRQcmltaXRpdmUoc3RyKVxyXG5cclxuXHRwYXJzZUxpc3QgOj0gKCk6IHVua25vd25bXSA9PlxyXG5cdFx0bEl0ZW1zOiB1bmtub3duW10gOj0gW11cclxuXHRcdGxldCB7a2luZH0gPSBmZXRjaGVyLnBlZWsoKVxyXG5cdFx0d2hpbGUgWydsaXN0LWl0ZW0nLCAnbGlzdC1oZWFkJ10uaW5jbHVkZXMga2luZFxyXG5cdFx0XHRpZiAoa2luZCA9PSAnbGlzdC1oZWFkJylcclxuXHRcdFx0XHRsSXRlbXMucHVzaCBwYXJzZUxpc3ROZXN0KClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGxJdGVtcy5wdXNoIGZldGNoZXIuZ2V0KCkudmFsdWVcclxuXHRcdFx0a2luZCA9IGZldGNoZXIucGVlaygpLmtpbmRcclxuXHRcdHJldHVybiBsSXRlbXNcclxuXHJcblx0cGFyc2VMaXN0TmVzdCA6PSAoKTogdW5rbm93bltdID0+XHJcblx0XHRmZXRjaGVyLmdldCh7a2luZDogJ2xpc3QtaGVhZCcsIHN0cjogJyd9KVxyXG5cdFx0ZmV0Y2hlci5nZXQoe2tpbmQ6ICdpbmRlbnQnLCBzdHI6ICcnfSlcclxuXHRcdHZhbHVlIDo9IHBhcnNlT2JqKClcclxuXHRcdGZldGNoZXIuZ2V0KHtraW5kOiAndW5kZW50Jywgc3RyOiAnJ30pXHJcblx0XHRyZXR1cm4gW3ZhbHVlXVxyXG5cclxuXHRwYXJzZUhhc2ggOj0gKCk6IGhhc2ggPT5cclxuXHRcdGhJdGVtczogaGFzaCA6PSB7fVxyXG5cdFx0bGV0IHtraW5kLCBuYW1lfSA9IGZldGNoZXIucGVlaygpXHJcblx0XHRpZiAoa2luZCA9PSAnaGFzaC1oZWFkJylcclxuXHRcdFx0ZmV0Y2hlci5za2lwKClcclxuXHRcdFx0ZmV0Y2hlci5nZXQoe2tpbmQ6ICdpbmRlbnQnLCBzdHI6ICcnfSlcclxuXHRcdFx0dmFsdWUgOj0gcGFyc2VPYmooKVxyXG5cdFx0XHRpZiBkZWZpbmVkKG5hbWUpXHJcblx0XHRcdFx0aEl0ZW1zW25hbWVdID0gdmFsdWVcclxuXHRcdFx0ZmV0Y2hlci5nZXQoe2tpbmQ6ICd1bmRlbnQnLCBzdHI6ICcnfSlcclxuXHRcdGVsc2VcclxuXHRcdFx0d2hpbGUgKGtpbmQgPT0gJ2hhc2gtaXRlbScpXHJcblx0XHRcdFx0e25hbWUsIHZhbHVlfSA6PSBmZXRjaGVyLmdldCgpXHJcblx0XHRcdFx0aWYgZGVmaW5lZChuYW1lKVxyXG5cdFx0XHRcdFx0aEl0ZW1zW25hbWVdID0gdmFsdWVcclxuXHRcdFx0XHR7a2luZH0gPSBmZXRjaGVyLnBlZWsoKVxyXG5cdFx0cmV0dXJuIGhJdGVtc1xyXG5cclxuXHRkZWJ1Z2dlclxyXG5cdHJldHVybiBwYXJzZU9iaigpXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZXhwb3J0IGdldFByaW1pdGl2ZSA6PSAoXHJcblx0XHRzdHI6IHN0cmluZyxcclxuXHRcdCk6IHVua25vd24gPT5cclxuXHJcblx0c3RyID0gc3RyLnRyaW0oKVxyXG5cdGlmIGxNYXRjaGVzIDo9IHN0ci5tYXRjaCgvXlxcLiguKilcXC4kLylcclxuXHRcdHMgOj0gbE1hdGNoZXNbMV0udHJpbSgpXHJcblx0XHRzd2l0Y2ggc1xyXG5cdFx0XHQndW5kZWYnICAgICAgIHRoZW4gcmV0dXJuIHVuZGVmXHJcblx0XHRcdCdudWxsJyAgICAgICAgdGhlbiByZXR1cm4gbnVsbFxyXG5cdFx0XHQndHJ1ZScgICAgICAgIHRoZW4gcmV0dXJuIHRydWVcclxuXHRcdFx0J2ZhbHNlJyAgICAgICB0aGVuIHJldHVybiBmYWxzZVxyXG5cdFx0XHQnTmFOJyAgICAgICAgIHRoZW4gcmV0dXJuIE5hTlxyXG5cdFx0XHQnaW5maW5pdHknICAgIHRoZW4gcmV0dXJuIEluZmluaXR5XHJcblx0XHRcdCduZWdpbmZpbml0eScgdGhlbiByZXR1cm4gLUluZmluaXR5XHJcblx0XHRcdCdzeW1ib2wnICAgICAgdGhlbiByZXR1cm4gU3ltYm9sKClcclxuXHRcdFx0J1tdJyAgICAgICAgICB0aGVuIHJldHVybiBbXVxyXG5cdFx0XHQne30nICAgICAgICAgIHRoZW4gcmV0dXJuIHt9XHJcblx0XHRcdC9ec3ltYm9sXFxzKyguKykkL1xyXG5cdFx0XHRcdGxNYXRjaGVzIDo9IHMubWF0Y2goL15zeW1ib2xcXHMrKC4rKSQvKVxyXG5cdFx0XHRcdGlmIGRlZmluZWQobE1hdGNoZXMpXHJcblx0XHRcdFx0XHRuYW1lIDo9IGxNYXRjaGVzWzFdXHJcblx0XHRcdFx0XHRyZXR1cm4gU3ltYm9sKG5hbWUpXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cmV0dXJuIFN5bWJvbCgpXHJcblx0XHRcdC9ecmVnZXhwXFxzKyguKykkL1xyXG5cdFx0XHRcdGxNYXRjaGVzIDo9IHMubWF0Y2goL15yZWdleHBcXHMrKC4rKSQvKVxyXG5cdFx0XHRcdGlmIGRlZmluZWQobE1hdGNoZXMpXHJcblx0XHRcdFx0XHRuYW1lIDo9IGxNYXRjaGVzWzFdXHJcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFJlZ0V4cChuYW1lKVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHJldHVybiBuZXcgUmVnRXhwKCdeJCcpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRjcm9hayBcIk5vdCBJbXBsZW1lbnRlZFwiXHJcblx0ZWxzZSBpZiBzdHIubWF0Y2goL15cXGQrJC8pXHJcblx0XHRyZXR1cm4gcGFyc2VJbnQoc3RyLCAxMClcclxuXHRlbHNlIGlmIHN0ci5tYXRjaCgvXlxcZCtcXC5cXGQqJC8pXHJcblx0XHRyZXR1cm4gcGFyc2VGbG9hdChzdHIpXHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIHVuZXNjYXBlU3RyKHN0ciwgbydwdXJwb3NlPUMnKVxyXG4iXX0=