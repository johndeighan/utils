"use strict";
// fs.test.civet

import {defined, hasKey} from '@jdeighan/utils'
import {
	isFile, isDir, fileExt, withExt,
	rmFile, getPathType, getStats, parsePath,
	allFilesMatching, allLinesIn, watchFile, watchDir,
	normalizePath, mkpath, relpath, newerDestFileExists,
	pathSubDirs, clearDir, mkDir, mkDirsForFile,
	slurp, barf,
	} from '@jdeighan/utils/fs'
import {
	equal, truthy, falsy, like, listLike,
	} from '@jdeighan/utils/unit-test'
import type {hash, optionspec} from '@jdeighan/utils/datatypes'


// ---------------------------------------------------------------------------

// --- isFile()
truthy(isFile('./deno.jsonc'))
truthy(isFile('deno.jsonc'))
falsy(isFile('./src/lib/notafile.txt'))
truthy(isFile("./test/fs/dummy.txt"))
falsy( isFile("./test/fs"))

// --- isDir()
truthy(isDir('test'))
falsy(isDir('nosuchdir'))
truthy(isDir("./test/fs"))
falsy( isDir("./test/fs/dummy.txt"))

// --- fileExt()
equal(fileExt('C:/Users/johnd/utils/deno.jsonc'), '.jsonc')
equal(fileExt("C:/temp/file.txt"), ".txt")
equal(fileExt("c:\\temp/to/file.txt"), ".txt")
equal(fileExt("c:\\temp/to/file.flag.txt"), ".txt")

// --- withExt()
equal(withExt('deno.jsonc', '.txt'), 'deno.txt')
equal(withExt("C:/temp/file.txt", ".js"), "C:/temp/file.js")
equal(withExt("c:\\temp/to/file.txt", ".js"), "c:\\temp/to/file.js")
equal(withExt("c:\\temp/to/file.flag.txt", ".js"), "c:\\temp/to/file.flag.js")

// --- rmFile()
//     no unit tests yet

// --- getPathType()
equal(getPathType("./test"), 'dir')
equal(getPathType("./test/llutils.test.civet"), 'file')
equal(getPathType("C:/temp/file.txt"), 'missing')

// --- getStats(path)
truthy(hasKey(getStats("deno.jsonc"), 'mtimeMs'))

// --- parsePath()
like( parsePath("C:/temp/file.txt"), {
	type: 'missing',
	path: "C:/temp/file.txt",
	root: 'C:/',
	dir: 'C:/temp',
	fileName: 'file.txt',
	stub: 'file',
	purpose: undefined,
	ext: '.txt',
	relPath: "../../../temp/file.txt",
	relDir: "../../../temp"
	})

like(parsePath(import.meta.url), {
	type: 'file',
	fileName: 'fs.test.ts',
	stub: 'fs',
	purpose: 'test',
	ext: '.ts',
	relPath: 'test/fs.test.ts',
	relDir: 'test'
	})

// --- allFilesMatching()
listLike(Array.from(allFilesMatching('**/test/llutils/file*.txt')), [
	{
		type: 'file',
		root: 'C:/',
		fileName: 'file1.txt',
		stub: 'file1',
		ext: '.txt',
		relPath: 'test/llutils/file1.txt'
		},
	{
		type: 'file',
		root: 'C:/',
		fileName: 'file2.txt',
		stub: 'file2',
		ext: '.txt',
		relPath: 'test/llutils/file2.txt'
		},
	{
		type: 'file',
		root: 'C:/',
		fileName: 'file3.flags.txt',
		stub: 'file3',
		purpose: 'flags',
		ext: '.txt',
		relPath: 'test/llutils/file3.flags.txt'
		}
	])

// --- allFilesMatching()
listLike(Array.from(allFilesMatching('**/test/llutils/**', 'includeDirs')), [
	{
		type: 'dir',
		fileName: 'llutils',
		},
	{
		type: 'file',
		fileName: 'barfed.txt',
		},
	{
		type: 'file',
		fileName: 'file1.txt',
		},
	{
		type: 'file',
		fileName: 'file2.txt',
		},
	{
		type: 'file',
		fileName: 'file3.flags.txt',
		},
	{
		type: 'dir',
		fileName: 'subdir',
		},
	{
		type: 'file',
		fileName: 'new.txt',
		}
	]);

// --- allFilesMatching()
(() => {
	const hOptions = {
		includeDirs: true,
		filter: (hFile: hash) => {
			if (hFile.type === 'dir') {
				return hFile.fileName !== 'llutils'
			}
			else if (hFile.type === 'file') {
				return defined(hFile.fileName.match(/^[a-z0-9]+\.txt$/))
			}
			else {
				return false
			}
		}
		}

	listLike(Array.from(allFilesMatching('**/test/llutils/**', hOptions)), [
		{
			type: 'file',
			fileName: 'barfed.txt',
			},
		{
			type: 'file',
			fileName: 'file1.txt',
			},
		{
			type: 'file',
			fileName: 'file2.txt',
			},
		{
			type: 'dir',
			fileName: 'subdir',
			},
		{
			type: 'file',
			fileName: 'new.txt',
			}
		])
}
	)()

// --- allLinesIn()
const lLines = []
for await (const line of allLinesIn('./test/llutils/file1.txt')) {
	lLines.push(line)
}

equal(lLines, [
	'line1',
	'line2',
	'line3'
	])

// --- watchFile()
//     no unit tests yet

// --- watchDir()
//     no unit tests yet

// --- normalizePath()
equal(normalizePath("C:/temp/file.txt"), "C:/temp/file.txt")
equal(normalizePath("C:\\temp/to/file.txt"), "C:/temp/to/file.txt")
equal(normalizePath("C:\\temp/to/file.flag.txt"), "C:/temp/to/file.flag.txt")
equal(normalizePath('C:\\Users\\johnd'), 'C:/Users/johnd')

// --- mkpath()
equal(mkpath("C:/temp/file.txt"), "C:/temp/file.txt")
equal(mkpath("C:/temp", "file.txt"), "C:/temp/file.txt")
equal(mkpath("C:\\temp/to/file.txt"), "C:/temp/to/file.txt")
equal(mkpath("C:\\temp/to/file.flag.txt"), "C:/temp/to/file.flag.txt")
equal(mkpath("C:/temp", "file.txt"), "C:/temp/file.txt")
equal(mkpath("C:\\temp/to", "file.txt"), "C:/temp/to/file.txt")
equal(mkpath("C:\\temp", "to/file.flag.txt"), "C:/temp/to/file.flag.txt")
equal(mkpath('c:\\', 'Users', 'johnd'), 'C:/Users/johnd')

// --- relpath(lParts...)
equal(relpath('C:/Users/johnd/utils/deno.jsonc'), 'deno.jsonc')

// --- newerDestFileExists(srcPath, destPath)
//     no unit tests yet

// --- pathSubDirs(path)
equal(pathSubDirs("C:/Users/johnd/llutils/deno.jsonc"), {
	root: "C:/",
	lParts: ['Users', 'johnd', 'llutils']
	})

// --- clearDir(dir)
//     no unit tests yet

// --- mkdir(dirPath, hOptions)
//     no unit tests yet

// --- mkDirsForFile(path)
//     no unit tests yet

// --- slurp(path)
equal(slurp('./test/llutils/file1.txt'), `line1
line2
line3\n`)

// --- barf(contents, path)
const contents = `abc

xyz`
const testpath = './test/llutils/barfed.txt'
barf(contents, testpath)
equal(slurp(testpath), `abc

xyz`)

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9mcy50ZXN0LmNpdmV0LnRzeCIsInNvdXJjZXMiOlsidGVzdC9mcy50ZXN0LmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsZ0JBQWU7QUFDZixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCO0FBQy9DLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQ2pDLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQzFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxRQUFRLENBQUM7QUFDbkQsQ0FBQyxhQUFhLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQztBQUNyRCxDQUFDLFdBQVcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLGFBQWEsQ0FBQztBQUM3QyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQztBQUNiLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0I7QUFDNUIsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUM7QUFDdEMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLDJCQUEyQjtBQUNuQyxBQUFBLEFBQUEsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLElBQUksQ0FBQywyQkFBMkI7QUFDL0QsQUFBQTtBQUNBLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3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LEFBQUEsQUFBQSxLQUFLLENBQUEsQUFBQyxLQUFLLENBQUMsMEJBQTBCLENBQUMsQ0FBQyxDQUFDLENBQUc7QUFDNUM7QUFDQSxPQUVDLENBQUcsQ0FBQTtBQUNKLEFBQUE7QUFDQSxBQUFBLDJCQUEwQjtBQUMxQixBQUFBLEFBQVEsTUFBUixRQUFRLENBQUMsQ0FBRSxDQUFDLENBQUc7QUFDZjtBQUNBLEdBRUMsQ0FBRztBQUNKLEFBQUEsQUFBUSxNQUFSLFFBQVEsQ0FBQyxDQUFFLENBQUMsMkJBQTJCO0FBQ3ZDLEFBQUEsQUFBQSxJQUFJLENBQUEsQUFBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUE7QUFDdkIsQUFBQSxBQUFBLEtBQUssQ0FBQSxBQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUc7QUFDMUI7QUFDQSxHQUVDLENBQUcsQ0FBQTtBQUNKIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIGZzLnRlc3QuY2l2ZXRcblxuaW1wb3J0IHtkZWZpbmVkLCBoYXNLZXl9IGZyb20gJ0BqZGVpZ2hhbi91dGlscydcbmltcG9ydCB7XG5cdGlzRmlsZSwgaXNEaXIsIGZpbGVFeHQsIHdpdGhFeHQsXG5cdHJtRmlsZSwgZ2V0UGF0aFR5cGUsIGdldFN0YXRzLCBwYXJzZVBhdGgsXG5cdGFsbEZpbGVzTWF0Y2hpbmcsIGFsbExpbmVzSW4sIHdhdGNoRmlsZSwgd2F0Y2hEaXIsXG5cdG5vcm1hbGl6ZVBhdGgsIG1rcGF0aCwgcmVscGF0aCwgbmV3ZXJEZXN0RmlsZUV4aXN0cyxcblx0cGF0aFN1YkRpcnMsIGNsZWFyRGlyLCBta0RpciwgbWtEaXJzRm9yRmlsZSxcblx0c2x1cnAsIGJhcmYsXG5cdH0gZnJvbSAnQGpkZWlnaGFuL3V0aWxzL2ZzJ1xuaW1wb3J0IHtcblx0ZXF1YWwsIHRydXRoeSwgZmFsc3ksIGxpa2UsIGxpc3RMaWtlLFxuXHR9IGZyb20gJ0BqZGVpZ2hhbi91dGlscy91bml0LXRlc3QnXG5pbXBvcnQgdHlwZSB7aGFzaCwgb3B0aW9uc3BlY30gZnJvbSAnQGpkZWlnaGFuL3V0aWxzL2RhdGF0eXBlcydcblxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4jIC0tLSBpc0ZpbGUoKVxudHJ1dGh5IGlzRmlsZSgnLi9kZW5vLmpzb25jJylcbnRydXRoeSBpc0ZpbGUoJ2Rlbm8uanNvbmMnKVxuZmFsc3kgaXNGaWxlKCcuL3NyYy9saWIvbm90YWZpbGUudHh0JylcbnRydXRoeSBpc0ZpbGUoXCIuL3Rlc3QvZnMvZHVtbXkudHh0XCIpXG5mYWxzeSAgaXNGaWxlKFwiLi90ZXN0L2ZzXCIpXG5cbiMgLS0tIGlzRGlyKClcbnRydXRoeSBpc0RpcigndGVzdCcpXG5mYWxzeSBpc0Rpcignbm9zdWNoZGlyJylcbnRydXRoeSBpc0RpcihcIi4vdGVzdC9mc1wiKVxuZmFsc3kgIGlzRGlyKFwiLi90ZXN0L2ZzL2R1bW15LnR4dFwiKVxuXG4jIC0tLSBmaWxlRXh0KClcbmVxdWFsIGZpbGVFeHQoJ0M6L1VzZXJzL2pvaG5kL3V0aWxzL2Rlbm8uanNvbmMnKSwgJy5qc29uYydcbmVxdWFsIGZpbGVFeHQoXCJDOi90ZW1wL2ZpbGUudHh0XCIpLCBcIi50eHRcIlxuZXF1YWwgZmlsZUV4dChcImM6XFxcXHRlbXAvdG8vZmlsZS50eHRcIiksIFwiLnR4dFwiXG5lcXVhbCBmaWxlRXh0KFwiYzpcXFxcdGVtcC90by9maWxlLmZsYWcudHh0XCIpLCBcIi50eHRcIlxuXG4jIC0tLSB3aXRoRXh0KClcbmVxdWFsIHdpdGhFeHQoJ2Rlbm8uanNvbmMnLCAnLnR4dCcpLCAnZGVuby50eHQnXG5lcXVhbCB3aXRoRXh0KFwiQzovdGVtcC9maWxlLnR4dFwiLCBcIi5qc1wiKSwgXCJDOi90ZW1wL2ZpbGUuanNcIlxuZXF1YWwgd2l0aEV4dChcImM6XFxcXHRlbXAvdG8vZmlsZS50eHRcIiwgXCIuanNcIiksIFwiYzpcXFxcdGVtcC90by9maWxlLmpzXCJcbmVxdWFsIHdpdGhFeHQoXCJjOlxcXFx0ZW1wL3RvL2ZpbGUuZmxhZy50eHRcIiwgXCIuanNcIiksIFwiYzpcXFxcdGVtcC90by9maWxlLmZsYWcuanNcIlxuXG4jIC0tLSBybUZpbGUoKVxuIyAgICAgbm8gdW5pdCB0ZXN0cyB5ZXRcblxuIyAtLS0gZ2V0UGF0aFR5cGUoKVxuZXF1YWwgZ2V0UGF0aFR5cGUoXCIuL3Rlc3RcIiksICdkaXInXG5lcXVhbCBnZXRQYXRoVHlwZShcIi4vdGVzdC9sbHV0aWxzLnRlc3QuY2l2ZXRcIiksICdmaWxlJ1xuZXF1YWwgZ2V0UGF0aFR5cGUoXCJDOi90ZW1wL2ZpbGUudHh0XCIpLCAnbWlzc2luZydcblxuIyAtLS0gZ2V0U3RhdHMocGF0aClcbnRydXRoeSBoYXNLZXkoZ2V0U3RhdHMoXCJkZW5vLmpzb25jXCIpLCAnbXRpbWVNcycpXG5cbiMgLS0tIHBhcnNlUGF0aCgpXG5saWtlICBwYXJzZVBhdGgoXCJDOi90ZW1wL2ZpbGUudHh0XCIpLCB7XG5cdHR5cGU6ICdtaXNzaW5nJ1xuXHRwYXRoOiBcIkM6L3RlbXAvZmlsZS50eHRcIlxuXHRyb290OiAnQzovJ1xuXHRkaXI6ICdDOi90ZW1wJ1xuXHRmaWxlTmFtZTogJ2ZpbGUudHh0J1xuXHRzdHViOiAnZmlsZSdcblx0cHVycG9zZTogdW5kZWZpbmVkXG5cdGV4dDogJy50eHQnXG5cdHJlbFBhdGg6IFwiLi4vLi4vLi4vdGVtcC9maWxlLnR4dFwiXG5cdHJlbERpcjogXCIuLi8uLi8uLi90ZW1wXCJcblx0fVxuXG5saWtlIHBhcnNlUGF0aChpbXBvcnQubWV0YS51cmwpLCB7XG5cdHR5cGU6ICdmaWxlJ1xuXHRmaWxlTmFtZTogJ2ZzLnRlc3QudHMnXG5cdHN0dWI6ICdmcydcblx0cHVycG9zZTogJ3Rlc3QnXG5cdGV4dDogJy50cydcblx0cmVsUGF0aDogJ3Rlc3QvZnMudGVzdC50cydcblx0cmVsRGlyOiAndGVzdCdcblx0fVxuXG4jIC0tLSBhbGxGaWxlc01hdGNoaW5nKClcbmxpc3RMaWtlIEFycmF5LmZyb20oYWxsRmlsZXNNYXRjaGluZygnKiovdGVzdC9sbHV0aWxzL2ZpbGUqLnR4dCcpKSwgW1xuXHR7XG5cdFx0dHlwZTogJ2ZpbGUnXG5cdFx0cm9vdDogJ0M6Lydcblx0XHRmaWxlTmFtZTogJ2ZpbGUxLnR4dCcsXG5cdFx0c3R1YjogJ2ZpbGUxJ1xuXHRcdGV4dDogJy50eHQnXG5cdFx0cmVsUGF0aDogJ3Rlc3QvbGx1dGlscy9maWxlMS50eHQnXG5cdFx0fVxuXHR7XG5cdFx0dHlwZTogJ2ZpbGUnXG5cdFx0cm9vdDogJ0M6Lydcblx0XHRmaWxlTmFtZTogJ2ZpbGUyLnR4dCcsXG5cdFx0c3R1YjogJ2ZpbGUyJ1xuXHRcdGV4dDogJy50eHQnXG5cdFx0cmVsUGF0aDogJ3Rlc3QvbGx1dGlscy9maWxlMi50eHQnXG5cdFx0fVxuXHR7XG5cdFx0dHlwZTogJ2ZpbGUnXG5cdFx0cm9vdDogJ0M6Lydcblx0XHRmaWxlTmFtZTogJ2ZpbGUzLmZsYWdzLnR4dCcsXG5cdFx0c3R1YjogJ2ZpbGUzJ1xuXHRcdHB1cnBvc2U6ICdmbGFncydcblx0XHRleHQ6ICcudHh0J1xuXHRcdHJlbFBhdGg6ICd0ZXN0L2xsdXRpbHMvZmlsZTMuZmxhZ3MudHh0J1xuXHRcdH1cblx0XVxuXG4jIC0tLSBhbGxGaWxlc01hdGNoaW5nKClcbmxpc3RMaWtlIEFycmF5LmZyb20oYWxsRmlsZXNNYXRjaGluZygnKiovdGVzdC9sbHV0aWxzLyoqJywgJ2luY2x1ZGVEaXJzJykpLCBbXG5cdHtcblx0XHR0eXBlOiAnZGlyJ1xuXHRcdGZpbGVOYW1lOiAnbGx1dGlscycsXG5cdFx0fVxuXHR7XG5cdFx0dHlwZTogJ2ZpbGUnXG5cdFx0ZmlsZU5hbWU6ICdiYXJmZWQudHh0Jyxcblx0XHR9XG5cdHtcblx0XHR0eXBlOiAnZmlsZSdcblx0XHRmaWxlTmFtZTogJ2ZpbGUxLnR4dCcsXG5cdFx0fVxuXHR7XG5cdFx0dHlwZTogJ2ZpbGUnXG5cdFx0ZmlsZU5hbWU6ICdmaWxlMi50eHQnLFxuXHRcdH1cblx0e1xuXHRcdHR5cGU6ICdmaWxlJ1xuXHRcdGZpbGVOYW1lOiAnZmlsZTMuZmxhZ3MudHh0Jyxcblx0XHR9XG5cdHtcblx0XHR0eXBlOiAnZGlyJ1xuXHRcdGZpbGVOYW1lOiAnc3ViZGlyJyxcblx0XHR9XG5cdHtcblx0XHR0eXBlOiAnZmlsZSdcblx0XHRmaWxlTmFtZTogJ25ldy50eHQnLFxuXHRcdH1cblx0XVxuXG4jIC0tLSBhbGxGaWxlc01hdGNoaW5nKClcbigoKSA9PlxuXHRoT3B0aW9ucyA6PSB7XG5cdFx0aW5jbHVkZURpcnM6IHRydWVcblx0XHRmaWx0ZXI6IChoRmlsZTogaGFzaCkgPT5cblx0XHRcdGlmIChoRmlsZS50eXBlID09ICdkaXInKVxuXHRcdFx0XHRyZXR1cm4gaEZpbGUuZmlsZU5hbWUgIT0gJ2xsdXRpbHMnXG5cdFx0XHRlbHNlIGlmIChoRmlsZS50eXBlID09ICdmaWxlJylcblx0XHRcdFx0cmV0dXJuIGRlZmluZWQoaEZpbGUuZmlsZU5hbWUubWF0Y2goL15bYS16MC05XStcXC50eHQkLykpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdHJldHVybiBmYWxzZVxuXHRcdH1cblxuXHRsaXN0TGlrZSBBcnJheS5mcm9tKGFsbEZpbGVzTWF0Y2hpbmcoJyoqL3Rlc3QvbGx1dGlscy8qKicsIGhPcHRpb25zKSksIFtcblx0XHR7XG5cdFx0XHR0eXBlOiAnZmlsZSdcblx0XHRcdGZpbGVOYW1lOiAnYmFyZmVkLnR4dCcsXG5cdFx0XHR9XG5cdFx0e1xuXHRcdFx0dHlwZTogJ2ZpbGUnXG5cdFx0XHRmaWxlTmFtZTogJ2ZpbGUxLnR4dCcsXG5cdFx0XHR9XG5cdFx0e1xuXHRcdFx0dHlwZTogJ2ZpbGUnXG5cdFx0XHRmaWxlTmFtZTogJ2ZpbGUyLnR4dCcsXG5cdFx0XHR9XG5cdFx0e1xuXHRcdFx0dHlwZTogJ2Rpcidcblx0XHRcdGZpbGVOYW1lOiAnc3ViZGlyJyxcblx0XHRcdH1cblx0XHR7XG5cdFx0XHR0eXBlOiAnZmlsZSdcblx0XHRcdGZpbGVOYW1lOiAnbmV3LnR4dCcsXG5cdFx0XHR9XG5cdFx0XVxuXHQpKClcblxuIyAtLS0gYWxsTGluZXNJbigpXG5sTGluZXMgOj0gW11cbmZvciBhd2FpdCBsaW5lIG9mIGFsbExpbmVzSW4oJy4vdGVzdC9sbHV0aWxzL2ZpbGUxLnR4dCcpXG5cdGxMaW5lcy5wdXNoIGxpbmVcblxuZXF1YWwgbExpbmVzLCBbXG5cdCdsaW5lMSdcblx0J2xpbmUyJ1xuXHQnbGluZTMnXG5cdF1cblxuIyAtLS0gd2F0Y2hGaWxlKClcbiMgICAgIG5vIHVuaXQgdGVzdHMgeWV0XG5cbiMgLS0tIHdhdGNoRGlyKClcbiMgICAgIG5vIHVuaXQgdGVzdHMgeWV0XG5cbiMgLS0tIG5vcm1hbGl6ZVBhdGgoKVxuZXF1YWwgbm9ybWFsaXplUGF0aChcIkM6L3RlbXAvZmlsZS50eHRcIiksIFwiQzovdGVtcC9maWxlLnR4dFwiXG5lcXVhbCBub3JtYWxpemVQYXRoKFwiQzpcXFxcdGVtcC90by9maWxlLnR4dFwiKSwgXCJDOi90ZW1wL3RvL2ZpbGUudHh0XCJcbmVxdWFsIG5vcm1hbGl6ZVBhdGgoXCJDOlxcXFx0ZW1wL3RvL2ZpbGUuZmxhZy50eHRcIiksIFwiQzovdGVtcC90by9maWxlLmZsYWcudHh0XCJcbmVxdWFsIG5vcm1hbGl6ZVBhdGgoJ0M6XFxcXFVzZXJzXFxcXGpvaG5kJyksICdDOi9Vc2Vycy9qb2huZCdcblxuIyAtLS0gbWtwYXRoKClcbmVxdWFsIG1rcGF0aChcIkM6L3RlbXAvZmlsZS50eHRcIiksIFwiQzovdGVtcC9maWxlLnR4dFwiXG5lcXVhbCBta3BhdGgoXCJDOi90ZW1wXCIsIFwiZmlsZS50eHRcIiksIFwiQzovdGVtcC9maWxlLnR4dFwiXG5lcXVhbCBta3BhdGgoXCJDOlxcXFx0ZW1wL3RvL2ZpbGUudHh0XCIpLCBcIkM6L3RlbXAvdG8vZmlsZS50eHRcIlxuZXF1YWwgbWtwYXRoKFwiQzpcXFxcdGVtcC90by9maWxlLmZsYWcudHh0XCIpLCBcIkM6L3RlbXAvdG8vZmlsZS5mbGFnLnR4dFwiXG5lcXVhbCBta3BhdGgoXCJDOi90ZW1wXCIsIFwiZmlsZS50eHRcIiksIFwiQzovdGVtcC9maWxlLnR4dFwiXG5lcXVhbCBta3BhdGgoXCJDOlxcXFx0ZW1wL3RvXCIsIFwiZmlsZS50eHRcIiksIFwiQzovdGVtcC90by9maWxlLnR4dFwiXG5lcXVhbCBta3BhdGgoXCJDOlxcXFx0ZW1wXCIsIFwidG8vZmlsZS5mbGFnLnR4dFwiKSwgXCJDOi90ZW1wL3RvL2ZpbGUuZmxhZy50eHRcIlxuZXF1YWwgbWtwYXRoKCdjOlxcXFwnLCAnVXNlcnMnLCAnam9obmQnKSwgJ0M6L1VzZXJzL2pvaG5kJ1xuXG4jIC0tLSByZWxwYXRoKGxQYXJ0cy4uLilcbmVxdWFsIHJlbHBhdGgoJ0M6L1VzZXJzL2pvaG5kL3V0aWxzL2Rlbm8uanNvbmMnKSwgJ2Rlbm8uanNvbmMnXG5cbiMgLS0tIG5ld2VyRGVzdEZpbGVFeGlzdHMoc3JjUGF0aCwgZGVzdFBhdGgpXG4jICAgICBubyB1bml0IHRlc3RzIHlldFxuXG4jIC0tLSBwYXRoU3ViRGlycyhwYXRoKVxuZXF1YWwgcGF0aFN1YkRpcnMoXCJDOi9Vc2Vycy9qb2huZC9sbHV0aWxzL2Rlbm8uanNvbmNcIiksIHtcblx0cm9vdDogXCJDOi9cIlxuXHRsUGFydHM6IFsnVXNlcnMnLCAnam9obmQnLCAnbGx1dGlscyddXG5cdH1cblxuIyAtLS0gY2xlYXJEaXIoZGlyKVxuIyAgICAgbm8gdW5pdCB0ZXN0cyB5ZXRcblxuIyAtLS0gbWtkaXIoZGlyUGF0aCwgaE9wdGlvbnMpXG4jICAgICBubyB1bml0IHRlc3RzIHlldFxuXG4jIC0tLSBta0RpcnNGb3JGaWxlKHBhdGgpXG4jICAgICBubyB1bml0IHRlc3RzIHlldFxuXG4jIC0tLSBzbHVycChwYXRoKVxuZXF1YWwgc2x1cnAoJy4vdGVzdC9sbHV0aWxzL2ZpbGUxLnR4dCcpLCBcIlwiXCJcblx0bGluZTFcblx0bGluZTJcblx0bGluZTNcXG5cblx0XCJcIlwiXG5cbiMgLS0tIGJhcmYoY29udGVudHMsIHBhdGgpXG5jb250ZW50cyA6PSBcIlwiXCJcblx0YWJjXG5cblx0eHl6XG5cdFwiXCJcIlxudGVzdHBhdGggOj0gJy4vdGVzdC9sbHV0aWxzL2JhcmZlZC50eHQnXG5iYXJmIGNvbnRlbnRzLCB0ZXN0cGF0aFxuZXF1YWwgc2x1cnAodGVzdHBhdGgpLCBcIlwiXCJcblx0YWJjXG5cblx0eHl6XG5cdFwiXCJcIlxuIl19