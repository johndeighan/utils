"use strict";
// v8-stack.lib.test.civet

import {
	undef, defined, notdefined, o, assert, croak, sleep,
	DBG, relpath, getCmdArgs, execCmd, execCmdSync, setDirTree,
	} from '../src/lib/utils.lib.ts'
import {
	stackFrame, getV8Stack, getMyCaller,
	getMyOutsideCaller, getV8StackStr,
	} from '../src/lib/v8-stack.lib.ts'
import {
	equal, like, succeeds, isType, notType,
	} from '../src/lib/unit-test.lib.ts'

const hArgs = getCmdArgs()

// ---------------------------------------------------------------------------

const setup = (): void => {

	DBG("setDirTree()")

	setDirTree('test/v8-stack', `v8-module.ts
	"use strict";
	// v8-module.civet

	import {getMyCaller, stackFrame} from '../../src/lib/v8-stack.lib.ts'

	// ---------------------------------------------------------------------------

	type bothFrames = ((stackFrame | undefined))[]

	const isBothFrames = (x: any): x is bothFrames => {
		return Array.isArray(x) && (x.length === 2)
	}

	// ---------------------------------------------------------------------------

	export const getBoth = function(): bothFrames {

		const result = secondFunc('both')
		if (Array.isArray(result)) {
			return result
		}
		else {
			throw new Error("Expected array, got stackFrame")
		}
	}

	// ---------------------------------------------------------------------------

	export const getDirect = function(): (stackFrame | undefined) {

		const result = secondFunc('direct')
		if (Array.isArray(result)) {
			throw new Error("Got unexpected array")
		}
		return result
	}

	// ---------------------------------------------------------------------------

	export const getOutside = function(): (stackFrame | undefined) {

		const result = secondFunc('outside')
		if (Array.isArray(result)) {
			throw new Error("Got unexpected array")
		}
		return result
	}

	// ---------------------------------------------------------------------------

	const secondFunc = function(type: string): bothFrames | (stackFrame | undefined) {

		return thirdFunc(type)
	}

	// ---------------------------------------------------------------------------

	const thirdFunc = function(type: string): bothFrames | (stackFrame | undefined) {

		// --- direct caller should be 'secondFunc'
		//     outside caller should be the function
		//        that called getCaller()
		switch(type) {
			case 'both': {
				return [getMyCaller(), getMyCaller()]
			}
			case 'direct': {
				return getMyCaller()
			}
			case 'outside': {
				return getMyCaller()
			}
			default: {
				throw new Error(\`Unknown type: \${type}\`)
			}
		}
	}`, o`clear`)

	return
}

setup()

// ---------------------------------------------------------------------------

DBG("type stackFrame")

isType('stackFrame', {
	type: 'function',
	source: 'temp.civet',
	line: 5,
	column: 5,
	name: 'func',
	isConstructor: false,
	isAsync: false,
	objType: undefined
	})

DBG("getV8Stack()");

(function() {
	let stack1: stackFrame[] = []
	let stack2: stackFrame[] = []

	const main = () => {
		func1()
		func2()
	}

	const func1 = function() {
		stack1 = getV8Stack()
		return
	}

	const func2 = function() {
		stack2 = getV8Stack()
		return
	}

	main()
	like(stack1, [
		{
			type: 'function',
			name: 'func1',
			source: 'test/v8-stack.lib.test.civet',
			line: 134
			},
		{
			type: 'function',
			name: 'main',
			source: 'test/v8-stack.lib.test.civet',
			line: 130
			},
		{
			type: 'function',
			name: '<anon>',
			source: 'test/v8-stack.lib.test.civet',
			line: 141
			},
		{
			type: 'script',
			source: 'test/v8-stack.lib.test.civet',
			line: 193
			}
		])

	like(stack2, [
		{
			type: 'function',
			name: 'func2',
			source: 'test/v8-stack.lib.test.civet',
			line: 138
			},
		{
			type: 'function',
			name: 'main',
			source: 'test/v8-stack.lib.test.civet',
			line: 131
			},
		{
			type: 'function',
			name: '<anon>',
			source: 'test/v8-stack.lib.test.civet',
			line: 141
			},
		{
			type: 'script',
			source: 'test/v8-stack.lib.test.civet',
			line: 193
			}
		])
}
	)()

// ---------------------------------------------------------------------------

DBG("getV8StackStr()");

(function() {
	let stack1: string = ''
	let stack2: string = ''

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		stack1 = getV8StackStr()
		return
	}

	const func2 = function() {
		stack2 = getV8StackStr()
		return
	}

	main()
	equal(stack1, `[function func1    ] test/v8-stack.lib.test.civet:208:11
[function main     ] test/v8-stack.lib.test.civet:204:2
[function <anon>   ] test/v8-stack.lib.test.civet:215:1
[script            ] test/v8-stack.lib.test.civet:229:2`)

	equal(stack2, `[function func2    ] test/v8-stack.lib.test.civet:212:11
[function main     ] test/v8-stack.lib.test.civet:205:2
[function <anon>   ] test/v8-stack.lib.test.civet:215:1
[script            ] test/v8-stack.lib.test.civet:229:2`)
}
	)()

// ---------------------------------------------------------------------------

DBG("getMyCaller()");

(function() {
	let caller1: (stackFrame | undefined) = undef
	let caller2: (stackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		caller1 = getMyCaller()
	}

	const func2 = function() {
		caller2 = getMyCaller()
		return
	}

	main()
	like(caller1, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.lib.test.civet'
		})
	like(caller2, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.lib.test.civet'
		})
}
	)();

// ---------------------------------------------------------------------------

(function() {
	let hCaller: (stackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		return
	}

	const func2 = function() {
		hCaller = getMyCaller()
		return
	}

	// ------------------------------------------------------------------------

	main()

	like(hCaller, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.lib.test.civet'
		})
}

	)();

// ---------------------------------------------------------------------------

(async function() {
	await execCmd('civet', [
		'--inline-map',
		'-o',
		'.ts',
		'-c',
		'test/v8-stack/v8-module.civet'
		])
	const {getBoth} = await import('./v8-stack/v8-module.ts')
	let lCallers1: ((stackFrame | undefined))[] = []
	let lCallers2: ((stackFrame | undefined))[] = []

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		lCallers1 = getBoth()
	}

	const func2 = function() {
		lCallers2 = getBoth()
		return
	}

	main()
	like(lCallers1[0], {
		type: 'function',
		name: 'secondFunc',
		source: 'test/v8-stack/v8-module.civet'
		})
	like(lCallers1[1], {
		type: 'function',
		name: 'secondFunc',
		source: 'test/v8-stack/v8-module.civet'
		})
	like(lCallers2[0], {
		type: 'function',
		name: 'secondFunc',
		source: 'test/v8-stack/v8-module.civet'
		})
	like(lCallers2[1], {
		type: 'function',
		name: 'secondFunc',
		source: 'test/v8-stack/v8-module.civet'
		})
}
	)();

// ---------------------------------------------------------------------------

(async () => {
	const func1 = async () => {
		return await func2()
	}

	const func2 = async () => {
		return await getV8StackStr()
	}

	equal(await func1(), `[function func2    ] test/v8-stack.lib.test.civet:346:15
[function func1    ] test/v8-stack.lib.test.civet:343:15
[function <anon>   ] test/v8-stack.lib.test.civet:348:13
[script            ] test/v8-stack.lib.test.civet:355:2`)
}

	)();

// ---------------------------------------------------------------------------

(async () => {
	const func1 = async () => {
		func2()
		return await getV8StackStr()
	}

	const func2 = () => {
		return 2 * 2
	}

	equal(await func1(), `[function func1    ] test/v8-stack.lib.test.civet:362:15
[function <anon>   ] test/v8-stack.lib.test.civet:367:13
[script            ] test/v8-stack.lib.test.civet:372:2`)
}
	)();

// ---------------------------------------------------------------------------

(function() {
	let caller1: (stackFrame | undefined) = undef
	let caller2: (stackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		caller1 = getMyCaller()
	}

	const func2 = function() {
		caller2 = getMyCaller()
		return
	}

	main()
	like(caller1, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.lib.test.civet'
		})
	like(caller2, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.lib.test.civet'
		})
}
	)()

// ---------------------------------------------------------------------------

DBG("getMyOutsideCaller()");

(function() {
	let caller1: (stackFrame | undefined) = undef
	let caller2: (stackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		caller1 = getMyOutsideCaller()
	}

	const func2 = function() {
		caller2 = getMyOutsideCaller()
		return
	}

	main()
	like(caller1, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.lib.test.civet'
		})
	like(caller2, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.lib.test.civet'
		})
}
	)()

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldC50c3giLCJzb3VyY2VzIjpbInRlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQiXSwibWFwcGluZ3MiOiI7QUFBQSwwQkFBeUI7QUFDekIsQUFBQTtBQUNBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUNyRCxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFVBQVUsQ0FBQztBQUM1RCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMseUJBQXlCO0FBQ2pDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsVUFBVSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQ3JDLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxhQUFhLENBQUM7QUFDbkMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLDRCQUE0QjtBQUNwQyxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQztBQUN4QyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsNkJBQTZCO0FBQ3JDLEFBQUE7QUFDQSxBQUFBLEFBQUssTUFBTCxLQUFLLENBQUMsQ0FBRSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0FBQ3JCLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFLLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQTtB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Q0FBQyxDQUFDLENBQUMsQ0FBQztBQUNKIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIHY4LXN0YWNrLmxpYi50ZXN0LmNpdmV0XG5cbmltcG9ydCB7XG5cdHVuZGVmLCBkZWZpbmVkLCBub3RkZWZpbmVkLCBvLCBhc3NlcnQsIGNyb2FrLCBzbGVlcCxcblx0REJHLCByZWxwYXRoLCBnZXRDbWRBcmdzLCBleGVjQ21kLCBleGVjQ21kU3luYywgc2V0RGlyVHJlZSxcblx0fSBmcm9tICcuLi9zcmMvbGliL3V0aWxzLmxpYi50cydcbmltcG9ydCB7XG5cdHN0YWNrRnJhbWUsIGdldFY4U3RhY2ssIGdldE15Q2FsbGVyLFxuXHRnZXRNeU91dHNpZGVDYWxsZXIsIGdldFY4U3RhY2tTdHIsXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi92OC1zdGFjay5saWIudHMnXG5pbXBvcnQge1xuXHRlcXVhbCwgbGlrZSwgc3VjY2VlZHMsIGlzVHlwZSwgbm90VHlwZSxcblx0fSBmcm9tICcuLi9zcmMvbGliL3VuaXQtdGVzdC5saWIudHMnXG5cbmhBcmdzIDo9IGdldENtZEFyZ3MoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5zZXR1cCA6PSAoKTogdm9pZCA9PlxuXG5cdERCRyBcInNldERpclRyZWUoKVwiXG5cblx0c2V0RGlyVHJlZSAndGVzdC92OC1zdGFjaycsIFwiXCJcIlxuXHRcdFx0djgtbW9kdWxlLnRzXG5cdFx0XHRcdFwidXNlIHN0cmljdFwiO1xuXHRcdFx0XHQvLyB2OC1tb2R1bGUuY2l2ZXRcblxuXHRcdFx0XHRpbXBvcnQge2dldE15Q2FsbGVyLCBzdGFja0ZyYW1lfSBmcm9tICcuLi8uLi9zcmMvbGliL3Y4LXN0YWNrLmxpYi50cydcblxuXHRcdFx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRcdFx0XHR0eXBlIGJvdGhGcmFtZXMgPSAoKHN0YWNrRnJhbWUgfCB1bmRlZmluZWQpKVtdXG5cblx0XHRcdFx0Y29uc3QgaXNCb3RoRnJhbWVzID0gKHg6IGFueSk6IHggaXMgYm90aEZyYW1lcyA9PiB7XG5cdFx0XHRcdFx0cmV0dXJuIEFycmF5LmlzQXJyYXkoeCkgJiYgKHgubGVuZ3RoID09PSAyKVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHRcdFx0ZXhwb3J0IGNvbnN0IGdldEJvdGggPSBmdW5jdGlvbigpOiBib3RoRnJhbWVzIHtcblxuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHNlY29uZEZ1bmMoJ2JvdGgnKVxuXHRcdFx0XHRcdGlmIChBcnJheS5pc0FycmF5KHJlc3VsdCkpIHtcblx0XHRcdFx0XHRcdHJldHVybiByZXN1bHRcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSB7XG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RlZCBhcnJheSwgZ290IHN0YWNrRnJhbWVcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRcdFx0XHRleHBvcnQgY29uc3QgZ2V0RGlyZWN0ID0gZnVuY3Rpb24oKTogKHN0YWNrRnJhbWUgfCB1bmRlZmluZWQpIHtcblxuXHRcdFx0XHRcdGNvbnN0IHJlc3VsdCA9IHNlY29uZEZ1bmMoJ2RpcmVjdCcpXG5cdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiR290IHVuZXhwZWN0ZWQgYXJyYXlcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdFxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHRcdFx0ZXhwb3J0IGNvbnN0IGdldE91dHNpZGUgPSBmdW5jdGlvbigpOiAoc3RhY2tGcmFtZSB8IHVuZGVmaW5lZCkge1xuXG5cdFx0XHRcdFx0Y29uc3QgcmVzdWx0ID0gc2Vjb25kRnVuYygnb3V0c2lkZScpXG5cdFx0XHRcdFx0aWYgKEFycmF5LmlzQXJyYXkocmVzdWx0KSkge1xuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiR290IHVuZXhwZWN0ZWQgYXJyYXlcIilcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIHJlc3VsdFxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHRcdFx0Y29uc3Qgc2Vjb25kRnVuYyA9IGZ1bmN0aW9uKHR5cGU6IHN0cmluZyk6IGJvdGhGcmFtZXMgfCAoc3RhY2tGcmFtZSB8IHVuZGVmaW5lZCkge1xuXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXJkRnVuYyh0eXBlKVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0XHRcdFx0Y29uc3QgdGhpcmRGdW5jID0gZnVuY3Rpb24odHlwZTogc3RyaW5nKTogYm90aEZyYW1lcyB8IChzdGFja0ZyYW1lIHwgdW5kZWZpbmVkKSB7XG5cblx0XHRcdFx0XHQvLyAtLS0gZGlyZWN0IGNhbGxlciBzaG91bGQgYmUgJ3NlY29uZEZ1bmMnXG5cdFx0XHRcdFx0Ly8gICAgIG91dHNpZGUgY2FsbGVyIHNob3VsZCBiZSB0aGUgZnVuY3Rpb25cblx0XHRcdFx0XHQvLyAgICAgICAgdGhhdCBjYWxsZWQgZ2V0Q2FsbGVyKClcblx0XHRcdFx0XHRzd2l0Y2godHlwZSkge1xuXHRcdFx0XHRcdFx0Y2FzZSAnYm90aCc6IHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIFtnZXRNeUNhbGxlcigpLCBnZXRNeUNhbGxlcigpXVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y2FzZSAnZGlyZWN0Jzoge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZ2V0TXlDYWxsZXIoKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0Y2FzZSAnb3V0c2lkZSc6IHtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGdldE15Q2FsbGVyKClcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGRlZmF1bHQ6IHtcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBVbmtub3duIHR5cGU6ICR7dHlwZX1gKVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFwiXCJcIiwgbydjbGVhcidcblxuXHRyZXR1cm5cblxuc2V0dXAoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5EQkcgXCJ0eXBlIHN0YWNrRnJhbWVcIlxuXG5pc1R5cGUgJ3N0YWNrRnJhbWUnLCB7XG5cdHR5cGU6ICdmdW5jdGlvbidcblx0c291cmNlOiAndGVtcC5jaXZldCdcblx0bGluZTogNVxuXHRjb2x1bW46IDVcblx0bmFtZTogJ2Z1bmMnXG5cdGlzQ29uc3RydWN0b3I6IGZhbHNlXG5cdGlzQXN5bmM6IGZhbHNlXG5cdG9ialR5cGU6IHVuZGVmaW5lZFxuXHR9XG5cbkRCRyBcImdldFY4U3RhY2soKVwiXG5cbigoKSAtPlxuXHRsZXQgc3RhY2sxOiBzdGFja0ZyYW1lW10gPSBbXVxuXHRsZXQgc3RhY2syOiBzdGFja0ZyYW1lW10gPSBbXVxuXG5cdG1haW4gOj0gKCkgPT5cblx0XHRmdW5jMSgpXG5cdFx0ZnVuYzIoKVxuXG5cdGZ1bmMxIDo9ICgpIC0+XG5cdFx0c3RhY2sxID0gZ2V0VjhTdGFjaygpXG5cdFx0cmV0dXJuXG5cblx0ZnVuYzIgOj0gKCkgLT5cblx0XHRzdGFjazIgPSBnZXRWOFN0YWNrKClcblx0XHRyZXR1cm5cblxuXHRtYWluKClcblx0bGlrZSBzdGFjazEsIFtcblx0XHR7XG5cdFx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0XHRuYW1lOiAnZnVuYzEnXG5cdFx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xuXHRcdFx0bGluZTogMTM0XG5cdFx0XHR9XG5cdFx0e1xuXHRcdFx0dHlwZTogJ2Z1bmN0aW9uJ1xuXHRcdFx0bmFtZTogJ21haW4nXG5cdFx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xuXHRcdFx0bGluZTogMTMwXG5cdFx0XHR9XG5cdFx0e1xuXHRcdFx0dHlwZTogJ2Z1bmN0aW9uJ1xuXHRcdFx0bmFtZTogJzxhbm9uPidcblx0XHRcdHNvdXJjZTogJ3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQnXG5cdFx0XHRsaW5lOiAxNDFcblx0XHRcdH1cblx0XHR7XG5cdFx0XHR0eXBlOiAnc2NyaXB0J1xuXHRcdFx0c291cmNlOiAndGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcblx0XHRcdGxpbmU6IDE5M1xuXHRcdFx0fVxuXHRcdF1cblxuXHRsaWtlIHN0YWNrMiwgW1xuXHRcdHtcblx0XHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRcdG5hbWU6ICdmdW5jMidcblx0XHRcdHNvdXJjZTogJ3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQnXG5cdFx0XHRsaW5lOiAxMzhcblx0XHRcdH1cblx0XHR7XG5cdFx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0XHRuYW1lOiAnbWFpbidcblx0XHRcdHNvdXJjZTogJ3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQnXG5cdFx0XHRsaW5lOiAxMzFcblx0XHRcdH1cblx0XHR7XG5cdFx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0XHRuYW1lOiAnPGFub24+J1xuXHRcdFx0c291cmNlOiAndGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcblx0XHRcdGxpbmU6IDE0MVxuXHRcdFx0fVxuXHRcdHtcblx0XHRcdHR5cGU6ICdzY3JpcHQnXG5cdFx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xuXHRcdFx0bGluZTogMTkzXG5cdFx0XHR9XG5cdFx0XVxuXHQpKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuREJHIFwiZ2V0VjhTdGFja1N0cigpXCJcblxuKCgpIC0+XG5cdGxldCBzdGFjazE6IHN0cmluZyA9ICcnXG5cdGxldCBzdGFjazI6IHN0cmluZyA9ICcnXG5cblx0bWFpbiA6PSAoKSAtPlxuXHRcdGZ1bmMxKClcblx0XHRmdW5jMigpXG5cblx0ZnVuYzEgOj0gKCkgLT5cblx0XHRzdGFjazEgPSBnZXRWOFN0YWNrU3RyKClcblx0XHRyZXR1cm5cblxuXHRmdW5jMiA6PSAoKSAtPlxuXHRcdHN0YWNrMiA9IGdldFY4U3RhY2tTdHIoKVxuXHRcdHJldHVyblxuXG5cdG1haW4oKVxuXHRlcXVhbCBzdGFjazEsIFwiXCJcIlxuXHRcdFtmdW5jdGlvbiBmdW5jMSAgICBdIHRlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MjA4OjExXG5cdFx0W2Z1bmN0aW9uIG1haW4gICAgIF0gdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDoyMDQ6MlxuXHRcdFtmdW5jdGlvbiA8YW5vbj4gICBdIHRlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MjE1OjFcblx0XHRbc2NyaXB0ICAgICAgICAgICAgXSB0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjIyOToyXG5cdFx0XCJcIlwiXG5cblx0ZXF1YWwgc3RhY2syLCBcIlwiXCJcblx0XHRbZnVuY3Rpb24gZnVuYzIgICAgXSB0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjIxMjoxMVxuXHRcdFtmdW5jdGlvbiBtYWluICAgICBdIHRlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MjA1OjJcblx0XHRbZnVuY3Rpb24gPGFub24+ICAgXSB0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjIxNToxXG5cdFx0W3NjcmlwdCAgICAgICAgICAgIF0gdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDoyMjk6MlxuXHRcdFwiXCJcIlxuXHQpKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuREJHIFwiZ2V0TXlDYWxsZXIoKVwiXG5cbigoKSAtPlxuXHRsZXQgY2FsbGVyMTogc3RhY2tGcmFtZT8gPSB1bmRlZlxuXHRsZXQgY2FsbGVyMjogc3RhY2tGcmFtZT8gPSB1bmRlZlxuXG5cdG1haW4gOj0gKCkgLT5cblx0XHRmdW5jMSgpXG5cdFx0ZnVuYzIoKVxuXG5cdGZ1bmMxIDo9ICgpIC0+XG5cdFx0Y2FsbGVyMSA9IGdldE15Q2FsbGVyKClcblxuXHRmdW5jMiA6PSAoKSAtPlxuXHRcdGNhbGxlcjIgPSBnZXRNeUNhbGxlcigpXG5cdFx0cmV0dXJuXG5cblx0bWFpbigpXG5cdGxpa2UgY2FsbGVyMSwge1xuXHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRuYW1lOiAnbWFpbidcblx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xuXHRcdH1cblx0bGlrZSBjYWxsZXIyLCB7XG5cdFx0dHlwZTogJ2Z1bmN0aW9uJ1xuXHRcdG5hbWU6ICdtYWluJ1xuXHRcdHNvdXJjZTogJ3Rlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQnXG5cdFx0fVxuXHQpKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuKCgpIC0+XG5cdGxldCBoQ2FsbGVyOiBzdGFja0ZyYW1lPyA9IHVuZGVmXG5cblx0bWFpbiA6PSAoKSAtPlxuXHRcdGZ1bmMxKClcblx0XHRmdW5jMigpXG5cblx0ZnVuYzEgOj0gKCkgLT5cblx0XHRyZXR1cm5cblxuXHRmdW5jMiA6PSAoKSAtPlxuXHRcdGhDYWxsZXIgPSBnZXRNeUNhbGxlcigpXG5cdFx0cmV0dXJuXG5cblx0IyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXHRtYWluKClcblxuXHRsaWtlIGhDYWxsZXIsIHtcblx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0bmFtZTogJ21haW4nXG5cdFx0c291cmNlOiAndGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcblx0XHR9XG5cblx0KSgpXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbigoKSAtPlxuXHRhd2FpdCBleGVjQ21kICdjaXZldCcsIFtcblx0XHQnLS1pbmxpbmUtbWFwJ1xuXHRcdCctbydcblx0XHQnLnRzJ1xuXHRcdCctYydcblx0XHQndGVzdC92OC1zdGFjay92OC1tb2R1bGUuY2l2ZXQnXG5cdFx0XVxuXHR7Z2V0Qm90aH0gOj0gYXdhaXQgaW1wb3J0KCcuL3Y4LXN0YWNrL3Y4LW1vZHVsZS50cycpXG5cdGxldCBsQ2FsbGVyczE6IChzdGFja0ZyYW1lPylbXSA9IFtdXG5cdGxldCBsQ2FsbGVyczI6IChzdGFja0ZyYW1lPylbXSA9IFtdXG5cblx0bWFpbiA6PSAoKSAtPlxuXHRcdGZ1bmMxKClcblx0XHRmdW5jMigpXG5cblx0ZnVuYzEgOj0gKCkgLT5cblx0XHRsQ2FsbGVyczEgPSBnZXRCb3RoKClcblxuXHRmdW5jMiA6PSAoKSAtPlxuXHRcdGxDYWxsZXJzMiA9IGdldEJvdGgoKVxuXHRcdHJldHVyblxuXG5cdG1haW4oKVxuXHRsaWtlIGxDYWxsZXJzMVswXSwge1xuXHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRuYW1lOiAnc2Vjb25kRnVuYydcblx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrL3Y4LW1vZHVsZS5jaXZldCdcblx0XHR9XG5cdGxpa2UgbENhbGxlcnMxWzFdLCB7XG5cdFx0dHlwZTogJ2Z1bmN0aW9uJ1xuXHRcdG5hbWU6ICdzZWNvbmRGdW5jJ1xuXHRcdHNvdXJjZTogJ3Rlc3Qvdjgtc3RhY2svdjgtbW9kdWxlLmNpdmV0J1xuXHRcdH1cblx0bGlrZSBsQ2FsbGVyczJbMF0sIHtcblx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0bmFtZTogJ3NlY29uZEZ1bmMnXG5cdFx0c291cmNlOiAndGVzdC92OC1zdGFjay92OC1tb2R1bGUuY2l2ZXQnXG5cdFx0fVxuXHRsaWtlIGxDYWxsZXJzMlsxXSwge1xuXHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRuYW1lOiAnc2Vjb25kRnVuYydcblx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrL3Y4LW1vZHVsZS5jaXZldCdcblx0XHR9XG5cdCkoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4oKCkgPT5cblx0ZnVuYzEgOj0gKCkgPT5cblx0XHRyZXR1cm4gYXdhaXQgZnVuYzIoKVxuXG5cdGZ1bmMyIDo9ICgpID0+XG5cdFx0cmV0dXJuIGF3YWl0IGdldFY4U3RhY2tTdHIoKVxuXG5cdGVxdWFsIGF3YWl0IGZ1bmMxKCksIFwiXCJcIlxuXHRcdFtmdW5jdGlvbiBmdW5jMiAgICBdIHRlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MzQ2OjE1XG5cdFx0W2Z1bmN0aW9uIGZ1bmMxICAgIF0gdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDozNDM6MTVcblx0XHRbZnVuY3Rpb24gPGFub24+ICAgXSB0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjM0ODoxM1xuXHRcdFtzY3JpcHQgICAgICAgICAgICBdIHRlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MzU1OjJcblx0XHRcIlwiXCJcblxuXHQpKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuKCgpID0+XG5cdGZ1bmMxIDo9ICgpID0+XG5cdFx0ZnVuYzIoKVxuXHRcdHJldHVybiBhd2FpdCBnZXRWOFN0YWNrU3RyKClcblxuXHRmdW5jMiA6PSAoKSA9PlxuXHRcdHJldHVybiAyICogMlxuXG5cdGVxdWFsIGF3YWl0IGZ1bmMxKCksIFwiXCJcIlxuXHRcdFtmdW5jdGlvbiBmdW5jMSAgICBdIHRlc3Qvdjgtc3RhY2subGliLnRlc3QuY2l2ZXQ6MzYyOjE1XG5cdFx0W2Z1bmN0aW9uIDxhbm9uPiAgIF0gdGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldDozNjc6MTNcblx0XHRbc2NyaXB0ICAgICAgICAgICAgXSB0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0OjM3MjoyXG5cdFx0XCJcIlwiXG5cdCkoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4oKCkgLT5cblx0bGV0IGNhbGxlcjE6IHN0YWNrRnJhbWU/ID0gdW5kZWZcblx0bGV0IGNhbGxlcjI6IHN0YWNrRnJhbWU/ID0gdW5kZWZcblxuXHRtYWluIDo9ICgpIC0+XG5cdFx0ZnVuYzEoKVxuXHRcdGZ1bmMyKClcblxuXHRmdW5jMSA6PSAoKSAtPlxuXHRcdGNhbGxlcjEgPSBnZXRNeUNhbGxlcigpXG5cblx0ZnVuYzIgOj0gKCkgLT5cblx0XHRjYWxsZXIyID0gZ2V0TXlDYWxsZXIoKVxuXHRcdHJldHVyblxuXG5cdG1haW4oKVxuXHRsaWtlIGNhbGxlcjEsIHtcblx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0bmFtZTogJ21haW4nXG5cdFx0c291cmNlOiAndGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcblx0XHR9XG5cdGxpa2UgY2FsbGVyMiwge1xuXHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRuYW1lOiAnbWFpbidcblx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xuXHRcdH1cblx0KSgpXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkRCRyBcImdldE15T3V0c2lkZUNhbGxlcigpXCJcblxuKCgpIC0+XG5cdGxldCBjYWxsZXIxOiBzdGFja0ZyYW1lPyA9IHVuZGVmXG5cdGxldCBjYWxsZXIyOiBzdGFja0ZyYW1lPyA9IHVuZGVmXG5cblx0bWFpbiA6PSAoKSAtPlxuXHRcdGZ1bmMxKClcblx0XHRmdW5jMigpXG5cblx0ZnVuYzEgOj0gKCkgLT5cblx0XHRjYWxsZXIxID0gZ2V0TXlPdXRzaWRlQ2FsbGVyKClcblxuXHRmdW5jMiA6PSAoKSAtPlxuXHRcdGNhbGxlcjIgPSBnZXRNeU91dHNpZGVDYWxsZXIoKVxuXHRcdHJldHVyblxuXG5cdG1haW4oKVxuXHRsaWtlIGNhbGxlcjEsIHtcblx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0bmFtZTogJ21haW4nXG5cdFx0c291cmNlOiAndGVzdC92OC1zdGFjay5saWIudGVzdC5jaXZldCdcblx0XHR9XG5cdGxpa2UgY2FsbGVyMiwge1xuXHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRuYW1lOiAnbWFpbidcblx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLmxpYi50ZXN0LmNpdmV0J1xuXHRcdH1cblx0KSgpXG4iXX0=