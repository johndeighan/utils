"use strict";
// indent.lib.test.civet

import {
	undef, defined, notdefined, spaces, tabs, DBG,
	assert, throwsError, getCmdArgs, deeplyEquals,
	oneIndent, resetOneIndent, indentLevel, splitLine,
	indented, undented,
	} from '../src/lib/utils.lib.ts'
import {
	equal, truthy, falsy, like, listLike, succeeds, fails,
	} from '../src/lib/unit-test.lib.ts'

const hArgs = getCmdArgs()

// ---------------------------------------------------------------------------

DBG("const oneIndent", "resetOneIndent()")

equal(oneIndent, undef)
equal(indentLevel("\t\tabc"), 2)  // --- sets oneIndent
equal(oneIndent, tabs(1))
resetOneIndent()
equal(oneIndent, undef)

equal(indentLevel("   abc"), 1)  // --- sets oneIndent
equal(oneIndent, spaces(3))
resetOneIndent()

// ---------------------------------------------------------------------------

// --- TEST using TABs ---

// ---------------------------------------------------------------------------

DBG("indentLevel()")

succeeds(() => {
	resetOneIndent()
	assert(notdefined(oneIndent))

	assert((indentLevel('abc') === 0))
	assert((indentLevel('\tabc') === 1))
	assert(defined(oneIndent))
	assert((oneIndent === '\t'))
	assert((indentLevel('\t\tabc') === 2))
	throwsError(() => indentLevel('\t abc'))
	throwsError(() => indentLevel(' \tabc'))
	assert(indentLevel('abc') === 0)

	assert(indentLevel('abc') === 0)
	assert(indentLevel('\tabc') === 1)
	assert(indentLevel('\t\tabc') === 2)
})

// ---------------------------------------------------------------------------

DBG("type lineDesc", "splitLine()")

succeeds(() => {
	resetOneIndent()
	assert(deeplyEquals(splitLine('abc'), [0, 'abc']))
	assert(deeplyEquals(splitLine('\t\tabc'), [2, 'abc']))

	assert(deeplyEquals(splitLine('\tabc'), [1, 'abc']))

	// --- fails since we're now expecting TABs
	throwsError(() =>  splitLine('      abc'))
})

// ---------------------------------------------------------------------------

DBG("indented()")

succeeds(() => {
	resetOneIndent()
	assert(indented('abc') === '\tabc')
	assert(indented('abc', 2) === '\t\tabc')

	assert(indentLevel('\tabc') === 1)
	assert(indented('abc', 2) === (tabs(2) + 'abc'))
	assert(indented('abc', 2) === `${tabs(2)}abc`)
})

// --- Test with blocks

succeeds(() => {
	resetOneIndent()
	assert(indented(`first line
\tsecond line
\t\tthird line`) === `\tfirst line
\t\tsecond line
\t\t\tthird line`)

	assert(indented(`first line
\tsecond line
\t\tthird line`, 2) === `\t\tfirst line
\t\t\tsecond line
\t\t\t\tthird line`)
})

// --- Test with arrays

succeeds(() => {
	resetOneIndent()
	assert(deeplyEquals(indented([
		'first line',
		'\tsecond line',
		'\t\tthird line'
		]), [
		'\tfirst line',
		'\t\tsecond line',
		'\t\t\tthird line'
		]))

	assert(deeplyEquals(indented([
		'first line',
		'\tsecond line',
		'\t\tthird line'
		], 2), [
		'\t\tfirst line',
		'\t\t\tsecond line',
		'\t\t\t\tthird line'
		]))
})

// ---------------------------------------------------------------------------

DBG("undented()")

succeeds(() => {
	resetOneIndent()
	equal(undented(`\tabc
\t\tdef
\t\t\tghi`), `abc
\tdef
\t\tghi`)
})

// ---------------------------------------------------------------------------

// TEST using 3 spaces

// ---------------------------------------------------------------------------

DBG("resetOneIndent()")

succeeds(() => {
	resetOneIndent()
	assert(notdefined(oneIndent))
	assert((indentLevel('\t\tabc') === 2))
	assert((oneIndent === '\t'))
})

succeeds(() => {
	resetOneIndent()
	assert(notdefined(oneIndent))
	assert((indentLevel('   abc') === 1))
	assert((indentLevel('      abc') === 2))
	assert((oneIndent === '   '))
})

// ---------------------------------------------------------------------------

DBG("indentLevel()")

succeeds(() => {
	resetOneIndent()
	assert(indentLevel('abc') === 0)
	assert(indentLevel('   abc') === 1)
	assert(indentLevel('      abc') === 2)
	throwsError(() => indentLevel('\t abc'))
	throwsError(() => indentLevel(' \tabc'))
	assert((indentLevel('abc') === 0))

	assert(indentLevel('abc') === 0)
	assert(indentLevel('   abc') === 1)
	assert(indentLevel('      abc') === 2)
})

// ---------------------------------------------------------------------------

DBG("splitLine()")

succeeds(() => {
	resetOneIndent()
	assert(notdefined(oneIndent))

	assert(deeplyEquals(splitLine('abc'), [0, 'abc']))
	assert(notdefined(oneIndent))
	assert(deeplyEquals(splitLine('   abc'), [1, 'abc']))
	assert(defined(oneIndent))
	assert(deeplyEquals(splitLine('      abc'), [2, 'abc']))
	assert((oneIndent === '   '))

	assert(deeplyEquals(splitLine('   abc'), [1, 'abc']))

	// ---fails since we're now expecting spaces
	throwsError(() => splitLine('\t\tabc'))
})

// ---------------------------------------------------------------------------

DBG("indented()")

succeeds(() => {
	resetOneIndent('   ')
	assert((indented('abc', 2) === '      abc'))
	assert((indented('abc') === '   abc'))

	assert((indentLevel('   abc') === 1))
	assert((indented('abc', 2) === spaces(6) + 'abc'))
})

// --- Test with blocks

succeeds(() => {
	resetOneIndent(spaces(3))
	assert(indented(`first line
${spaces(3)}second line
${spaces(6)}third line`) === `${spaces(3)}first line
${spaces(6)}second line
${spaces(9)}third line`)

	assert(indented(`first line
${spaces(3)}second line
${spaces(6)}third line`, 2) === `${spaces(6)}first line
${spaces(9)}second line
${spaces(12)}third line`)
})

// --- Test with arrays

succeeds(() => {
	resetOneIndent('   ')
	assert(deeplyEquals(indented([
		'first line',
		'   second line',
		'      third line'
		]), [
		'   first line',
		'      second line',
		'         third line'
		]))

	assert(deeplyEquals(indented([
		'first line',
		'   second line',
		'      third line'
		], 2), [
		'      first line',
		'         second line',
		'            third line'
		]))
})

// ---------------------------------------------------------------------------

DBG("undented()")

equal(undented(`${spaces(6)}abc
${spaces(9)}def
${spaces(12)}ghi`), `abc
${spaces(3)}def
${spaces(6)}ghi`)

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9pbmRlbnQubGliLnRlc3QuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJ0ZXN0L2luZGVudC5saWIudGVzdC5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLHdCQUF1QjtBQUN2QixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDO0FBQy9DLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsWUFBWSxDQUFDO0FBQy9DLENBQUMsU0FBUyxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsU0FBUyxDQUFDO0FBQ25ELENBQUMsUUFBUSxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQ3BCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyx5QkFBeUI7QUFDakMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDdkQsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLDZCQUE2QjtBQUNyQyxBQUFBO0FBQ0EsQUFBQSxBQUFLLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQztBQUNyQixBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQTtBQUNBLEFBQUEsQUFBQSxHQUFHLENBQUEsQUFBQyxpQkFBaUIsQ0FBQyxDQUFDLGtCQUFrQixDQUFBO0FBQ3pDLEFBQUE7QUFDQSxBQUFBLEFBQUEsS0FBSyxDQUFBLEFBQUMsU0FBUyxDQUFDLENBQUMsS0FBSyxDQUFBO0FBQ3RCLEFBQUEsQUFBQSxLQUFLLENBQUEsQUFBQyxXQUFX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QUE7QUFDZCxBQUFBLENBQUMsY0FBYyxDQUFDLENBQUM7QUFDakIsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQyxDQUFBO0FBQy9CLEFBQUEsQ0FBQyxNQUFNLENBQUEsQUFBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQTtBQUNsQyxBQUFBLENBQUMsTUFBTSxDQUFBLEFBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUE7QUFDckMsQUFBQSxDQUFDLFdBQVcsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDeEMsQUFBQSxDQUFDLFdBQVcsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDeEMsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNqQyxBQUFBO0FBQ0EsQUFBQSxDQUFDLE1BQU0sQ0FBQSxBQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFFLENBQUMsQ0FBQyxDQUFBO0FBQy9CLEFBQUEsQ0FBQyxNQUFNLENBQUEsQUFBQyxXQUFXLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRSxDQUFDLENBQUMsQ0FBQTtBQUNsQyxBQUFBLENBQUMsTUFBTSxDQUFBLEFBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEdBQUUsQ0FBQyxDQUFDLEM7QUFBQSxDQUFBLENBQUE7QUFDckMsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLEFBQUEsR0FBRyxDQUFBLEFBQUMsYUFBYSxDQUFBO0FBQ2pCLEFBQUE7QUFDQSxBQUFBLEFBQUEsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxD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LEFBQUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0FBQy9CLEFBQUEsRUFBRSxZQUFZLENBQUE7QUFDZCxBQUFBLEVBQUUsZ0JBQWdCLENBQUE7QUFDbEIsQUFBQSxFQUFFLGtCQUFrQjtBQUNwQixBQUFBLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ1YsQUFBQSxFQUFFLGtCQUFrQixDQUFBO0FBQ3BCLEFBQUEsRUFBRSxzQkFBc0IsQ0FBQTtBQUN4QixBQUFBLEVBQUUsd0JBQXdCO0FBQzFCLEFBQUEsRUFBRSxDQUFDLENBQUMsQztBQUFBLENBQUEsQ0FBQTtBQUNKLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLEdBQUcsQ0FBQSxBQUFDLFlBQVksQ0FBQTtBQUNoQixBQUFBO0FBQ0EsQUFBQSxBQUFBLEtBQUssQ0FBQSxBQUFDLFFBQVEsQ0FBQyxDQUFHLEFBQ2pCLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2IsQUFBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNiLEFBQUMsRUFBRSxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUMsR0FDYixDQUFHLENBQUMsQ0FBQyxDQUFDLENBQUc7QUFDVixBQUNDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2IsQUFBQyxFQUFFLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUNaLENBQUcsQ0FBQTtBQUNKIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIGluZGVudC5saWIudGVzdC5jaXZldFxuXG5pbXBvcnQge1xuXHR1bmRlZiwgZGVmaW5lZCwgbm90ZGVmaW5lZCwgc3BhY2VzLCB0YWJzLCBEQkcsXG5cdGFzc2VydCwgdGhyb3dzRXJyb3IsIGdldENtZEFyZ3MsIGRlZXBseUVxdWFscyxcblx0b25lSW5kZW50LCByZXNldE9uZUluZGVudCwgaW5kZW50TGV2ZWwsIHNwbGl0TGluZSxcblx0aW5kZW50ZWQsIHVuZGVudGVkLFxuXHR9IGZyb20gJy4uL3NyYy9saWIvdXRpbHMubGliLnRzJ1xuaW1wb3J0IHtcblx0ZXF1YWwsIHRydXRoeSwgZmFsc3ksIGxpa2UsIGxpc3RMaWtlLCBzdWNjZWVkcywgZmFpbHMsXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi91bml0LXRlc3QubGliLnRzJ1xuXG5oQXJncyA6PSBnZXRDbWRBcmdzKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuREJHIFwiY29uc3Qgb25lSW5kZW50XCIsIFwicmVzZXRPbmVJbmRlbnQoKVwiXG5cbmVxdWFsIG9uZUluZGVudCwgdW5kZWZcbmVxdWFsIGluZGVudExldmVsKFwiXFx0XFx0YWJjXCIpLCAyICAjIC0tLSBzZXRzIG9uZUluZGVudFxuZXF1YWwgb25lSW5kZW50LCB0YWJzKDEpXG5yZXNldE9uZUluZGVudCgpXG5lcXVhbCBvbmVJbmRlbnQsIHVuZGVmXG5cbmVxdWFsIGluZGVudExldmVsKFwiICAgYWJjXCIpLCAxICAjIC0tLSBzZXRzIG9uZUluZGVudFxuZXF1YWwgb25lSW5kZW50LCBzcGFjZXMoMylcbnJlc2V0T25lSW5kZW50KClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuIyAtLS0gVEVTVCB1c2luZyBUQUJzIC0tLVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5EQkcgXCJpbmRlbnRMZXZlbCgpXCJcblxuc3VjY2VlZHMgKCkgPT5cblx0cmVzZXRPbmVJbmRlbnQoKVxuXHRhc3NlcnQgbm90ZGVmaW5lZChvbmVJbmRlbnQpXG5cblx0YXNzZXJ0IChpbmRlbnRMZXZlbCgnYWJjJykgPT0gMClcblx0YXNzZXJ0IChpbmRlbnRMZXZlbCgnXFx0YWJjJykgPT0gMSlcblx0YXNzZXJ0IGRlZmluZWQob25lSW5kZW50KVxuXHRhc3NlcnQgKG9uZUluZGVudCA9PSAnXFx0Jylcblx0YXNzZXJ0IChpbmRlbnRMZXZlbCgnXFx0XFx0YWJjJykgPT0gMilcblx0dGhyb3dzRXJyb3IgKCkgPT4gaW5kZW50TGV2ZWwoJ1xcdCBhYmMnKVxuXHR0aHJvd3NFcnJvciAoKSA9PiBpbmRlbnRMZXZlbCgnIFxcdGFiYycpXG5cdGFzc2VydCBpbmRlbnRMZXZlbCgnYWJjJykgPT0gMFxuXG5cdGFzc2VydCBpbmRlbnRMZXZlbCgnYWJjJykgPT0gMFxuXHRhc3NlcnQgaW5kZW50TGV2ZWwoJ1xcdGFiYycpID09IDFcblx0YXNzZXJ0IGluZGVudExldmVsKCdcXHRcXHRhYmMnKSA9PSAyXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkRCRyBcInR5cGUgbGluZURlc2NcIiwgXCJzcGxpdExpbmUoKVwiXG5cbnN1Y2NlZWRzICgpID0+XG5cdHJlc2V0T25lSW5kZW50KClcblx0YXNzZXJ0IGRlZXBseUVxdWFscyhzcGxpdExpbmUoJ2FiYycpLCBbMCwgJ2FiYyddKVxuXHRhc3NlcnQgZGVlcGx5RXF1YWxzKHNwbGl0TGluZSgnXFx0XFx0YWJjJyksIFsyLCAnYWJjJ10pXG5cblx0YXNzZXJ0IGRlZXBseUVxdWFscyhzcGxpdExpbmUoJ1xcdGFiYycpLCBbMSwgJ2FiYyddKVxuXG5cdCMgLS0tIGZhaWxzIHNpbmNlIHdlJ3JlIG5vdyBleHBlY3RpbmcgVEFCc1xuXHR0aHJvd3NFcnJvciAoKSA9PiAgc3BsaXRMaW5lKCcgICAgICBhYmMnKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5EQkcgXCJpbmRlbnRlZCgpXCJcblxuc3VjY2VlZHMgKCkgPT5cblx0cmVzZXRPbmVJbmRlbnQoKVxuXHRhc3NlcnQgaW5kZW50ZWQoJ2FiYycpID09ICdcXHRhYmMnXG5cdGFzc2VydCBpbmRlbnRlZCgnYWJjJywgMikgPT0gJ1xcdFxcdGFiYydcblxuXHRhc3NlcnQgaW5kZW50TGV2ZWwoJ1xcdGFiYycpID09IDFcblx0YXNzZXJ0IGluZGVudGVkKCdhYmMnLCAyKSA9PSAodGFicygyKSArICdhYmMnKVxuXHRhc3NlcnQgaW5kZW50ZWQoJ2FiYycsIDIpID09IFwiI3t0YWJzKDIpfWFiY1wiXG5cbiMgLS0tIFRlc3Qgd2l0aCBibG9ja3Ncblxuc3VjY2VlZHMgKCkgPT5cblx0cmVzZXRPbmVJbmRlbnQoKVxuXHRhc3NlcnQgaW5kZW50ZWQoXCJcIlwiXG5cdFx0Zmlyc3QgbGluZVxuXHRcdFxcdHNlY29uZCBsaW5lXG5cdFx0XFx0XFx0dGhpcmQgbGluZVxuXHRcdFwiXCJcIikgPT0gXCJcIlwiXG5cdFx0XFx0Zmlyc3QgbGluZVxuXHRcdFxcdFxcdHNlY29uZCBsaW5lXG5cdFx0XFx0XFx0XFx0dGhpcmQgbGluZVxuXHRcdFwiXCJcIlxuXG5cdGFzc2VydCBpbmRlbnRlZChcIlwiXCJcblx0XHRmaXJzdCBsaW5lXG5cdFx0XFx0c2Vjb25kIGxpbmVcblx0XHRcXHRcXHR0aGlyZCBsaW5lXG5cdFx0XCJcIlwiLCAyKSA9PSBcIlwiXCJcblx0XHRcXHRcXHRmaXJzdCBsaW5lXG5cdFx0XFx0XFx0XFx0c2Vjb25kIGxpbmVcblx0XHRcXHRcXHRcXHRcXHR0aGlyZCBsaW5lXG5cdFx0XCJcIlwiXG5cbiMgLS0tIFRlc3Qgd2l0aCBhcnJheXNcblxuc3VjY2VlZHMgKCkgPT5cblx0cmVzZXRPbmVJbmRlbnQoKVxuXHRhc3NlcnQgZGVlcGx5RXF1YWxzKGluZGVudGVkKFtcblx0XHQnZmlyc3QgbGluZSdcblx0XHQnXFx0c2Vjb25kIGxpbmUnXG5cdFx0J1xcdFxcdHRoaXJkIGxpbmUnXG5cdFx0XSksIFtcblx0XHQnXFx0Zmlyc3QgbGluZSdcblx0XHQnXFx0XFx0c2Vjb25kIGxpbmUnXG5cdFx0J1xcdFxcdFxcdHRoaXJkIGxpbmUnXG5cdFx0XSlcblxuXHRhc3NlcnQgZGVlcGx5RXF1YWxzKGluZGVudGVkKFtcblx0XHQnZmlyc3QgbGluZSdcblx0XHQnXFx0c2Vjb25kIGxpbmUnXG5cdFx0J1xcdFxcdHRoaXJkIGxpbmUnXG5cdFx0XSwgMiksIFtcblx0XHQnXFx0XFx0Zmlyc3QgbGluZSdcblx0XHQnXFx0XFx0XFx0c2Vjb25kIGxpbmUnXG5cdFx0J1xcdFxcdFxcdFxcdHRoaXJkIGxpbmUnXG5cdFx0XSlcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuREJHIFwidW5kZW50ZWQoKVwiXG5cbnN1Y2NlZWRzICgpID0+XG5cdHJlc2V0T25lSW5kZW50KClcblx0ZXF1YWwgdW5kZW50ZWQoXCJcIlwiXG5cdFx0XFx0YWJjXG5cdFx0XFx0XFx0ZGVmXG5cdFx0XFx0XFx0XFx0Z2hpXG5cdFx0XCJcIlwiKSwgXCJcIlwiXG5cdFx0YWJjXG5cdFx0XFx0ZGVmXG5cdFx0XFx0XFx0Z2hpXG5cdFx0XCJcIlwiXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiMgVEVTVCB1c2luZyAzIHNwYWNlc1xuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5EQkcgXCJyZXNldE9uZUluZGVudCgpXCJcblxuc3VjY2VlZHMgKCkgPT5cblx0cmVzZXRPbmVJbmRlbnQoKVxuXHRhc3NlcnQgbm90ZGVmaW5lZChvbmVJbmRlbnQpXG5cdGFzc2VydCAoaW5kZW50TGV2ZWwoJ1xcdFxcdGFiYycpID09IDIpXG5cdGFzc2VydCAob25lSW5kZW50ID09ICdcXHQnKVxuXG5zdWNjZWVkcyAoKSA9PlxuXHRyZXNldE9uZUluZGVudCgpXG5cdGFzc2VydCBub3RkZWZpbmVkKG9uZUluZGVudClcblx0YXNzZXJ0IChpbmRlbnRMZXZlbCgnICAgYWJjJykgPT0gMSlcblx0YXNzZXJ0IChpbmRlbnRMZXZlbCgnICAgICAgYWJjJykgPT0gMilcblx0YXNzZXJ0IChvbmVJbmRlbnQgPT0gJyAgICcpXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkRCRyBcImluZGVudExldmVsKClcIlxuXG5zdWNjZWVkcyAoKSA9PlxuXHRyZXNldE9uZUluZGVudCgpXG5cdGFzc2VydCBpbmRlbnRMZXZlbCgnYWJjJykgPT0gMFxuXHRhc3NlcnQgaW5kZW50TGV2ZWwoJyAgIGFiYycpID09IDFcblx0YXNzZXJ0IGluZGVudExldmVsKCcgICAgICBhYmMnKSA9PSAyXG5cdHRocm93c0Vycm9yICgpID0+IGluZGVudExldmVsKCdcXHQgYWJjJylcblx0dGhyb3dzRXJyb3IgKCkgPT4gaW5kZW50TGV2ZWwoJyBcXHRhYmMnKVxuXHRhc3NlcnQgKGluZGVudExldmVsKCdhYmMnKSA9PSAwKVxuXG5cdGFzc2VydCBpbmRlbnRMZXZlbCgnYWJjJykgPT0gMFxuXHRhc3NlcnQgaW5kZW50TGV2ZWwoJyAgIGFiYycpID09IDFcblx0YXNzZXJ0IGluZGVudExldmVsKCcgICAgICBhYmMnKSA9PSAyXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkRCRyBcInNwbGl0TGluZSgpXCJcblxuc3VjY2VlZHMgKCkgPT5cblx0cmVzZXRPbmVJbmRlbnQoKVxuXHRhc3NlcnQgbm90ZGVmaW5lZChvbmVJbmRlbnQpXG5cblx0YXNzZXJ0IGRlZXBseUVxdWFscyhzcGxpdExpbmUoJ2FiYycpLCBbMCwgJ2FiYyddKVxuXHRhc3NlcnQgbm90ZGVmaW5lZChvbmVJbmRlbnQpXG5cdGFzc2VydCBkZWVwbHlFcXVhbHMoc3BsaXRMaW5lKCcgICBhYmMnKSwgWzEsICdhYmMnXSlcblx0YXNzZXJ0IGRlZmluZWQob25lSW5kZW50KVxuXHRhc3NlcnQgZGVlcGx5RXF1YWxzKHNwbGl0TGluZSgnICAgICAgYWJjJyksIFsyLCAnYWJjJ10pXG5cdGFzc2VydCAob25lSW5kZW50ID09ICcgICAnKVxuXG5cdGFzc2VydCBkZWVwbHlFcXVhbHMoc3BsaXRMaW5lKCcgICBhYmMnKSwgWzEsICdhYmMnXSlcblxuXHQjIC0tLWZhaWxzIHNpbmNlIHdlJ3JlIG5vdyBleHBlY3Rpbmcgc3BhY2VzXG5cdHRocm93c0Vycm9yICgpID0+IHNwbGl0TGluZSgnXFx0XFx0YWJjJylcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuREJHIFwiaW5kZW50ZWQoKVwiXG5cbnN1Y2NlZWRzICgpID0+XG5cdHJlc2V0T25lSW5kZW50KCcgICAnKVxuXHRhc3NlcnQgKGluZGVudGVkKCdhYmMnLCAyKSA9PSAnICAgICAgYWJjJylcblx0YXNzZXJ0IChpbmRlbnRlZCgnYWJjJykgPT0gJyAgIGFiYycpXG5cblx0YXNzZXJ0IChpbmRlbnRMZXZlbCgnICAgYWJjJykgPT0gMSlcblx0YXNzZXJ0IChpbmRlbnRlZCgnYWJjJywgMikgPT0gc3BhY2VzKDYpICsgJ2FiYycpXG5cbiMgLS0tIFRlc3Qgd2l0aCBibG9ja3Ncblxuc3VjY2VlZHMgKCkgPT5cblx0cmVzZXRPbmVJbmRlbnQoc3BhY2VzKDMpKVxuXHRhc3NlcnQgaW5kZW50ZWQoXCJcIlwiXG5cdFx0Zmlyc3QgbGluZVxuXHRcdCN7c3BhY2VzKDMpfXNlY29uZCBsaW5lXG5cdFx0I3tzcGFjZXMoNil9dGhpcmQgbGluZVxuXHRcdFwiXCJcIikgPT0gXCJcIlwiXG5cdFx0I3tzcGFjZXMoMyl9Zmlyc3QgbGluZVxuXHRcdCN7c3BhY2VzKDYpfXNlY29uZCBsaW5lXG5cdFx0I3tzcGFjZXMoOSl9dGhpcmQgbGluZVxuXHRcdFwiXCJcIlxuXG5cdGFzc2VydCBpbmRlbnRlZChcIlwiXCJcblx0XHRmaXJzdCBsaW5lXG5cdFx0I3tzcGFjZXMoMyl9c2Vjb25kIGxpbmVcblx0XHQje3NwYWNlcyg2KX10aGlyZCBsaW5lXG5cdFx0XCJcIlwiLCAyKSA9PSBcIlwiXCJcblx0XHQje3NwYWNlcyg2KX1maXJzdCBsaW5lXG5cdFx0I3tzcGFjZXMoOSl9c2Vjb25kIGxpbmVcblx0XHQje3NwYWNlcygxMil9dGhpcmQgbGluZVxuXHRcdFwiXCJcIlxuXG4jIC0tLSBUZXN0IHdpdGggYXJyYXlzXG5cbnN1Y2NlZWRzICgpID0+XG5cdHJlc2V0T25lSW5kZW50KCcgICAnKVxuXHRhc3NlcnQgZGVlcGx5RXF1YWxzKGluZGVudGVkKFtcblx0XHQnZmlyc3QgbGluZSdcblx0XHQnICAgc2Vjb25kIGxpbmUnXG5cdFx0JyAgICAgIHRoaXJkIGxpbmUnXG5cdFx0XSksIFtcblx0XHQnICAgZmlyc3QgbGluZSdcblx0XHQnICAgICAgc2Vjb25kIGxpbmUnXG5cdFx0JyAgICAgICAgIHRoaXJkIGxpbmUnXG5cdFx0XSlcblxuXHRhc3NlcnQgZGVlcGx5RXF1YWxzKGluZGVudGVkKFtcblx0XHQnZmlyc3QgbGluZSdcblx0XHQnICAgc2Vjb25kIGxpbmUnXG5cdFx0JyAgICAgIHRoaXJkIGxpbmUnXG5cdFx0XSwgMiksIFtcblx0XHQnICAgICAgZmlyc3QgbGluZSdcblx0XHQnICAgICAgICAgc2Vjb25kIGxpbmUnXG5cdFx0JyAgICAgICAgICAgIHRoaXJkIGxpbmUnXG5cdFx0XSlcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuREJHIFwidW5kZW50ZWQoKVwiXG5cbmVxdWFsIHVuZGVudGVkKFwiXCJcIlxuXHQje3NwYWNlcyg2KX1hYmNcblx0I3tzcGFjZXMoOSl9ZGVmXG5cdCN7c3BhY2VzKDEyKX1naGlcblx0XCJcIlwiKSwgXCJcIlwiXG5cdGFiY1xuXHQje3NwYWNlcygzKX1kZWZcblx0I3tzcGFjZXMoNil9Z2hpXG5cdFwiXCJcIlxuIl19