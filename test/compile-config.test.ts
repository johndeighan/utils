"use strict";
// compile-config.test.civet

import {
	undef, defined, notdefined,
	isArray, relpath, getCmdArgs, DBG,
	} from '../src/lib/utils.ts'
import {
	isConfigHash, installDenoExe, isStub, isDirSpec,
	findSourceFile,
	isFileSpec, getSrcInfo, getCompiler, compileFile,
	hDefaultConfig, userConfigPath, hCompilerConfig,
	configHash, foundSource, srcInfo, compileResult,
	} from '../src/lib/compile-config.ts'
import {
	equal, like, succeeds, fails, truthy, falsy,
	} from '../src/lib/unit-test.ts'

const hArgs = getCmdArgs()

// ---------------------------------------------------------------------------

DBG("isConfigHash()")

truthy(isConfigHash({
	hCompilers: {
		'.dot': {
			outExt: '.js',
			tester: () => true,
			compiler: () => 'result'
			},
		'.cielo': {
			outExt: '.js',
			tester: () => true,
			compiler: () => 'result'
			},
		'.civet': {
			outExt: '.js',
			tester: () => true,
			compiler: () => 'result'
			}
		},
	hPostProcessors: {
		'testDir': {},
		'libDir': {},
		'binDir': {}
		}
	}))

truthy(isConfigHash(hCompilerConfig))
truthy(isConfigHash(hDefaultConfig))

DBG("installDenoExe()")

//     No unit test yet

DBG("isStub()")

truthy(isStub('abc'))
falsy( isStub('.js'))
falsy( isStub('abc/deno'))
falsy( isStub('abc\\deno'))

DBG("isDirSpec()")

truthy(isDirSpec('testDir'))
truthy(isDirSpec('libDir'))
truthy(isDirSpec('binDir'))
falsy( isDirSpec('abc'))

DBG("findSourceFile()")

const hInfo = findSourceFile('libDir', 'llutils')
truthy(defined(hInfo))
if (hInfo !== undef) {
	equal(relpath(hInfo.path), 'src/lib/llutils.civet')
}

DBG("isFileSpec()")

truthy(isFileSpec(['abc', 'stub']))
falsy( isFileSpec(undef))
falsy( isFileSpec(42))
falsy( isFileSpec('abc'))
falsy( isFileSpec(['abc']))
falsy( isFileSpec(['abc', 'def', 'ghi']))

DBG("getSrcInfo()")

like(getSrcInfo(['libDir', 'llutils']), {
	relPath: 'src/lib/llutils.civet',
	dirspec: 'libDir',
	stub: 'llutils',
	purpose: undef,
	ext: '.civet'
	})

like(getSrcInfo('src/lib/llutils.civet'), {
	relPath: 'src/lib/llutils.civet',
	dirspec: 'libDir',
	stub: 'llutils',
	purpose: undef,
	ext: '.civet'
	})

DBG("getCompiler()");

(() => {
	const lInfo = getCompiler('.civet')
	truthy(defined(lInfo))
	truthy(isArray(lInfo))
	equal(lInfo.length, 2)
}
	)()

DBG("compileFile()")

//     no unit tests yet

DBG("userConfigPath()");

(() => {
	const dir = Deno.cwd().replaceAll('\\','/')
	equal(userConfigPath, `${dir}/compile.config.ts`)
}
	)()

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9jb21waWxlLWNvbmZpZy50ZXN0LmNpdmV0LnRzeCIsInNvdXJjZXMiOlsidGVzdC9jb21waWxlLWNvbmZpZy50ZXN0LmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsNEJBQTJCO0FBQzNCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUM7QUFDNUIsQ0FBQyxPQUFPLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUM7QUFDbkMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLHFCQUFxQjtBQUM3QixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLFlBQVksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQztBQUNqRCxDQUFDLGNBQWMsQ0FBQztBQUNoQixDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsQ0FBQztBQUNsRCxDQUFDLGNBQWMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLGVBQWUsQ0FBQztBQUNqRCxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLGFBQWEsQ0FBQztBQUNqRCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsOEJBQThCO0FBQ3RDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQzdDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyx5QkFBeUI7QUFDakMsQUFBQTtBQUNBLEFBQUEsQUFBSyxNQUFMLEtBQUssQ0FBQyxDQUFFLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDckIsQUFBQTtBQUNB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Q3RCLEFBQUEsQ0FBQyxLQUFLLENBQUEsQUFBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDO0FBQUEsQ0FBQTtBQUN0QixDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxHQUFHLENBQUEsQUFBQyxlQUFlLENBQUE7QUFDbkIsQUFBQTtBQUNBLEFBQUEsd0JBQXVCO0FBQ3ZCLEFBQUE7QUFDQSxBQUFBLEFBQUEsR0FBRyxDQUFBLEFBQUMsa0JBQWtCLEMsQ0FBQTtBQUN0QixBQUFBO0FBQ0EsQUFBQSxBQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDTixBQUFBLENBQUksTUFBSCxHQUFHLENBQUMsQ0FBRSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO0FBQ3ZDLEFBQUEsQ0FBQyxLQUFLLENBQUEsQUFBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLGtCQUFrQixDQUFDLEM7QUFBQSxDQUFBO0FBQ2pELENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDSiIsIm5hbWVzIjpbXSwic291cmNlc0NvbnRlbnQiOlsiIyBjb21waWxlLWNvbmZpZy50ZXN0LmNpdmV0XG5cbmltcG9ydCB7XG5cdHVuZGVmLCBkZWZpbmVkLCBub3RkZWZpbmVkLFxuXHRpc0FycmF5LCByZWxwYXRoLCBnZXRDbWRBcmdzLCBEQkcsXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi91dGlscy50cydcbmltcG9ydCB7XG5cdGlzQ29uZmlnSGFzaCwgaW5zdGFsbERlbm9FeGUsIGlzU3R1YiwgaXNEaXJTcGVjLFxuXHRmaW5kU291cmNlRmlsZSxcblx0aXNGaWxlU3BlYywgZ2V0U3JjSW5mbywgZ2V0Q29tcGlsZXIsIGNvbXBpbGVGaWxlLFxuXHRoRGVmYXVsdENvbmZpZywgdXNlckNvbmZpZ1BhdGgsIGhDb21waWxlckNvbmZpZyxcblx0Y29uZmlnSGFzaCwgZm91bmRTb3VyY2UsIHNyY0luZm8sIGNvbXBpbGVSZXN1bHQsXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi9jb21waWxlLWNvbmZpZy50cydcbmltcG9ydCB7XG5cdGVxdWFsLCBsaWtlLCBzdWNjZWVkcywgZmFpbHMsIHRydXRoeSwgZmFsc3ksXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi91bml0LXRlc3QudHMnXG5cbmhBcmdzIDo9IGdldENtZEFyZ3MoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5EQkcgXCJpc0NvbmZpZ0hhc2goKVwiXG5cbnRydXRoeSBpc0NvbmZpZ0hhc2goe1xuXHRoQ29tcGlsZXJzOiB7XG5cdFx0Jy5kb3QnOiB7XG5cdFx0XHRvdXRFeHQ6ICcuanMnXG5cdFx0XHR0ZXN0ZXI6ICgpID0+IHRydWVcblx0XHRcdGNvbXBpbGVyOiAoKSA9PiAncmVzdWx0J1xuXHRcdFx0fVxuXHRcdCcuY2llbG8nOiB7XG5cdFx0XHRvdXRFeHQ6ICcuanMnXG5cdFx0XHR0ZXN0ZXI6ICgpID0+IHRydWVcblx0XHRcdGNvbXBpbGVyOiAoKSA9PiAncmVzdWx0J1xuXHRcdFx0fVxuXHRcdCcuY2l2ZXQnOiB7XG5cdFx0XHRvdXRFeHQ6ICcuanMnXG5cdFx0XHR0ZXN0ZXI6ICgpID0+IHRydWVcblx0XHRcdGNvbXBpbGVyOiAoKSA9PiAncmVzdWx0J1xuXHRcdFx0fVxuXHRcdH1cblx0aFBvc3RQcm9jZXNzb3JzOiB7XG5cdFx0J3Rlc3REaXInOiB7fVxuXHRcdCdsaWJEaXInOiB7fVxuXHRcdCdiaW5EaXInOiB7fVxuXHRcdH1cblx0fSlcblxudHJ1dGh5IGlzQ29uZmlnSGFzaChoQ29tcGlsZXJDb25maWcpXG50cnV0aHkgaXNDb25maWdIYXNoKGhEZWZhdWx0Q29uZmlnKVxuXG5EQkcgXCJpbnN0YWxsRGVub0V4ZSgpXCJcblxuIyAgICAgTm8gdW5pdCB0ZXN0IHlldFxuXG5EQkcgXCJpc1N0dWIoKVwiXG5cbnRydXRoeSBpc1N0dWIoJ2FiYycpXG5mYWxzeSAgaXNTdHViKCcuanMnKVxuZmFsc3kgIGlzU3R1YignYWJjL2Rlbm8nKVxuZmFsc3kgIGlzU3R1YignYWJjXFxcXGRlbm8nKVxuXG5EQkcgXCJpc0RpclNwZWMoKVwiXG5cbnRydXRoeSBpc0RpclNwZWMoJ3Rlc3REaXInKVxudHJ1dGh5IGlzRGlyU3BlYygnbGliRGlyJylcbnRydXRoeSBpc0RpclNwZWMoJ2JpbkRpcicpXG5mYWxzeSAgaXNEaXJTcGVjKCdhYmMnKVxuXG5EQkcgXCJmaW5kU291cmNlRmlsZSgpXCJcblxuaEluZm8gOj0gZmluZFNvdXJjZUZpbGUoJ2xpYkRpcicsICdsbHV0aWxzJylcbnRydXRoeSBkZWZpbmVkKGhJbmZvKVxuaWYgKGhJbmZvICE9IHVuZGVmKVxuXHRlcXVhbCByZWxwYXRoKGhJbmZvLnBhdGgpLCAnc3JjL2xpYi9sbHV0aWxzLmNpdmV0J1xuXG5EQkcgXCJpc0ZpbGVTcGVjKClcIlxuXG50cnV0aHkgaXNGaWxlU3BlYyhbJ2FiYycsICdzdHViJ10pXG5mYWxzeSAgaXNGaWxlU3BlYyh1bmRlZilcbmZhbHN5ICBpc0ZpbGVTcGVjKDQyKVxuZmFsc3kgIGlzRmlsZVNwZWMoJ2FiYycpXG5mYWxzeSAgaXNGaWxlU3BlYyhbJ2FiYyddKVxuZmFsc3kgIGlzRmlsZVNwZWMoWydhYmMnLCAnZGVmJywgJ2doaSddKVxuXG5EQkcgXCJnZXRTcmNJbmZvKClcIlxuXG5saWtlIGdldFNyY0luZm8oWydsaWJEaXInLCAnbGx1dGlscyddKSwge1xuXHRyZWxQYXRoOiAnc3JjL2xpYi9sbHV0aWxzLmNpdmV0J1xuXHRkaXJzcGVjOiAnbGliRGlyJ1xuXHRzdHViOiAnbGx1dGlscydcblx0cHVycG9zZTogdW5kZWZcblx0ZXh0OiAnLmNpdmV0J1xuXHR9XG5cbmxpa2UgZ2V0U3JjSW5mbygnc3JjL2xpYi9sbHV0aWxzLmNpdmV0JyksIHtcblx0cmVsUGF0aDogJ3NyYy9saWIvbGx1dGlscy5jaXZldCdcblx0ZGlyc3BlYzogJ2xpYkRpcidcblx0c3R1YjogJ2xsdXRpbHMnXG5cdHB1cnBvc2U6IHVuZGVmXG5cdGV4dDogJy5jaXZldCdcblx0fVxuXG5EQkcgXCJnZXRDb21waWxlcigpXCJcblxuKCgpID0+XG5cdGxJbmZvIDo9IGdldENvbXBpbGVyKCcuY2l2ZXQnKVxuXHR0cnV0aHkgZGVmaW5lZChsSW5mbylcblx0dHJ1dGh5IGlzQXJyYXkobEluZm8pXG5cdGVxdWFsIGxJbmZvLmxlbmd0aCwgMlxuXHQpKClcblxuREJHIFwiY29tcGlsZUZpbGUoKVwiXG5cbiMgICAgIG5vIHVuaXQgdGVzdHMgeWV0XG5cbkRCRyBcInVzZXJDb25maWdQYXRoKClcIlxuXG4oKCkgPT5cblx0ZGlyIDo9IERlbm8uY3dkKCkucmVwbGFjZUFsbCgnXFxcXCcsJy8nKVxuXHRlcXVhbCB1c2VyQ29uZmlnUGF0aCwgXCIje2Rpcn0vY29tcGlsZS5jb25maWcudHNcIlxuXHQpKClcbiJdfQ==