"use strict";
// compile-config.test.civet

import {
	undef, defined, notdefined,
	isArray,
	} from '../src/lib/datatypes.ts'
import {
	relpath,
	} from '../src/lib/fs.ts'
import {
	isConfigHash, installDenoExe, isStub, isDirSpec,
	findSourceFile,
	isFileSpec, getSrcInfo, getCompiler, compileFile,
	hDefaultConfig, userConfigPath, hCompilerConfig,
	configHash, foundSource, srcInfo, compileResult,
	} from '../src/lib/compile-config.ts'
import {
	equal, like, succeeds, fails, truthy, falsy,
	} from '@jdeighan/utils/unit-test'

// ---------------------------------------------------------------------------

// --- isConfigHash()
truthy(isConfigHash({
	hCompilers: {
		'.dot': {
			outExt: '.js',
			tester: () => true,
			compiler: () => 'result'
			},
		'.cielo': {
			outExt: '.js',
			tester: () => true,
			compiler: () => 'result'
			},
		'.civet': {
			outExt: '.js',
			tester: () => true,
			compiler: () => 'result'
			}
		},
	hPostProcessors: {
		'testDir': {},
		'libDir': {},
		'binDir': {}
		}
	}))

truthy(isConfigHash(hCompilerConfig))
truthy(isConfigHash(hDefaultConfig))

// --- installDenoExe()
//     No unit test yet

// --- isStub()
truthy(isStub('abc'))
falsy( isStub('.js'))
falsy( isStub('abc/deno'))
falsy( isStub('abc\\deno'))

// --- isDirSpec()
truthy(isDirSpec('testDir'))
truthy(isDirSpec('libDir'))
truthy(isDirSpec('binDir'))
falsy( isDirSpec('abc'))

// --- findSourceFile()
const hInfo = findSourceFile('libDir', 'llutils')
truthy(defined(hInfo))
if (hInfo !== undef) {
	equal(relpath(hInfo.path), 'src/lib/llutils.civet')
}

// --- isFileSpec()
truthy(isFileSpec(['abc', 'stub']))
falsy( isFileSpec(undef))
falsy( isFileSpec(42))
falsy( isFileSpec('abc'))
falsy( isFileSpec(['abc']))
falsy( isFileSpec(['abc', 'def', 'ghi']))

// --- getSrcInfo()
like(getSrcInfo(['libDir', 'llutils']), {
	relPath: 'src/lib/llutils.civet',
	dirspec: 'libDir',
	stub: 'llutils',
	purpose: undef,
	ext: '.civet'
	})

like(getSrcInfo('src/lib/llutils.civet'), {
	relPath: 'src/lib/llutils.civet',
	dirspec: 'libDir',
	stub: 'llutils',
	purpose: undef,
	ext: '.civet'
	});

// --- getCompiler()
(() => {
	const lInfo = getCompiler('.civet')
	truthy(defined(lInfo))
	truthy(isArray(lInfo))
	equal(lInfo.length, 2)
}
	)();

// --- compileFile()
//     no unit tests yet

// --- userConfigPath()
(() => {
	const dir = Deno.cwd().replaceAll('\\','/')
	equal(userConfigPath, `${dir}/compile.config.ts`)
}
	)()

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9jb21waWxlLWNvbmZpZy50ZXN0LmNpdmV0LnRzeCIsInNvdXJjZXMiOlsidGVzdC9jb21waWxlLWNvbmZpZy50ZXN0LmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsNEJBQTJCO0FBQzNCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUM7QUFDNUIsQ0FBQyxPQUFPLENBQUM7QUFDVCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMseUJBQXlCO0FBQ2pDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsT0FBTyxDQUFDO0FBQ1QsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLGtCQUFrQjtBQUMxQixBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLFlBQVksQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQztBQUNqRCxDQUFDLGNBQWMsQ0FBQztBQUNoQixDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLFdBQVcsQ0FBQztBQUNsRCxDQUFDLGNBQWMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLGVBQWUsQ0FBQztBQUNqRCxDQUFDLFVBQVUsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLGFBQWEsQ0FBQztBQUNqRCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsOEJBQThCO0FBQ3RDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQzdDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQywyQkFBMkI7QUFDbkMsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7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VSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7QUFDdkMsQUFBQSxDQUFDLEtBQUssQ0FBQSxBQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsa0JBQWtCLENBQUMsQztBQUFBLENBQUE7QUFDakQsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNKIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIGNvbXBpbGUtY29uZmlnLnRlc3QuY2l2ZXRcblxuaW1wb3J0IHtcblx0dW5kZWYsIGRlZmluZWQsIG5vdGRlZmluZWQsXG5cdGlzQXJyYXksXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi9kYXRhdHlwZXMudHMnXG5pbXBvcnQge1xuXHRyZWxwYXRoLFxuXHR9IGZyb20gJy4uL3NyYy9saWIvZnMudHMnXG5pbXBvcnQge1xuXHRpc0NvbmZpZ0hhc2gsIGluc3RhbGxEZW5vRXhlLCBpc1N0dWIsIGlzRGlyU3BlYyxcblx0ZmluZFNvdXJjZUZpbGUsXG5cdGlzRmlsZVNwZWMsIGdldFNyY0luZm8sIGdldENvbXBpbGVyLCBjb21waWxlRmlsZSxcblx0aERlZmF1bHRDb25maWcsIHVzZXJDb25maWdQYXRoLCBoQ29tcGlsZXJDb25maWcsXG5cdGNvbmZpZ0hhc2gsIGZvdW5kU291cmNlLCBzcmNJbmZvLCBjb21waWxlUmVzdWx0LFxuXHR9IGZyb20gJy4uL3NyYy9saWIvY29tcGlsZS1jb25maWcudHMnXG5pbXBvcnQge1xuXHRlcXVhbCwgbGlrZSwgc3VjY2VlZHMsIGZhaWxzLCB0cnV0aHksIGZhbHN5LFxuXHR9IGZyb20gJ0BqZGVpZ2hhbi91dGlscy91bml0LXRlc3QnXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiMgLS0tIGlzQ29uZmlnSGFzaCgpXG50cnV0aHkgaXNDb25maWdIYXNoKHtcblx0aENvbXBpbGVyczoge1xuXHRcdCcuZG90Jzoge1xuXHRcdFx0b3V0RXh0OiAnLmpzJ1xuXHRcdFx0dGVzdGVyOiAoKSA9PiB0cnVlXG5cdFx0XHRjb21waWxlcjogKCkgPT4gJ3Jlc3VsdCdcblx0XHRcdH1cblx0XHQnLmNpZWxvJzoge1xuXHRcdFx0b3V0RXh0OiAnLmpzJ1xuXHRcdFx0dGVzdGVyOiAoKSA9PiB0cnVlXG5cdFx0XHRjb21waWxlcjogKCkgPT4gJ3Jlc3VsdCdcblx0XHRcdH1cblx0XHQnLmNpdmV0Jzoge1xuXHRcdFx0b3V0RXh0OiAnLmpzJ1xuXHRcdFx0dGVzdGVyOiAoKSA9PiB0cnVlXG5cdFx0XHRjb21waWxlcjogKCkgPT4gJ3Jlc3VsdCdcblx0XHRcdH1cblx0XHR9XG5cdGhQb3N0UHJvY2Vzc29yczoge1xuXHRcdCd0ZXN0RGlyJzoge31cblx0XHQnbGliRGlyJzoge31cblx0XHQnYmluRGlyJzoge31cblx0XHR9XG5cdH0pXG5cbnRydXRoeSBpc0NvbmZpZ0hhc2goaENvbXBpbGVyQ29uZmlnKVxudHJ1dGh5IGlzQ29uZmlnSGFzaChoRGVmYXVsdENvbmZpZylcblxuIyAtLS0gaW5zdGFsbERlbm9FeGUoKVxuIyAgICAgTm8gdW5pdCB0ZXN0IHlldFxuXG4jIC0tLSBpc1N0dWIoKVxudHJ1dGh5IGlzU3R1YignYWJjJylcbmZhbHN5ICBpc1N0dWIoJy5qcycpXG5mYWxzeSAgaXNTdHViKCdhYmMvZGVubycpXG5mYWxzeSAgaXNTdHViKCdhYmNcXFxcZGVubycpXG5cbiMgLS0tIGlzRGlyU3BlYygpXG50cnV0aHkgaXNEaXJTcGVjKCd0ZXN0RGlyJylcbnRydXRoeSBpc0RpclNwZWMoJ2xpYkRpcicpXG50cnV0aHkgaXNEaXJTcGVjKCdiaW5EaXInKVxuZmFsc3kgIGlzRGlyU3BlYygnYWJjJylcblxuIyAtLS0gZmluZFNvdXJjZUZpbGUoKVxuaEluZm8gOj0gZmluZFNvdXJjZUZpbGUoJ2xpYkRpcicsICdsbHV0aWxzJylcbnRydXRoeSBkZWZpbmVkKGhJbmZvKVxuaWYgKGhJbmZvICE9IHVuZGVmKVxuXHRlcXVhbCByZWxwYXRoKGhJbmZvLnBhdGgpLCAnc3JjL2xpYi9sbHV0aWxzLmNpdmV0J1xuXG4jIC0tLSBpc0ZpbGVTcGVjKClcbnRydXRoeSBpc0ZpbGVTcGVjKFsnYWJjJywgJ3N0dWInXSlcbmZhbHN5ICBpc0ZpbGVTcGVjKHVuZGVmKVxuZmFsc3kgIGlzRmlsZVNwZWMoNDIpXG5mYWxzeSAgaXNGaWxlU3BlYygnYWJjJylcbmZhbHN5ICBpc0ZpbGVTcGVjKFsnYWJjJ10pXG5mYWxzeSAgaXNGaWxlU3BlYyhbJ2FiYycsICdkZWYnLCAnZ2hpJ10pXG5cbiMgLS0tIGdldFNyY0luZm8oKVxubGlrZSBnZXRTcmNJbmZvKFsnbGliRGlyJywgJ2xsdXRpbHMnXSksIHtcblx0cmVsUGF0aDogJ3NyYy9saWIvbGx1dGlscy5jaXZldCdcblx0ZGlyc3BlYzogJ2xpYkRpcidcblx0c3R1YjogJ2xsdXRpbHMnXG5cdHB1cnBvc2U6IHVuZGVmXG5cdGV4dDogJy5jaXZldCdcblx0fVxuXG5saWtlIGdldFNyY0luZm8oJ3NyYy9saWIvbGx1dGlscy5jaXZldCcpLCB7XG5cdHJlbFBhdGg6ICdzcmMvbGliL2xsdXRpbHMuY2l2ZXQnXG5cdGRpcnNwZWM6ICdsaWJEaXInXG5cdHN0dWI6ICdsbHV0aWxzJ1xuXHRwdXJwb3NlOiB1bmRlZlxuXHRleHQ6ICcuY2l2ZXQnXG5cdH1cblxuIyAtLS0gZ2V0Q29tcGlsZXIoKVxuKCgpID0+XG5cdGxJbmZvIDo9IGdldENvbXBpbGVyKCcuY2l2ZXQnKVxuXHR0cnV0aHkgZGVmaW5lZChsSW5mbylcblx0dHJ1dGh5IGlzQXJyYXkobEluZm8pXG5cdGVxdWFsIGxJbmZvLmxlbmd0aCwgMlxuXHQpKClcblxuIyAtLS0gY29tcGlsZUZpbGUoKVxuIyAgICAgbm8gdW5pdCB0ZXN0cyB5ZXRcblxuIyAtLS0gdXNlckNvbmZpZ1BhdGgoKVxuKCgpID0+XG5cdGRpciA6PSBEZW5vLmN3ZCgpLnJlcGxhY2VBbGwoJ1xcXFwnLCcvJylcblx0ZXF1YWwgdXNlckNvbmZpZ1BhdGgsIFwiI3tkaXJ9L2NvbXBpbGUuY29uZmlnLnRzXCJcblx0KSgpXG4iXX0=