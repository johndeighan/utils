"use strict";
// compile.lib.test.civet

import {
	undef, defined, notdefined, o, LOG, DBG,
	isArray, isFunction, relpath, getCmdArgs,
	removeFilesExcept, execCmd,
	setDirTree, isFile, TPathInfo, withExt,
	postProcessor, TCompilerInfo, TCompilerConfig,
	isPostProcessor, isCompilerInfo, isCompilerFunc,
	testerFunc, compilerFunc,
	isConfigHash, hDefaultConfig,
	userConfigPath, hCompilerConfig, loadCompilerConfig,
	installCmd, uninstallCmd, getPostProcessor,
	TCompileStatus, TCompileResult, compileFile,
	getCompilerGlobPattern, allCompilableFiles,
	runUnitTestsFor, runAllUnitTests, getCompilerInfo,
	execCmdSync, cmdSucceeds, rmFile,
	} from '../src/lib/utils.lib.ts'
import {
	equal, like, succeeds, fails, truthy, falsy,
	matches, isType, notType, listLike,
	} from '../src/lib/unit-test.lib.ts'

const hArgs = getCmdArgs()

// ---------------------------------------------------------------------------

const setup = (): void => {

	setDirTree('test/compile', `test1.cielo
	# test1.cielo

	LOG := (str) => console.log str
	LOG "Hello, World!"

test2.civet
	# test2.civet

	LOG := (str) => console.log str
	LOG "Hello, World!"

test3.coffee
	# test3.coffee

	LOG = (str) => console.log str
	LOG "Hello, World!"

graph.dot
	EE -> EO | OE | OO
	EO -> EE
	OE -> EE
	OO -> EE
hello.ts
	console.log("Hello, World!");
comp.config.ts
	import {withExt} from '../../src/lib/utils.lib.ts';
	export default {
		hCompilers: {
			'.test': {
				getOutPath: (path: string) => withExt(path, '.out'),
				tester: () => true,
				compiler: (path: string) => undefined
				}
			},
		hPostProcessors: {}
		}`, o`clear`)
	return
}

setup()

// ---------------------------------------------------------------------------

DBG("type testerFunc")

isType('testerFunc', () => {
	console.log("Hello, World!")
	return true
})

DBG("type compilerFunc")

isType('compilerFunc', (path: string) => {
	console.log(path)
	return
})

DBG("isCompilerFunc(func)")

truthy(isCompilerFunc((path: string) => undef))

DBG("type postProcessor");

(() => {
	const logit = (hInfo: TPathInfo) => {
		console.log("done")
		return
	}
	isType('postProcessor', logit)
}
	)()

DBG("isPostProcessor(func)")

truthy(isPostProcessor((hInfo: TPathInfo) => undef))

DBG("type TCompilerInfo")

isType('TCompilerInfo', {
	tester: () => true,
	compiler: (path: string) => { return },
	getOutPath: (path: string) => { return 'temp.ts' }
	})

DBG("isCompilerInfo(h)")

truthy(isCompilerInfo({
	tester: () => true,
	compiler: (path: string) => { return },
	getOutPath: (path: string) => { return 'temp.ts' }
	}))

DBG("type TCompilerConfig")

isType('TCompilerConfig', {
	hCompilers: {},
	hPostProcessors: {}
	})

DBG("isConfigHash()")

truthy(isConfigHash({
	hCompilers: {
		'.dot': {
			getOutPath: (path: string) => withExt(path, '.js'),
			tester: () => true,
			compiler: () => 'result'
			},
		'.cielo': {
			getOutPath: (path: string) => withExt(path, '.js'),
			tester: () => true,
			compiler: () => 'result'
			},
		'.civet': {
			getOutPath: (path: string) => withExt(path, '.js'),
			tester: () => true,
			compiler: () => 'result'
			}
		},
	hPostProcessors: {
		'test': (path: string) => undef,
		'lib': (path: string) => undef,
		'cmd': (path: string) => undef
		}
	}))

DBG("const hDefaultConfig")

truthy(isConfigHash(hDefaultConfig))

DBG("const hCompilerConfig")

equal(hCompilerConfig, hDefaultConfig)
truthy(isConfigHash(hCompilerConfig))

DBG("loadCompilerConfig(path)")

truthy(isConfigHash(await loadCompilerConfig('test/compile/comp.config.ts')))

DBG("installCmd()", "uninstallCmd()")

await installCmd('test/compile/hello.ts', 'hello')
const hResult = await execCmd('hello', [], o`collect`)
const str = hResult.stdout
equal(str, "Hello, World!\n")
await uninstallCmd('hello')

DBG("getCompilerInfo()")

truthy(isCompilerInfo(getCompilerInfo('.dot')))

DBG("getPostProcessor()");

(() => {
	const pp = getPostProcessor('test')
	truthy(defined(pp))
	truthy(isFunction(pp))
}
	)();

(() => {
	const pp = getPostProcessor('lib')
	truthy(defined(pp))
	truthy(isFunction(pp))
}
	)();

(() => {
	const pp = getPostProcessor('cmd')
	truthy(defined(pp))
	truthy(isFunction(pp))
}
	)()

DBG("type TCompileStatus")

isType('TCompileStatus', 'temp')
isType('TCompileStatus', 'exists')
isType('TCompileStatus', 'compiled')
notType('TCompileStatus', 'dummy')

DBG("type TCompileResult")

isType('TCompileResult', {
	status: 'compiled',
	path: 'test/temp.ts'

	})

DBG("compileFile()");

(() => {
	const hResult = compileFile('test/compile/test1.cielo', o`nopp`)
}
	// truthy isFile('test/compile/test1.civet')
	)()

DBG("getCompilerGlobPattern()")

equal(getCompilerGlobPattern(), "**/*{.svelte,.dot,.cielo,.civet}")

DBG("const userConfigPath");

(() => {
	matches(userConfigPath, /compiler\.config\.ts/)
	const dir = Deno.cwd().replaceAll('\\','/')
	equal(userConfigPath, `${dir}/compiler.config.ts`)
}
	)()

DBG("allCompilableFiles()");

(() => {
	const lInfo = Array.from(allCompilableFiles(o`root=test/compile`))
	const lFiles = lInfo.map((h) => h.fileName)
	equal(lFiles, [
		'graph.dot',
		'test1.cielo',
		'test2.civet'
		])
}
	)()

DBG("runUnitTestsFor(stub)");

(() => {
	const lResults = Array.from(runUnitTestsFor('llutils.lib'))
	listLike(lResults, [
		{stub: 'llutils.lib', success: true}
		])
}
	)()

DBG("runAllUnitTests()")

succeeds(() => {
	runAllUnitTests()
	return
})

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9jb21waWxlLmxpYi50ZXN0LmNpdmV0LnRzeCIsInNvdXJjZXMiOlsidGVzdC9jb21waWxlLmxpYi50ZXN0LmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEseUJBQXdCO0FBQ3hCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUM7QUFDekMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUM7QUFDMUMsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDLE9BQU8sQ0FBQztBQUM1QixDQUFDLFVBQVUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLE9BQU8sQ0FBQztBQUN4QyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLGVBQWUsQ0FBQztBQUMvQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLGNBQWMsQ0FBQztBQUNqRCxDQUFDLFVBQVUsQ0FBQyxDQUFDLFlBQVksQ0FBQztBQUMxQixDQUFDLFlBQVksQ0FBQyxDQUFDLGNBQWMsQ0FBQztBQUM5QixDQUFDLGNBQWMsQ0FBQyxDQUFDLGVBQWUsQ0FBQyxDQUFDLGtCQUFrQixDQUFDO0FBQ3JELENBQUMsVUFBVSxDQUFDLENBQUMsWUFBWSxDQUFDLENBQUMsZ0JBQWdCLENBQUM7QUFDNUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxXQUFXLENBQUM7QUFDN0MsQ0FBQyxzQkFBc0IsQ0FBQyxDQUFDLGtCQUFrQixDQUFDO0FBQzVDLENBQUMsZUFBZSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsZUFBZSxDQUFDO0FBQ25ELENBQUMsV0FBVyxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ2xD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QUFDLHVCQUF1QixDLENBQUE7QUFDM0IsQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFTLE1BQVIsUUFBUSxDQUFDLENBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxhQUFhLENBQUMsQ0FBQztBQUN2RCxBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztBQUNyQixBQUFBLEVBQUUsQ0FBQyxJQUFJLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDdEMsQUFBQSxFQUFFLENBQUMsQztBQUFBLENBQUE7QUFDSCxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxHQUFHLENBQUEsQUFBQyxtQkFBbUIsQ0FBQTtBQUN2QixBQUFBO0FBQ0EsQUFBQSxBQUFBLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ2QsQUFBQSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0FBQ2xCLEFBQUEsQ0FBQyxNO0FBQU0sQ0FBQSxDQUFBO0FBQ1AiLCJuYW1lcyI6W10sInNvdXJjZXNDb250ZW50IjpbIiMgY29tcGlsZS5saWIudGVzdC5jaXZldFxuXG5pbXBvcnQge1xuXHR1bmRlZiwgZGVmaW5lZCwgbm90ZGVmaW5lZCwgbywgTE9HLCBEQkcsXG5cdGlzQXJyYXksIGlzRnVuY3Rpb24sIHJlbHBhdGgsIGdldENtZEFyZ3MsXG5cdHJlbW92ZUZpbGVzRXhjZXB0LCBleGVjQ21kLFxuXHRzZXREaXJUcmVlLCBpc0ZpbGUsIFRQYXRoSW5mbywgd2l0aEV4dCxcblx0cG9zdFByb2Nlc3NvciwgVENvbXBpbGVySW5mbywgVENvbXBpbGVyQ29uZmlnLFxuXHRpc1Bvc3RQcm9jZXNzb3IsIGlzQ29tcGlsZXJJbmZvLCBpc0NvbXBpbGVyRnVuYyxcblx0dGVzdGVyRnVuYywgY29tcGlsZXJGdW5jLFxuXHRpc0NvbmZpZ0hhc2gsIGhEZWZhdWx0Q29uZmlnLFxuXHR1c2VyQ29uZmlnUGF0aCwgaENvbXBpbGVyQ29uZmlnLCBsb2FkQ29tcGlsZXJDb25maWcsXG5cdGluc3RhbGxDbWQsIHVuaW5zdGFsbENtZCwgZ2V0UG9zdFByb2Nlc3Nvcixcblx0VENvbXBpbGVTdGF0dXMsIFRDb21waWxlUmVzdWx0LCBjb21waWxlRmlsZSxcblx0Z2V0Q29tcGlsZXJHbG9iUGF0dGVybiwgYWxsQ29tcGlsYWJsZUZpbGVzLFxuXHRydW5Vbml0VGVzdHNGb3IsIHJ1bkFsbFVuaXRUZXN0cywgZ2V0Q29tcGlsZXJJbmZvLFxuXHRleGVjQ21kU3luYywgY21kU3VjY2VlZHMsIHJtRmlsZSxcblx0fSBmcm9tICcuLi9zcmMvbGliL3V0aWxzLmxpYi50cydcbmltcG9ydCB7XG5cdGVxdWFsLCBsaWtlLCBzdWNjZWVkcywgZmFpbHMsIHRydXRoeSwgZmFsc3ksXG5cdG1hdGNoZXMsIGlzVHlwZSwgbm90VHlwZSwgbGlzdExpa2UsXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi91bml0LXRlc3QubGliLnRzJ1xuXG5oQXJncyA6PSBnZXRDbWRBcmdzKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuc2V0dXAgOj0gKCk6IHZvaWQgPT5cblxuXHRzZXREaXJUcmVlKCd0ZXN0L2NvbXBpbGUnLCBcIlwiXCJcblx0XHR0ZXN0MS5jaWVsb1xuXHRcdFx0IyB0ZXN0MS5jaWVsb1xuXG5cdFx0XHRMT0cgOj0gKHN0cikgPT4gY29uc29sZS5sb2cgc3RyXG5cdFx0XHRMT0cgXCJIZWxsbywgV29ybGQhXCJcblxuXHRcdHRlc3QyLmNpdmV0XG5cdFx0XHQjIHRlc3QyLmNpdmV0XG5cblx0XHRcdExPRyA6PSAoc3RyKSA9PiBjb25zb2xlLmxvZyBzdHJcblx0XHRcdExPRyBcIkhlbGxvLCBXb3JsZCFcIlxuXG5cdFx0dGVzdDMuY29mZmVlXG5cdFx0XHQjIHRlc3QzLmNvZmZlZVxuXG5cdFx0XHRMT0cgPSAoc3RyKSA9PiBjb25zb2xlLmxvZyBzdHJcblx0XHRcdExPRyBcIkhlbGxvLCBXb3JsZCFcIlxuXG5cdFx0Z3JhcGguZG90XG5cdFx0XHRFRSAtPiBFTyB8IE9FIHwgT09cblx0XHRcdEVPIC0+IEVFXG5cdFx0XHRPRSAtPiBFRVxuXHRcdFx0T08gLT4gRUVcblx0XHRoZWxsby50c1xuXHRcdFx0Y29uc29sZS5sb2coXCJIZWxsbywgV29ybGQhXCIpO1xuXHRcdGNvbXAuY29uZmlnLnRzXG5cdFx0XHRpbXBvcnQge3dpdGhFeHR9IGZyb20gJy4uLy4uL3NyYy9saWIvdXRpbHMubGliLnRzJztcblx0XHRcdGV4cG9ydCBkZWZhdWx0IHtcblx0XHRcdFx0aENvbXBpbGVyczoge1xuXHRcdFx0XHRcdCcudGVzdCc6IHtcblx0XHRcdFx0XHRcdGdldE91dFBhdGg6IChwYXRoOiBzdHJpbmcpID0+IHdpdGhFeHQocGF0aCwgJy5vdXQnKSxcblx0XHRcdFx0XHRcdHRlc3RlcjogKCkgPT4gdHJ1ZSxcblx0XHRcdFx0XHRcdGNvbXBpbGVyOiAocGF0aDogc3RyaW5nKSA9PiB1bmRlZmluZWRcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRoUG9zdFByb2Nlc3NvcnM6IHt9XG5cdFx0XHRcdH1cblx0XHRcIlwiXCIsIG8nY2xlYXInKVxuXHRyZXR1cm5cblxuc2V0dXAoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5EQkcgXCJ0eXBlIHRlc3RlckZ1bmNcIlxuXG5pc1R5cGUgJ3Rlc3RlckZ1bmMnLCAoKSA9PlxuXHRjb25zb2xlLmxvZyBcIkhlbGxvLCBXb3JsZCFcIlxuXHRyZXR1cm4gdHJ1ZVxuXG5EQkcgXCJ0eXBlIGNvbXBpbGVyRnVuY1wiXG5cbmlzVHlwZSAnY29tcGlsZXJGdW5jJywgKHBhdGg6IHN0cmluZykgPT5cblx0Y29uc29sZS5sb2cgcGF0aFxuXHRyZXR1cm5cblxuREJHIFwiaXNDb21waWxlckZ1bmMoZnVuYylcIlxuXG50cnV0aHkgaXNDb21waWxlckZ1bmMoKHBhdGg6IHN0cmluZykgPT4gdW5kZWYpXG5cbkRCRyBcInR5cGUgcG9zdFByb2Nlc3NvclwiXG5cbigoKSA9PlxuXHRsb2dpdCA6PSAoaEluZm86IFRQYXRoSW5mbykgPT5cblx0XHRjb25zb2xlLmxvZyBcImRvbmVcIlxuXHRcdHJldHVyblxuXHRpc1R5cGUgJ3Bvc3RQcm9jZXNzb3InLCBsb2dpdFxuXHQpKClcblxuREJHIFwiaXNQb3N0UHJvY2Vzc29yKGZ1bmMpXCJcblxudHJ1dGh5IGlzUG9zdFByb2Nlc3NvcigoaEluZm86IFRQYXRoSW5mbykgPT4gdW5kZWYpXG5cbkRCRyBcInR5cGUgVENvbXBpbGVySW5mb1wiXG5cbmlzVHlwZSAnVENvbXBpbGVySW5mbycsIHtcblx0dGVzdGVyOiAoKSA9PiB0cnVlLFxuXHRjb21waWxlcjogKHBhdGg6IHN0cmluZykgPT4gcmV0dXJuLFxuXHRnZXRPdXRQYXRoOiAocGF0aDogc3RyaW5nKSA9PiByZXR1cm4gJ3RlbXAudHMnXG5cdH1cblxuREJHIFwiaXNDb21waWxlckluZm8oaClcIlxuXG50cnV0aHkgaXNDb21waWxlckluZm8oe1xuXHR0ZXN0ZXI6ICgpID0+IHRydWUsXG5cdGNvbXBpbGVyOiAocGF0aDogc3RyaW5nKSA9PiByZXR1cm4sXG5cdGdldE91dFBhdGg6IChwYXRoOiBzdHJpbmcpID0+IHJldHVybiAndGVtcC50cydcblx0fSlcblxuREJHIFwidHlwZSBUQ29tcGlsZXJDb25maWdcIlxuXG5pc1R5cGUgJ1RDb21waWxlckNvbmZpZycsIHtcblx0aENvbXBpbGVyczoge31cblx0aFBvc3RQcm9jZXNzb3JzOiB7fVxuXHR9XG5cbkRCRyBcImlzQ29uZmlnSGFzaCgpXCJcblxudHJ1dGh5IGlzQ29uZmlnSGFzaCh7XG5cdGhDb21waWxlcnM6IHtcblx0XHQnLmRvdCc6IHtcblx0XHRcdGdldE91dFBhdGg6IChwYXRoOiBzdHJpbmcpID0+IHdpdGhFeHQocGF0aCwgJy5qcycpXG5cdFx0XHR0ZXN0ZXI6ICgpID0+IHRydWVcblx0XHRcdGNvbXBpbGVyOiAoKSA9PiAncmVzdWx0J1xuXHRcdFx0fVxuXHRcdCcuY2llbG8nOiB7XG5cdFx0XHRnZXRPdXRQYXRoOiAocGF0aDogc3RyaW5nKSA9PiB3aXRoRXh0KHBhdGgsICcuanMnKVxuXHRcdFx0dGVzdGVyOiAoKSA9PiB0cnVlXG5cdFx0XHRjb21waWxlcjogKCkgPT4gJ3Jlc3VsdCdcblx0XHRcdH1cblx0XHQnLmNpdmV0Jzoge1xuXHRcdFx0Z2V0T3V0UGF0aDogKHBhdGg6IHN0cmluZykgPT4gd2l0aEV4dChwYXRoLCAnLmpzJylcblx0XHRcdHRlc3RlcjogKCkgPT4gdHJ1ZVxuXHRcdFx0Y29tcGlsZXI6ICgpID0+ICdyZXN1bHQnXG5cdFx0XHR9XG5cdFx0fVxuXHRoUG9zdFByb2Nlc3NvcnM6IHtcblx0XHQndGVzdCc6IChwYXRoOiBzdHJpbmcpID0+IHVuZGVmXG5cdFx0J2xpYic6IChwYXRoOiBzdHJpbmcpID0+IHVuZGVmXG5cdFx0J2NtZCc6IChwYXRoOiBzdHJpbmcpID0+IHVuZGVmXG5cdFx0fVxuXHR9KVxuXG5EQkcgXCJjb25zdCBoRGVmYXVsdENvbmZpZ1wiXG5cbnRydXRoeSBpc0NvbmZpZ0hhc2goaERlZmF1bHRDb25maWcpXG5cbkRCRyBcImNvbnN0IGhDb21waWxlckNvbmZpZ1wiXG5cbmVxdWFsIGhDb21waWxlckNvbmZpZywgaERlZmF1bHRDb25maWdcbnRydXRoeSBpc0NvbmZpZ0hhc2goaENvbXBpbGVyQ29uZmlnKVxuXG5EQkcgXCJsb2FkQ29tcGlsZXJDb25maWcocGF0aClcIlxuXG50cnV0aHkgaXNDb25maWdIYXNoKGF3YWl0IGxvYWRDb21waWxlckNvbmZpZygndGVzdC9jb21waWxlL2NvbXAuY29uZmlnLnRzJykpXG5cbkRCRyBcImluc3RhbGxDbWQoKVwiLCBcInVuaW5zdGFsbENtZCgpXCJcblxuYXdhaXQgaW5zdGFsbENtZCAndGVzdC9jb21waWxlL2hlbGxvLnRzJywgJ2hlbGxvJ1xuaFJlc3VsdCA6PSBhd2FpdCBleGVjQ21kICdoZWxsbycsIFtdLCBvJ2NvbGxlY3QnXG5zdHIgOj0gaFJlc3VsdC5zdGRvdXRcbmVxdWFsIHN0ciwgXCJIZWxsbywgV29ybGQhXFxuXCJcbmF3YWl0IHVuaW5zdGFsbENtZCAnaGVsbG8nXG5cbkRCRyBcImdldENvbXBpbGVySW5mbygpXCJcblxudHJ1dGh5IGlzQ29tcGlsZXJJbmZvKGdldENvbXBpbGVySW5mbygnLmRvdCcpKVxuXG5EQkcgXCJnZXRQb3N0UHJvY2Vzc29yKClcIlxuXG4oKCkgPT5cblx0cHAgOj0gZ2V0UG9zdFByb2Nlc3NvcigndGVzdCcpXG5cdHRydXRoeSBkZWZpbmVkKHBwKVxuXHR0cnV0aHkgaXNGdW5jdGlvbihwcClcblx0KSgpXG5cbigoKSA9PlxuXHRwcCA6PSBnZXRQb3N0UHJvY2Vzc29yKCdsaWInKVxuXHR0cnV0aHkgZGVmaW5lZChwcClcblx0dHJ1dGh5IGlzRnVuY3Rpb24ocHApXG5cdCkoKVxuXG4oKCkgPT5cblx0cHAgOj0gZ2V0UG9zdFByb2Nlc3NvcignY21kJylcblx0dHJ1dGh5IGRlZmluZWQocHApXG5cdHRydXRoeSBpc0Z1bmN0aW9uKHBwKVxuXHQpKClcblxuREJHIFwidHlwZSBUQ29tcGlsZVN0YXR1c1wiXG5cbmlzVHlwZSAnVENvbXBpbGVTdGF0dXMnLCAndGVtcCdcbmlzVHlwZSAnVENvbXBpbGVTdGF0dXMnLCAnZXhpc3RzJ1xuaXNUeXBlICdUQ29tcGlsZVN0YXR1cycsICdjb21waWxlZCdcbm5vdFR5cGUgJ1RDb21waWxlU3RhdHVzJywgJ2R1bW15J1xuXG5EQkcgXCJ0eXBlIFRDb21waWxlUmVzdWx0XCJcblxuaXNUeXBlICdUQ29tcGlsZVJlc3VsdCcsIHtcblx0c3RhdHVzOiAnY29tcGlsZWQnXG5cdHBhdGg6ICd0ZXN0L3RlbXAudHMnXG5cblx0fVxuXG5EQkcgXCJjb21waWxlRmlsZSgpXCJcblxuKCgpID0+XG5cdGhSZXN1bHQgOj0gY29tcGlsZUZpbGUoJ3Rlc3QvY29tcGlsZS90ZXN0MS5jaWVsbycsIG8nbm9wcCcpXG5cdCMgdHJ1dGh5IGlzRmlsZSgndGVzdC9jb21waWxlL3Rlc3QxLmNpdmV0Jylcblx0KSgpXG5cbkRCRyBcImdldENvbXBpbGVyR2xvYlBhdHRlcm4oKVwiXG5cbmVxdWFsIGdldENvbXBpbGVyR2xvYlBhdHRlcm4oKSwgXCIqKi8qey5zdmVsdGUsLmRvdCwuY2llbG8sLmNpdmV0fVwiXG5cbkRCRyBcImNvbnN0IHVzZXJDb25maWdQYXRoXCJcblxuKCgpID0+XG5cdG1hdGNoZXMgdXNlckNvbmZpZ1BhdGgsIC9jb21waWxlclxcLmNvbmZpZ1xcLnRzL1xuXHRkaXIgOj0gRGVuby5jd2QoKS5yZXBsYWNlQWxsKCdcXFxcJywnLycpXG5cdGVxdWFsIHVzZXJDb25maWdQYXRoLCBcIiN7ZGlyfS9jb21waWxlci5jb25maWcudHNcIlxuXHQpKClcblxuREJHIFwiYWxsQ29tcGlsYWJsZUZpbGVzKClcIlxuXG4oKCkgPT5cblx0bEluZm8gOj0gQXJyYXkuZnJvbShhbGxDb21waWxhYmxlRmlsZXMobydyb290PXRlc3QvY29tcGlsZScpKVxuXHRsRmlsZXMgOj0gbEluZm8ubWFwKChoKSA9PiBoLmZpbGVOYW1lKVxuXHRlcXVhbCBsRmlsZXMsIFtcblx0XHQnZ3JhcGguZG90J1xuXHRcdCd0ZXN0MS5jaWVsbydcblx0XHQndGVzdDIuY2l2ZXQnXG5cdFx0XVxuXHQpKClcblxuREJHIFwicnVuVW5pdFRlc3RzRm9yKHN0dWIpXCJcblxuKCgpID0+XG5cdGxSZXN1bHRzIDo9IEFycmF5LmZyb20ocnVuVW5pdFRlc3RzRm9yKCdsbHV0aWxzLmxpYicpKVxuXHRsaXN0TGlrZSBsUmVzdWx0cywgW1xuXHRcdHtzdHViOiAnbGx1dGlscy5saWInLCBzdWNjZXNzOiB0cnVlfVxuXHRcdF1cblx0KSgpXG5cbkRCRyBcInJ1bkFsbFVuaXRUZXN0cygpXCJcblxuc3VjY2VlZHMgKCkgPT5cblx0cnVuQWxsVW5pdFRlc3RzKClcblx0cmV0dXJuXG4iXX0=