"use strict";
// tokens.lib.test.civet

import {
	DBG, allLinesInBlock,
	} from '../src/lib/utils.lib.ts'
import {
	Token, tokenGenerator,
	allTokensIn, allTokensInBlock, tokenTable,
	} from '../src/lib/tokens.lib.ts'
import {
	equal, listLike, isType,
	} from '../src/lib/unit-test.lib.ts'

// ---------------------------------------------------------------------------

DBG("type Token")

isType('Token', {kind: 'xxx', str: 'yyy'})

DBG("type tokenGenerator");

(() => {
	const identGen = function*(line: string) {
		yield {kind: 'line', str: line}
		return
	}
	isType('tokenGenerator', identGen)
}
	)()

DBG("allTokensIn()")

listLike(Array.from(allTokensIn(allLinesInBlock("abc\ndef"))), [
	{kind: 'line', str: 'abc'},
	{kind: 'line', str: 'def'}
	])

DBG("allTokensInBlock()")

listLike(Array.from(allTokensInBlock(`abc
def`)), [
	{kind: 'line', str: 'abc'},
	{kind: 'line', str: 'def'}
	])

listLike(Array.from(allTokensInBlock("abc\n\tdef")), [
	{kind: 'line', str: 'abc'},
	{kind: 'indent'},
	{kind: 'line', str: 'def'},
	{kind: 'undent'}
	])

listLike(Array.from(allTokensInBlock(`abc
	def
	ghi
jkl
	mno
		pqr`)), [
	{kind: 'line', str: 'abc'},
	{kind: 'indent'},
	{kind: 'line', str: 'def'},
	{kind: 'line', str: 'ghi'},
	{kind: 'undent'},
	{kind: 'line', str: 'jkl'},
	{kind: 'indent'},
	{kind: 'line', str: 'mno'},
	{kind: 'indent'},
	{kind: 'line', str: 'pqr'},
	{kind: 'undent'},
	{kind: 'undent'}
	])

listLike(Array.from(allTokensInBlock(`abc
	def
	ghi
jkl
	mno
		pqr
`)), [
	{kind: 'line', str: 'abc'},
	{kind: 'indent'},
	{kind: 'line', str: 'def'},
	{kind: 'line', str: 'ghi'},
	{kind: 'undent'},
	{kind: 'line', str: 'jkl'},
	{kind: 'indent'},
	{kind: 'line', str: 'mno'},
	{kind: 'indent'},
	{kind: 'line', str: 'pqr'},
	{kind: 'undent'},
	{kind: 'undent'}
	])

listLike(Array.from(allTokensInBlock(`abc
	def
	ghi

jkl
	mno
		pqr`)), [
	{kind: 'line',  str: 'abc'},
	{kind: 'indent'},
	{kind: 'line',  str: 'def'},
	{kind: 'line',  str: 'ghi'},
	{kind: 'empty', str: ''},
	{kind: 'undent'},
	{kind: 'line',  str: 'jkl'},
	{kind: 'indent'},
	{kind: 'line',  str: 'mno'},
	{kind: 'indent'},
	{kind: 'line',  str: 'pqr'},
	{kind: 'undent'},
	{kind: 'undent'}
	]);

(() => {
	const charGenerator: tokenGenerator = function*(line: string) {
		for (const ch of line) {
			yield {kind: 'char', str: ch}
		}
		return
	}

	listLike(Array.from(allTokensInBlock(`abc
	def`, charGenerator)), [
		{ kind: "char", str: "a" },
		{ kind: "char", str: "b" },
		{ kind: "char", str: "c" },
		{ kind: "indent"},
		{ kind: "char", str: "d" },
		{ kind: "char", str: "e" },
		{ kind: "char", str: "f" },
		{ kind: "undent"}
		])
}
	)()

DBG("tokenTable()")

equal(tokenTable([
	{kind: 'line',   str: 'abc'},
	{kind: 'indent', str: ''},
	{kind: 'line',   str: 'def'},
	{kind: 'undent', str: ''}
	]), `==========
  Tokens
==========
 kind  str
------ ---
line   abc
indent
line   def
undent
==========`)


//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC90b2tlbnMubGliLnRlc3QuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJ0ZXN0L3Rva2Vucy5saWIudGVzdC5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLHdCQUF1QjtBQUN2QixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsR0FBRyxDQUFDLENBQUMsZUFBZSxDQUFDO0FBQ3RCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyx5QkFBeUI7QUFDakMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxjQUFjLENBQUM7QUFDdkIsQ0FBQyxXQUFXLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLFVBQVUsQ0FBQztBQUMzQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsMEJBQTBCO0FBQ2xDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsTUFBTSxDQUFDO0FBQ3pCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyw2QkFBNkI7QUFDckMsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLEFBQUEsR0FBRyxDQUFBLEFBQUMsWUFBWSxDQUFBO0FBQ2hCLEFBQUE7QUFDQSxBQUFBLEFBQUEsTUFBTSxDQUFBLEFBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUN6QyxBQUFBO0FBQ0EsQUFBQSxBQUFBLEdBQUcsQ0FBQSxBQUFDLHFCQUFxQixDLENBQUE7QUFDekIsQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFTLE1BQVIsUUFBUSxDQUFDLENBQUUsQ0FBZ0IsUSxDQUFmLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFJLENB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QUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzNCLEFBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ2pCLEFBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzNCLEFBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ2pCLEFBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFBO0FBQzNCLEFBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ2pCLEFBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQztBQUNqQixBQUFBLENBQUMsQ0FBQyxDQUFBO0FBQ0YsQUFBQTtBQUNBLEFBQUEsQUFBQSxRQUFRLENBQUEsQUFBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEFBRUMsQ0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDVCxBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUMzQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNqQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUMzQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUMzQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNqQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUMzQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNqQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUMzQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNqQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQTtBQUMzQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQTtBQUNqQixBQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUM7QUFDakIsQUFBQSxDQUFDLENBQUMsQ0FBQTtBQUNGLEFBQUE7QUFDQSxBQUFBLEFBQUEsUUFBUSxDQUFBLEFBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFHO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUVDLENBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ1QsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDNUIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDakIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDNUIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDNUIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUE7QUFDekIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDakIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDNUIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDakIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDNUIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDakIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDNUIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUE7QUFDakIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQ2pCLEFBQUEsQ0FBQyxDQUFDLEMsQ0FBQTtBQUNGLEFBQUE7QUFDQSxBQUFBLEFBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNOLEFBQUEsQ0FBOEIsTUFBN0IsYUFBYSxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUUsQ0FBZ0IsUSxDQUFmLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFJLENBQUEsQ0FBQTtBQUNuRCxBQUFBLEVBQUUsR0FBRyxDQUFDLENBQUEsTUFBQSxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQSxDQUFBLENBQUE7QUFDaEIsQUFBQSxHQUFHLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQztFQUFDLENBQUE7QUFDaEMsQUFBQSxFQUFFLE07Q0FBTSxDQUFBO0FBQ1IsQUFBQTtBQUNBLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUc7QUFDekMsSUFFRSxDQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN6QixBQUFBLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7QUFDNUIsQUFBQSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO0FBQzVCLEFBQUEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtBQUM1QixBQUFBLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFBO0FBQ25CLEFBQUEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtBQUM1QixBQUFBLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUE7QUFDNUIsQUFBQSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFBO0FBQzVCLEFBQUEsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQ25CLEFBQUEsRUFBRSxDQUFDLEM7QUFBQSxDQUFBO0FBQ0gsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNKLEFBQUE7QUFDQSxBQUFBLEFBQUEsR0FBRyxDQUFBLEFBQUMsY0FBYyxDQUFBO0FBQ2xCLEFBQUE7QUFDQSxBQUFBLEFBQUEsS0FBSyxDQUFBLEFBQUMsVUFBVSxDQUFDLENBQUM7QUFDbEIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDN0IsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUE7QUFDMUIsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDN0IsQUFBQSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQzFCLEFBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUc7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFFQyxDQUFHLENBQUE7QUFDSjtBQUNBIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIHRva2Vucy5saWIudGVzdC5jaXZldFxuXG5pbXBvcnQge1xuXHREQkcsIGFsbExpbmVzSW5CbG9jayxcblx0fSBmcm9tICcuLi9zcmMvbGliL3V0aWxzLmxpYi50cydcbmltcG9ydCB7XG5cdFRva2VuLCB0b2tlbkdlbmVyYXRvcixcblx0YWxsVG9rZW5zSW4sIGFsbFRva2Vuc0luQmxvY2ssIHRva2VuVGFibGUsXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi90b2tlbnMubGliLnRzJ1xuaW1wb3J0IHtcblx0ZXF1YWwsIGxpc3RMaWtlLCBpc1R5cGUsXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi91bml0LXRlc3QubGliLnRzJ1xuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5EQkcgXCJ0eXBlIFRva2VuXCJcblxuaXNUeXBlICdUb2tlbicsIHtraW5kOiAneHh4Jywgc3RyOiAneXl5J31cblxuREJHIFwidHlwZSB0b2tlbkdlbmVyYXRvclwiXG5cbigoKSA9PlxuXHRpZGVudEdlbiA6PSAobGluZTogc3RyaW5nKSAtPlxuXHRcdHlpZWxkIHtraW5kOiAnbGluZScsIHN0cjogbGluZX1cblx0XHRyZXR1cm5cblx0aXNUeXBlICd0b2tlbkdlbmVyYXRvcicsIGlkZW50R2VuXG5cdCkoKVxuXG5EQkcgXCJhbGxUb2tlbnNJbigpXCJcblxubGlzdExpa2UgQXJyYXkuZnJvbShhbGxUb2tlbnNJbihhbGxMaW5lc0luQmxvY2soXCJhYmNcXG5kZWZcIikpKSwgW1xuXHR7a2luZDogJ2xpbmUnLCBzdHI6ICdhYmMnfVxuXHR7a2luZDogJ2xpbmUnLCBzdHI6ICdkZWYnfVxuXHRdXG5cbkRCRyBcImFsbFRva2Vuc0luQmxvY2soKVwiXG5cbmxpc3RMaWtlIEFycmF5LmZyb20oYWxsVG9rZW5zSW5CbG9jayhcIlwiXCJcblx0YWJjXG5cdGRlZlxuXHRcIlwiXCIpKSwgW1xuXHR7a2luZDogJ2xpbmUnLCBzdHI6ICdhYmMnfVxuXHR7a2luZDogJ2xpbmUnLCBzdHI6ICdkZWYnfVxuXHRdXG5cbmxpc3RMaWtlIEFycmF5LmZyb20oYWxsVG9rZW5zSW5CbG9jayhcImFiY1xcblxcdGRlZlwiKSksIFtcblx0e2tpbmQ6ICdsaW5lJywgc3RyOiAnYWJjJ31cblx0e2tpbmQ6ICdpbmRlbnQnfVxuXHR7a2luZDogJ2xpbmUnLCBzdHI6ICdkZWYnfVxuXHR7a2luZDogJ3VuZGVudCd9XG5cdF1cblxubGlzdExpa2UgQXJyYXkuZnJvbShhbGxUb2tlbnNJbkJsb2NrKFwiXCJcIlxuXHRhYmNcblx0XHRkZWZcblx0XHRnaGlcblx0amtsXG5cdFx0bW5vXG5cdFx0XHRwcXJcblx0XCJcIlwiKSksIFtcblx0e2tpbmQ6ICdsaW5lJywgc3RyOiAnYWJjJ31cblx0e2tpbmQ6ICdpbmRlbnQnfVxuXHR7a2luZDogJ2xpbmUnLCBzdHI6ICdkZWYnfVxuXHR7a2luZDogJ2xpbmUnLCBzdHI6ICdnaGknfVxuXHR7a2luZDogJ3VuZGVudCd9XG5cdHtraW5kOiAnbGluZScsIHN0cjogJ2prbCd9XG5cdHtraW5kOiAnaW5kZW50J31cblx0e2tpbmQ6ICdsaW5lJywgc3RyOiAnbW5vJ31cblx0e2tpbmQ6ICdpbmRlbnQnfVxuXHR7a2luZDogJ2xpbmUnLCBzdHI6ICdwcXInfVxuXHR7a2luZDogJ3VuZGVudCd9XG5cdHtraW5kOiAndW5kZW50J31cblx0XVxuXG5saXN0TGlrZSBBcnJheS5mcm9tKGFsbFRva2Vuc0luQmxvY2soXCJcIlwiXG5cdGFiY1xuXHRcdGRlZlxuXHRcdGdoaVxuXHRqa2xcblx0XHRtbm9cblx0XHRcdHBxclxuXG5cdFwiXCJcIikpLCBbXG5cdHtraW5kOiAnbGluZScsIHN0cjogJ2FiYyd9XG5cdHtraW5kOiAnaW5kZW50J31cblx0e2tpbmQ6ICdsaW5lJywgc3RyOiAnZGVmJ31cblx0e2tpbmQ6ICdsaW5lJywgc3RyOiAnZ2hpJ31cblx0e2tpbmQ6ICd1bmRlbnQnfVxuXHR7a2luZDogJ2xpbmUnLCBzdHI6ICdqa2wnfVxuXHR7a2luZDogJ2luZGVudCd9XG5cdHtraW5kOiAnbGluZScsIHN0cjogJ21ubyd9XG5cdHtraW5kOiAnaW5kZW50J31cblx0e2tpbmQ6ICdsaW5lJywgc3RyOiAncHFyJ31cblx0e2tpbmQ6ICd1bmRlbnQnfVxuXHR7a2luZDogJ3VuZGVudCd9XG5cdF1cblxubGlzdExpa2UgQXJyYXkuZnJvbShhbGxUb2tlbnNJbkJsb2NrKFwiXCJcIlxuXHRhYmNcblx0XHRkZWZcblx0XHRnaGlcblxuXHRqa2xcblx0XHRtbm9cblx0XHRcdHBxclxuXHRcIlwiXCIpKSwgW1xuXHR7a2luZDogJ2xpbmUnLCAgc3RyOiAnYWJjJ31cblx0e2tpbmQ6ICdpbmRlbnQnfVxuXHR7a2luZDogJ2xpbmUnLCAgc3RyOiAnZGVmJ31cblx0e2tpbmQ6ICdsaW5lJywgIHN0cjogJ2doaSd9XG5cdHtraW5kOiAnZW1wdHknLCBzdHI6ICcnfVxuXHR7a2luZDogJ3VuZGVudCd9XG5cdHtraW5kOiAnbGluZScsICBzdHI6ICdqa2wnfVxuXHR7a2luZDogJ2luZGVudCd9XG5cdHtraW5kOiAnbGluZScsICBzdHI6ICdtbm8nfVxuXHR7a2luZDogJ2luZGVudCd9XG5cdHtraW5kOiAnbGluZScsICBzdHI6ICdwcXInfVxuXHR7a2luZDogJ3VuZGVudCd9XG5cdHtraW5kOiAndW5kZW50J31cblx0XVxuXG4oKCkgPT5cblx0Y2hhckdlbmVyYXRvcjogdG9rZW5HZW5lcmF0b3IgOj0gKGxpbmU6IHN0cmluZykgLT5cblx0XHRmb3IgY2ggb2YgbGluZVxuXHRcdFx0eWllbGQge2tpbmQ6ICdjaGFyJywgc3RyOiBjaH1cblx0XHRyZXR1cm5cblxuXHRsaXN0TGlrZSBBcnJheS5mcm9tKGFsbFRva2Vuc0luQmxvY2soXCJcIlwiXG5cdFx0YWJjXG5cdFx0XHRkZWZcblx0XHRcIlwiXCIsIGNoYXJHZW5lcmF0b3IpKSwgW1xuXHRcdHsga2luZDogXCJjaGFyXCIsIHN0cjogXCJhXCIgfVxuXHRcdHsga2luZDogXCJjaGFyXCIsIHN0cjogXCJiXCIgfVxuXHRcdHsga2luZDogXCJjaGFyXCIsIHN0cjogXCJjXCIgfVxuXHRcdHsga2luZDogXCJpbmRlbnRcIn1cblx0XHR7IGtpbmQ6IFwiY2hhclwiLCBzdHI6IFwiZFwiIH1cblx0XHR7IGtpbmQ6IFwiY2hhclwiLCBzdHI6IFwiZVwiIH1cblx0XHR7IGtpbmQ6IFwiY2hhclwiLCBzdHI6IFwiZlwiIH1cblx0XHR7IGtpbmQ6IFwidW5kZW50XCJ9XG5cdFx0XVxuXHQpKClcblxuREJHIFwidG9rZW5UYWJsZSgpXCJcblxuZXF1YWwgdG9rZW5UYWJsZShbXG5cdHtraW5kOiAnbGluZScsICAgc3RyOiAnYWJjJ31cblx0e2tpbmQ6ICdpbmRlbnQnLCBzdHI6ICcnfVxuXHR7a2luZDogJ2xpbmUnLCAgIHN0cjogJ2RlZid9XG5cdHtraW5kOiAndW5kZW50Jywgc3RyOiAnJ31cblx0XSksIFwiXCJcIlxuXHQ9PT09PT09PT09XG5cdCAgVG9rZW5zXG5cdD09PT09PT09PT1cblx0IGtpbmQgIHN0clxuXHQtLS0tLS0gLS0tXG5cdGxpbmUgICBhYmNcblx0aW5kZW50XG5cdGxpbmUgICBkZWZcblx0dW5kZW50XG5cdD09PT09PT09PT1cblx0XCJcIlwiXG5cbiJdfQ==