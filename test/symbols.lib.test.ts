"use strict";
// symbols.lib.test.civet

import {
	undef, LOG, DBG, loadSymbols,
	sourceLib, libsAndSymbols, getNeededImportStmts,
	} from '../src/lib/utils.lib.ts'
import {
	equal, succeeds,
	} from '../src/lib/unit-test.lib.ts'


// ---------------------------------------------------------------------------

DBG("loadSymbols()");

(() => {
	const myMap = loadSymbols(`datatypes.lib.ts
	undef defined
indent.lib.ts
	splitLine`)

	equal(sourceLib('undef', myMap), 'datatypes.lib.ts')
	equal(sourceLib('defined', myMap), 'datatypes.lib.ts')
	equal(sourceLib('splitLine', myMap), 'indent.lib.ts')
	equal(sourceLib('dummy', myMap), undef)
}
	)()

DBG("sourceLib()");

(() => {
	const myMap = new Map([['x', 'temp.ts'],['y', 'dummy.ts']])
	equal(sourceLib('x', myMap), 'temp.ts')
	equal(sourceLib('y', myMap), 'dummy.ts')
}
	)()

equal(sourceLib('defined'), 'src/lib/datatypes.lib.ts')
equal(sourceLib('isArray'), 'src/lib/datatypes.lib.ts')

equal(sourceLib('array'), 'src/lib/datatypes.lib.ts')
equal(sourceLib('hash'), 'src/lib/datatypes.lib.ts')

DBG("libsAndSymbols()")

equal(libsAndSymbols(['defined','array']), {
	'src/lib/datatypes.lib.ts': ['defined','array']
	})
equal(libsAndSymbols(['defined','splitLine']), {
	'src/lib/datatypes.lib.ts': ['defined'],
	'src/lib/indent.lib.ts': ['splitLine']
	})

DBG("getNeededImportStmts()")

equal(getNeededImportStmts(['defined','array']), [
	"import {defined, array} from './src/lib/datatypes.lib.ts';"
	])
equal(getNeededImportStmts(['arrayof','integer']), [
	"import {arrayof, integer} from './src/lib/datatypes.lib.ts';"
	])

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9zeW1ib2xzLmxpYi50ZXN0LmNpdmV0LnRzeCIsInNvdXJjZXMiOlsidGVzdC9zeW1ib2xzLmxpYi50ZXN0LmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEseUJBQXdCO0FBQ3hCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxXQUFXLENBQUM7QUFDOUIsQ0FBQyxTQUFTLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxvQkFBb0IsQ0FBQztBQUNqRCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMseUJBQXlCO0FBQ2pDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsUUFBUSxDQUFDO0FBQ2pCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyw2QkFBNkI7QUFDckMsQUFBQTtBQUNBLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBO0FBQ0EsQUFBQSxBQUFBLEdBQUcsQ0FBQSxBQUFDLGVBQWUsQyxDQUFBO0FBQ25CLEFBQUE7QUFDQSxBQUFBLEFBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNOLEFBQUEsQ0FBTSxNQUFMLEtBQUssQ0FBQyxDQUFFLENBQUMsV0FBVyxDQUFDLENBQUc7QUFDekI7QUFDQTtBQUNBLFVBRUUsQ0FBRyxDQUFDO0FBQ04sQUFBQTtBQUNBLEFBQUEsQ0FBQyxLQUFLLENBQUEsQUFBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQTtBQUNwRCxBQUFBLENBQUMsS0FBSyxDQUFBLEFBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsa0JBQWtCLENBQUE7QUFDdEQsQUFBQSxDQUFDLEtBQUssQ0FBQSxBQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLGVBQWUsQ0FBQTtBQUNyRCxBQUFBLENBQUMsS0FBSyxDQUFBLEFBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxDO0FBQUEsQ0FBQTtBQUN2QyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxHQUFHLENBQUEsQUFBQyxhQUFhLEMsQ0FBQTtBQUNqQixBQUFBO0FBQ0EsQUFBQSxBQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDTixBQUFBLENBQU0sTUFBTCxLQUFLLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztBQUN2RCxBQUFBLENBQUMsS0FBSyxDQUFBLEFBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFBO0FBQ3ZDLEFBQUEsQ0FBQyxLQUFLLENBQUEsQUFBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxVQUFVLEM7QUFBQSxDQUFBO0FBQ3hDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDSixBQUFBO0FBQ0EsQUFBQSxBQUFBLEtBQUssQ0FBQSxBQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLDBCQUEwQixDQUFBO0FBQ3RELEFBQUEsQUFBQSxLQUFLLENBQUEsQUFBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQywwQkFBMEIsQ0FBQTtBQUN0RCxBQUFBO0FBQ0EsQUFBQSxBQUFBLEtBQUssQ0FBQSxBQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLDBCQUEwQixDQUFBO0FBQ3BELEFBQUEsQUFBQSxLQUFLLENBQUEsQUFBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQywwQkFBMEIsQ0FBQTtBQUNuRCxBQUFBO0FBQ0EsQUFBQSxBQUFBLEdBQUcsQ0FBQSxBQUFDLGtCQUFrQixDQUFBO0FBQ3RCLEFBQUE7QUFDQSxBQUFBLEFBQUEsS0FBSyxDQUFBLEFBQUMsY0FBYyxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzVDLEFBQUEsQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztBQUNoRCxDQUFDLENBQUMsQ0FBQTtBQUNGLEFBQUEsQUFBQSxLQUFLLENBQUEsQUFBQyxjQUFjLENBQUMsQ0FBQyxTQUFTLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDaEQsQUFBQSxDQUFDLDBCQUEwQixDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQTtBQUN4QyxBQUFBLENBQUMsdUJBQXVCLENBQUMsQ0FBQyxDQUFDLFdBQVcsQ0FBQztBQUN2QyxDQUFDLENBQUMsQ0FBQTtBQUNGLEFBQUE7QUFDQSxBQUFBLEFBQUEsR0FBRyxDQUFBLEFBQUMsd0JBQXdCLENBQUE7QUFDNUIsQUFBQTtBQUNBLEFBQUEsQUFBQSxLQUFLLENBQUEsQUFBQyxvQkFBb0IsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsRCxBQUFBLENBQUMsNERBQTREO0FBQzdELEFBQUEsQ0FBQyxDQUFDLENBQUE7QUFDRixBQUFBLEFBQUEsS0FBSyxDQUFBLEFBQUMsb0JBQW9CLENBQUMsQ0FBQyxTQUFTLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEQsQUFBQSxDQUFDLDhEQUE4RDtBQUMvRCxBQUFBLENBQUMsQ0FBQyxDQUFBO0FBQ0YiLCJuYW1lcyI6W10sInNvdXJjZXNDb250ZW50IjpbIiMgc3ltYm9scy5saWIudGVzdC5jaXZldFxuXG5pbXBvcnQge1xuXHR1bmRlZiwgTE9HLCBEQkcsIGxvYWRTeW1ib2xzLFxuXHRzb3VyY2VMaWIsIGxpYnNBbmRTeW1ib2xzLCBnZXROZWVkZWRJbXBvcnRTdG10cyxcblx0fSBmcm9tICcuLi9zcmMvbGliL3V0aWxzLmxpYi50cydcbmltcG9ydCB7XG5cdGVxdWFsLCBzdWNjZWVkcyxcblx0fSBmcm9tICcuLi9zcmMvbGliL3VuaXQtdGVzdC5saWIudHMnXG5cblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuREJHIFwibG9hZFN5bWJvbHMoKVwiXG5cbigoKSA9PlxuXHRteU1hcCA6PSBsb2FkU3ltYm9scyhcIlwiXCJcblx0XHRkYXRhdHlwZXMubGliLnRzXG5cdFx0XHR1bmRlZiBkZWZpbmVkXG5cdFx0aW5kZW50LmxpYi50c1xuXHRcdFx0c3BsaXRMaW5lXG5cdFx0XCJcIlwiKVxuXG5cdGVxdWFsIHNvdXJjZUxpYigndW5kZWYnLCBteU1hcCksICdkYXRhdHlwZXMubGliLnRzJ1xuXHRlcXVhbCBzb3VyY2VMaWIoJ2RlZmluZWQnLCBteU1hcCksICdkYXRhdHlwZXMubGliLnRzJ1xuXHRlcXVhbCBzb3VyY2VMaWIoJ3NwbGl0TGluZScsIG15TWFwKSwgJ2luZGVudC5saWIudHMnXG5cdGVxdWFsIHNvdXJjZUxpYignZHVtbXknLCBteU1hcCksIHVuZGVmXG5cdCkoKVxuXG5EQkcgXCJzb3VyY2VMaWIoKVwiXG5cbigoKSA9PlxuXHRteU1hcCA6PSBuZXcgTWFwKFtbJ3gnLCAndGVtcC50cyddLFsneScsICdkdW1teS50cyddXSlcblx0ZXF1YWwgc291cmNlTGliKCd4JywgbXlNYXApLCAndGVtcC50cydcblx0ZXF1YWwgc291cmNlTGliKCd5JywgbXlNYXApLCAnZHVtbXkudHMnXG5cdCkoKVxuXG5lcXVhbCBzb3VyY2VMaWIoJ2RlZmluZWQnKSwgJ3NyYy9saWIvZGF0YXR5cGVzLmxpYi50cydcbmVxdWFsIHNvdXJjZUxpYignaXNBcnJheScpLCAnc3JjL2xpYi9kYXRhdHlwZXMubGliLnRzJ1xuXG5lcXVhbCBzb3VyY2VMaWIoJ2FycmF5JyksICdzcmMvbGliL2RhdGF0eXBlcy5saWIudHMnXG5lcXVhbCBzb3VyY2VMaWIoJ2hhc2gnKSwgJ3NyYy9saWIvZGF0YXR5cGVzLmxpYi50cydcblxuREJHIFwibGlic0FuZFN5bWJvbHMoKVwiXG5cbmVxdWFsIGxpYnNBbmRTeW1ib2xzKFsnZGVmaW5lZCcsJ2FycmF5J10pLCB7XG5cdCdzcmMvbGliL2RhdGF0eXBlcy5saWIudHMnOiBbJ2RlZmluZWQnLCdhcnJheSddXG5cdH1cbmVxdWFsIGxpYnNBbmRTeW1ib2xzKFsnZGVmaW5lZCcsJ3NwbGl0TGluZSddKSwge1xuXHQnc3JjL2xpYi9kYXRhdHlwZXMubGliLnRzJzogWydkZWZpbmVkJ11cblx0J3NyYy9saWIvaW5kZW50LmxpYi50cyc6IFsnc3BsaXRMaW5lJ11cblx0fVxuXG5EQkcgXCJnZXROZWVkZWRJbXBvcnRTdG10cygpXCJcblxuZXF1YWwgZ2V0TmVlZGVkSW1wb3J0U3RtdHMoWydkZWZpbmVkJywnYXJyYXknXSksIFtcblx0XCJpbXBvcnQge2RlZmluZWQsIGFycmF5fSBmcm9tICcuL3NyYy9saWIvZGF0YXR5cGVzLmxpYi50cyc7XCJcblx0XVxuZXF1YWwgZ2V0TmVlZGVkSW1wb3J0U3RtdHMoWydhcnJheW9mJywnaW50ZWdlciddKSwgW1xuXHRcImltcG9ydCB7YXJyYXlvZiwgaW50ZWdlcn0gZnJvbSAnLi9zcmMvbGliL2RhdGF0eXBlcy5saWIudHMnO1wiXG5cdF1cbiJdfQ==