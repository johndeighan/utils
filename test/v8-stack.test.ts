"use strict";
// v8-stack.test.civet

import {
	undef, defined, notdefined, assert, croak,
	DBG,
	compileAllFiles, relpath, getCmdArgs,
	} from '../src/lib/utils.ts'
import {
	getV8Stack, getMyCaller,
	getMyOutsideCaller, getV8StackStr,
	stackFrame,
	} from '../src/lib/v8-stack.ts'
import {
	equal, like,
	} from '../src/lib/unit-test.ts'

import {getBoth} from './v8-stack/v8-module.ts'

const hArgs = getCmdArgs()

// ---------------------------------------------------------------------------

DBG("type stackFrame")
DBG("getV8Stack()");

(function() {
	let stack1: stackFrame[] = []
	let stack2: stackFrame[] = []

	const main = () => {
		func1()
		func2()
	}

	const func1 = function() {
		stack1 = getV8Stack()
		return
	}

	const func2 = function() {
		stack2 = getV8Stack()
		return
	}

	main()
	like(stack1, [
		{
			type: 'function',
			name: 'func1',
			source: 'test/v8-stack.test.civet',
			line: 35
			},
		{
			type: 'function',
			name: 'main',
			source: 'test/v8-stack.test.civet',
			line: 31
			},
		{
			type: 'function',
			name: '<anon>',
			source: 'test/v8-stack.test.civet',
			line: 42
			},
		{
			type: 'script',
			source: 'test/v8-stack.test.civet',
			line: 94
			}
		])

	like(stack2, [
		{
			type: 'function',
			name: 'func2',
			source: 'test/v8-stack.test.civet',
			line: 39
			},
		{
			type: 'function',
			name: 'main',
			source: 'test/v8-stack.test.civet',
			line: 32
			},
		{
			type: 'function',
			name: '<anon>',
			source: 'test/v8-stack.test.civet',
			line: 42
			},
		{
			type: 'script',
			source: 'test/v8-stack.test.civet',
			line: 94
			}
		])
}
	)()

// ---------------------------------------------------------------------------

DBG("getV8StackStr()");

(function() {
	let stack1: string = ''
	let stack2: string = ''

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		stack1 = getV8StackStr()
		return
	}

	const func2 = function() {
		stack2 = getV8StackStr()
		return
	}

	main()
	equal(stack1, `[function func1    ] test/v8-stack.test.civet:109:11
[function main     ] test/v8-stack.test.civet:105:2
[function <anon>   ] test/v8-stack.test.civet:116:1
[script            ] test/v8-stack.test.civet:130:2`)

	equal(stack2, `[function func2    ] test/v8-stack.test.civet:113:11
[function main     ] test/v8-stack.test.civet:106:2
[function <anon>   ] test/v8-stack.test.civet:116:1
[script            ] test/v8-stack.test.civet:130:2`)
}
	)()

// ---------------------------------------------------------------------------

DBG("getMyCaller()");

(function() {
	let caller1: (stackFrame | undefined) = undef
	let caller2: (stackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		caller1 = getMyCaller()
	}

	const func2 = function() {
		caller2 = getMyCaller()
		return
	}

	main()
	like(caller1, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.test.civet'
		})
	like(caller2, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.test.civet'
		})
}
	)();

// ---------------------------------------------------------------------------

(function() {
	let hCaller: (stackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		return
	}

	const func2 = function() {
		hCaller = getMyCaller()
		return
	}

	// ------------------------------------------------------------------------

	main()

	like(hCaller, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.test.civet'
		})
}

	)();

// ---------------------------------------------------------------------------

(function() {
	let lCallers1: ((stackFrame | undefined))[] = []
	let lCallers2: ((stackFrame | undefined))[] = []

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		lCallers1 = getBoth()
	}

	const func2 = function() {
		lCallers2 = getBoth()
		return
	}

	main()
	like(lCallers1[0], {
		type: 'function',
		name: 'secondFunc',
		source: 'test/v8-stack/v8-module.civet'
		})
	like(lCallers1[1], {
		type: 'function',
		name: 'secondFunc',
		source: 'test/v8-stack/v8-module.civet'
		})
	like(lCallers2[0], {
		type: 'function',
		name: 'secondFunc',
		source: 'test/v8-stack/v8-module.civet'
		})
	like(lCallers2[1], {
		type: 'function',
		name: 'secondFunc',
		source: 'test/v8-stack/v8-module.civet'
		})
}

	)();

// ---------------------------------------------------------------------------

(async () => {
	const func1 = async () => {
		return await func2()
	}

	const func2 = async () => {
		return await getV8StackStr()
	}

	equal(await func1(), `[function func2    ] test/v8-stack.test.civet:240:15
[function func1    ] test/v8-stack.test.civet:237:15
[function <anon>   ] test/v8-stack.test.civet:242:13
[script            ] test/v8-stack.test.civet:249:2`)
}

	)();

// ---------------------------------------------------------------------------

(async () => {
	const func1 = async () => {
		func2()
		return await getV8StackStr()
	}

	const func2 = () => {
		return 2 * 2
	}

	equal(await func1(), `[function func1    ] test/v8-stack.test.civet:256:15
[function <anon>   ] test/v8-stack.test.civet:261:13
[script            ] test/v8-stack.test.civet:266:2`)
}
	)();

// ---------------------------------------------------------------------------

(function() {
	let caller1: (stackFrame | undefined) = undef
	let caller2: (stackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		caller1 = getMyCaller()
	}

	const func2 = function() {
		caller2 = getMyCaller()
		return
	}

	main()
	like(caller1, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.test.civet'
		})
	like(caller2, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.test.civet'
		})
}
	)()

// ---------------------------------------------------------------------------

DBG("getMyOutsideCaller()");

(function() {
	let caller1: (stackFrame | undefined) = undef
	let caller2: (stackFrame | undefined) = undef

	const main = function() {
		func1()
		func2()
	}

	const func1 = function() {
		caller1 = getMyOutsideCaller()
	}

	const func2 = function() {
		caller2 = getMyOutsideCaller()
		return
	}

	main()
	like(caller1, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.test.civet'
		})
	like(caller2, {
		type: 'function',
		name: 'main',
		source: 'test/v8-stack.test.civet'
		})
}
	)()


//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC92OC1zdGFjay50ZXN0LmNpdmV0LnRzeCIsInNvdXJjZXMiOlsidGVzdC92OC1zdGFjay50ZXN0LmNpdmV0Il0sIm1hcHBpbmdzIjoiO0FBQUEsc0JBQXFCO0FBQ3JCLEFBQUE7QUFDQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDM0MsQ0FBQyxHQUFHLENBQUM7QUFDTCxDQUFDLGVBQWUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFVBQVUsQ0FBQztBQUN0QyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMscUJBQXFCO0FBQzdCLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsVUFBVSxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQ3pCLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxhQUFhLENBQUM7QUFDbkMsQ0FBQyxVQUFVLENBQUM7QUFDWixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsd0JBQXdCO0FBQ2hDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQ2IsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLHlCQUF5QjtBQUNqQyxBQUFBO0FBQ0EsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyx5QkFBeUI7QUFDL0MsQUFBQTtBQUNBLEFBQUEsQUFBSyxNQUFMLEtBQUssQ0FBQyxDQUFFLENBQUMsVUFBVSxDQUFDLENBQUM7QUFDckIsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUE7QUFDQSxBQUFBLEFBQUEsR0FBRyxDQUFBLEFBQUMsaUJBQWlCLENBQUE7QUFDckIsQUFBQSxBQUFBLEdBQUcsQ0FBQSxBQUFDLGNBQWMsQyxDQUFBO0FBQ2xCLEFBQUE7QUFDQSxBQUFBLEFBQUEsQ0FBSSxR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QUFDaEIsQUFBQSxFQUFFLElBQUksQ0FBQyxDQUFDLFVBQVUsQ0FBQTtBQUNsQixBQUFBLEVBQUUsSUFBSSxDQUFDLENBQUMsTUFBTSxDQUFBO0FBQ2QsQUFBQSxFQUFFLE1BQU0sQ0FBQyxDQUFDLDBCQUEwQjtBQUNwQyxFQUFFLENBQUMsQ0FBQTtBQUNILEFBQUEsQ0FBQyxJQUFJLENBQUEsQUFBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO0FBQ2hCLEFBQUEsRUFBRSxJQUFJLENBQUMsQ0FBQyxVQUFVLENBQUE7QUFDbEIsQUFBQSxFQUFFLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQTtBQUNkLEFBQUEsRUFBRSxNQUFNLENBQUMsQ0FBQywwQkFBMEI7QUFDcEMsRUFBRSxDQUFDLEM7QUFBQSxDQUFBO0FBQ0gsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNKO0FBQ0EiLCJuYW1lcyI6W10sInNvdXJjZXNDb250ZW50IjpbIiMgdjgtc3RhY2sudGVzdC5jaXZldFxuXG5pbXBvcnQge1xuXHR1bmRlZiwgZGVmaW5lZCwgbm90ZGVmaW5lZCwgYXNzZXJ0LCBjcm9hayxcblx0REJHLFxuXHRjb21waWxlQWxsRmlsZXMsIHJlbHBhdGgsIGdldENtZEFyZ3MsXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi91dGlscy50cydcbmltcG9ydCB7XG5cdGdldFY4U3RhY2ssIGdldE15Q2FsbGVyLFxuXHRnZXRNeU91dHNpZGVDYWxsZXIsIGdldFY4U3RhY2tTdHIsXG5cdHN0YWNrRnJhbWUsXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi92OC1zdGFjay50cydcbmltcG9ydCB7XG5cdGVxdWFsLCBsaWtlLFxuXHR9IGZyb20gJy4uL3NyYy9saWIvdW5pdC10ZXN0LnRzJ1xuXG5pbXBvcnQge2dldEJvdGh9IGZyb20gJy4vdjgtc3RhY2svdjgtbW9kdWxlLnRzJ1xuXG5oQXJncyA6PSBnZXRDbWRBcmdzKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuREJHIFwidHlwZSBzdGFja0ZyYW1lXCJcbkRCRyBcImdldFY4U3RhY2soKVwiXG5cbigoKSAtPlxuXHRsZXQgc3RhY2sxOiBzdGFja0ZyYW1lW10gPSBbXVxuXHRsZXQgc3RhY2syOiBzdGFja0ZyYW1lW10gPSBbXVxuXG5cdG1haW4gOj0gKCkgPT5cblx0XHRmdW5jMSgpXG5cdFx0ZnVuYzIoKVxuXG5cdGZ1bmMxIDo9ICgpIC0+XG5cdFx0c3RhY2sxID0gZ2V0VjhTdGFjaygpXG5cdFx0cmV0dXJuXG5cblx0ZnVuYzIgOj0gKCkgLT5cblx0XHRzdGFjazIgPSBnZXRWOFN0YWNrKClcblx0XHRyZXR1cm5cblxuXHRtYWluKClcblx0bGlrZSBzdGFjazEsIFtcblx0XHR7XG5cdFx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0XHRuYW1lOiAnZnVuYzEnXG5cdFx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLnRlc3QuY2l2ZXQnXG5cdFx0XHRsaW5lOiAzNVxuXHRcdFx0fVxuXHRcdHtcblx0XHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRcdG5hbWU6ICdtYWluJ1xuXHRcdFx0c291cmNlOiAndGVzdC92OC1zdGFjay50ZXN0LmNpdmV0J1xuXHRcdFx0bGluZTogMzFcblx0XHRcdH1cblx0XHR7XG5cdFx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0XHRuYW1lOiAnPGFub24+J1xuXHRcdFx0c291cmNlOiAndGVzdC92OC1zdGFjay50ZXN0LmNpdmV0J1xuXHRcdFx0bGluZTogNDJcblx0XHRcdH1cblx0XHR7XG5cdFx0XHR0eXBlOiAnc2NyaXB0J1xuXHRcdFx0c291cmNlOiAndGVzdC92OC1zdGFjay50ZXN0LmNpdmV0J1xuXHRcdFx0bGluZTogOTRcblx0XHRcdH1cblx0XHRdXG5cblx0bGlrZSBzdGFjazIsIFtcblx0XHR7XG5cdFx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0XHRuYW1lOiAnZnVuYzInXG5cdFx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLnRlc3QuY2l2ZXQnXG5cdFx0XHRsaW5lOiAzOVxuXHRcdFx0fVxuXHRcdHtcblx0XHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRcdG5hbWU6ICdtYWluJ1xuXHRcdFx0c291cmNlOiAndGVzdC92OC1zdGFjay50ZXN0LmNpdmV0J1xuXHRcdFx0bGluZTogMzJcblx0XHRcdH1cblx0XHR7XG5cdFx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0XHRuYW1lOiAnPGFub24+J1xuXHRcdFx0c291cmNlOiAndGVzdC92OC1zdGFjay50ZXN0LmNpdmV0J1xuXHRcdFx0bGluZTogNDJcblx0XHRcdH1cblx0XHR7XG5cdFx0XHR0eXBlOiAnc2NyaXB0J1xuXHRcdFx0c291cmNlOiAndGVzdC92OC1zdGFjay50ZXN0LmNpdmV0J1xuXHRcdFx0bGluZTogOTRcblx0XHRcdH1cblx0XHRdXG5cdCkoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5EQkcgXCJnZXRWOFN0YWNrU3RyKClcIlxuXG4oKCkgLT5cblx0bGV0IHN0YWNrMTogc3RyaW5nID0gJydcblx0bGV0IHN0YWNrMjogc3RyaW5nID0gJydcblxuXHRtYWluIDo9ICgpIC0+XG5cdFx0ZnVuYzEoKVxuXHRcdGZ1bmMyKClcblxuXHRmdW5jMSA6PSAoKSAtPlxuXHRcdHN0YWNrMSA9IGdldFY4U3RhY2tTdHIoKVxuXHRcdHJldHVyblxuXG5cdGZ1bmMyIDo9ICgpIC0+XG5cdFx0c3RhY2syID0gZ2V0VjhTdGFja1N0cigpXG5cdFx0cmV0dXJuXG5cblx0bWFpbigpXG5cdGVxdWFsIHN0YWNrMSwgXCJcIlwiXG5cdFx0W2Z1bmN0aW9uIGZ1bmMxICAgIF0gdGVzdC92OC1zdGFjay50ZXN0LmNpdmV0OjEwOToxMVxuXHRcdFtmdW5jdGlvbiBtYWluICAgICBdIHRlc3Qvdjgtc3RhY2sudGVzdC5jaXZldDoxMDU6MlxuXHRcdFtmdW5jdGlvbiA8YW5vbj4gICBdIHRlc3Qvdjgtc3RhY2sudGVzdC5jaXZldDoxMTY6MVxuXHRcdFtzY3JpcHQgICAgICAgICAgICBdIHRlc3Qvdjgtc3RhY2sudGVzdC5jaXZldDoxMzA6MlxuXHRcdFwiXCJcIlxuXG5cdGVxdWFsIHN0YWNrMiwgXCJcIlwiXG5cdFx0W2Z1bmN0aW9uIGZ1bmMyICAgIF0gdGVzdC92OC1zdGFjay50ZXN0LmNpdmV0OjExMzoxMVxuXHRcdFtmdW5jdGlvbiBtYWluICAgICBdIHRlc3Qvdjgtc3RhY2sudGVzdC5jaXZldDoxMDY6MlxuXHRcdFtmdW5jdGlvbiA8YW5vbj4gICBdIHRlc3Qvdjgtc3RhY2sudGVzdC5jaXZldDoxMTY6MVxuXHRcdFtzY3JpcHQgICAgICAgICAgICBdIHRlc3Qvdjgtc3RhY2sudGVzdC5jaXZldDoxMzA6MlxuXHRcdFwiXCJcIlxuXHQpKClcblxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuREJHIFwiZ2V0TXlDYWxsZXIoKVwiXG5cbigoKSAtPlxuXHRsZXQgY2FsbGVyMTogc3RhY2tGcmFtZT8gPSB1bmRlZlxuXHRsZXQgY2FsbGVyMjogc3RhY2tGcmFtZT8gPSB1bmRlZlxuXG5cdG1haW4gOj0gKCkgLT5cblx0XHRmdW5jMSgpXG5cdFx0ZnVuYzIoKVxuXG5cdGZ1bmMxIDo9ICgpIC0+XG5cdFx0Y2FsbGVyMSA9IGdldE15Q2FsbGVyKClcblxuXHRmdW5jMiA6PSAoKSAtPlxuXHRcdGNhbGxlcjIgPSBnZXRNeUNhbGxlcigpXG5cdFx0cmV0dXJuXG5cblx0bWFpbigpXG5cdGxpa2UgY2FsbGVyMSwge1xuXHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRuYW1lOiAnbWFpbidcblx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLnRlc3QuY2l2ZXQnXG5cdFx0fVxuXHRsaWtlIGNhbGxlcjIsIHtcblx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0bmFtZTogJ21haW4nXG5cdFx0c291cmNlOiAndGVzdC92OC1zdGFjay50ZXN0LmNpdmV0J1xuXHRcdH1cblx0KSgpXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbigoKSAtPlxuXHRsZXQgaENhbGxlcjogc3RhY2tGcmFtZT8gPSB1bmRlZlxuXG5cdG1haW4gOj0gKCkgLT5cblx0XHRmdW5jMSgpXG5cdFx0ZnVuYzIoKVxuXG5cdGZ1bmMxIDo9ICgpIC0+XG5cdFx0cmV0dXJuXG5cblx0ZnVuYzIgOj0gKCkgLT5cblx0XHRoQ2FsbGVyID0gZ2V0TXlDYWxsZXIoKVxuXHRcdHJldHVyblxuXG5cdCMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblx0bWFpbigpXG5cblx0bGlrZSBoQ2FsbGVyLCB7XG5cdFx0dHlwZTogJ2Z1bmN0aW9uJ1xuXHRcdG5hbWU6ICdtYWluJ1xuXHRcdHNvdXJjZTogJ3Rlc3Qvdjgtc3RhY2sudGVzdC5jaXZldCdcblx0XHR9XG5cblx0KSgpXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbigoKSAtPlxuXHRsZXQgbENhbGxlcnMxOiAoc3RhY2tGcmFtZT8pW10gPSBbXVxuXHRsZXQgbENhbGxlcnMyOiAoc3RhY2tGcmFtZT8pW10gPSBbXVxuXG5cdG1haW4gOj0gKCkgLT5cblx0XHRmdW5jMSgpXG5cdFx0ZnVuYzIoKVxuXG5cdGZ1bmMxIDo9ICgpIC0+XG5cdFx0bENhbGxlcnMxID0gZ2V0Qm90aCgpXG5cblx0ZnVuYzIgOj0gKCkgLT5cblx0XHRsQ2FsbGVyczIgPSBnZXRCb3RoKClcblx0XHRyZXR1cm5cblxuXHRtYWluKClcblx0bGlrZSBsQ2FsbGVyczFbMF0sIHtcblx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0bmFtZTogJ3NlY29uZEZ1bmMnXG5cdFx0c291cmNlOiAndGVzdC92OC1zdGFjay92OC1tb2R1bGUuY2l2ZXQnXG5cdFx0fVxuXHRsaWtlIGxDYWxsZXJzMVsxXSwge1xuXHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRuYW1lOiAnc2Vjb25kRnVuYydcblx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrL3Y4LW1vZHVsZS5jaXZldCdcblx0XHR9XG5cdGxpa2UgbENhbGxlcnMyWzBdLCB7XG5cdFx0dHlwZTogJ2Z1bmN0aW9uJ1xuXHRcdG5hbWU6ICdzZWNvbmRGdW5jJ1xuXHRcdHNvdXJjZTogJ3Rlc3Qvdjgtc3RhY2svdjgtbW9kdWxlLmNpdmV0J1xuXHRcdH1cblx0bGlrZSBsQ2FsbGVyczJbMV0sIHtcblx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0bmFtZTogJ3NlY29uZEZ1bmMnXG5cdFx0c291cmNlOiAndGVzdC92OC1zdGFjay92OC1tb2R1bGUuY2l2ZXQnXG5cdFx0fVxuXG5cdCkoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4oKCkgPT5cblx0ZnVuYzEgOj0gKCkgPT5cblx0XHRyZXR1cm4gYXdhaXQgZnVuYzIoKVxuXG5cdGZ1bmMyIDo9ICgpID0+XG5cdFx0cmV0dXJuIGF3YWl0IGdldFY4U3RhY2tTdHIoKVxuXG5cdGVxdWFsIGF3YWl0IGZ1bmMxKCksIFwiXCJcIlxuXHRcdFtmdW5jdGlvbiBmdW5jMiAgICBdIHRlc3Qvdjgtc3RhY2sudGVzdC5jaXZldDoyNDA6MTVcblx0XHRbZnVuY3Rpb24gZnVuYzEgICAgXSB0ZXN0L3Y4LXN0YWNrLnRlc3QuY2l2ZXQ6MjM3OjE1XG5cdFx0W2Z1bmN0aW9uIDxhbm9uPiAgIF0gdGVzdC92OC1zdGFjay50ZXN0LmNpdmV0OjI0MjoxM1xuXHRcdFtzY3JpcHQgICAgICAgICAgICBdIHRlc3Qvdjgtc3RhY2sudGVzdC5jaXZldDoyNDk6MlxuXHRcdFwiXCJcIlxuXG5cdCkoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4oKCkgPT5cblx0ZnVuYzEgOj0gKCkgPT5cblx0XHRmdW5jMigpXG5cdFx0cmV0dXJuIGF3YWl0IGdldFY4U3RhY2tTdHIoKVxuXG5cdGZ1bmMyIDo9ICgpID0+XG5cdFx0cmV0dXJuIDIgKiAyXG5cblx0ZXF1YWwgYXdhaXQgZnVuYzEoKSwgXCJcIlwiXG5cdFx0W2Z1bmN0aW9uIGZ1bmMxICAgIF0gdGVzdC92OC1zdGFjay50ZXN0LmNpdmV0OjI1NjoxNVxuXHRcdFtmdW5jdGlvbiA8YW5vbj4gICBdIHRlc3Qvdjgtc3RhY2sudGVzdC5jaXZldDoyNjE6MTNcblx0XHRbc2NyaXB0ICAgICAgICAgICAgXSB0ZXN0L3Y4LXN0YWNrLnRlc3QuY2l2ZXQ6MjY2OjJcblx0XHRcIlwiXCJcblx0KSgpXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbigoKSAtPlxuXHRsZXQgY2FsbGVyMTogc3RhY2tGcmFtZT8gPSB1bmRlZlxuXHRsZXQgY2FsbGVyMjogc3RhY2tGcmFtZT8gPSB1bmRlZlxuXG5cdG1haW4gOj0gKCkgLT5cblx0XHRmdW5jMSgpXG5cdFx0ZnVuYzIoKVxuXG5cdGZ1bmMxIDo9ICgpIC0+XG5cdFx0Y2FsbGVyMSA9IGdldE15Q2FsbGVyKClcblxuXHRmdW5jMiA6PSAoKSAtPlxuXHRcdGNhbGxlcjIgPSBnZXRNeUNhbGxlcigpXG5cdFx0cmV0dXJuXG5cblx0bWFpbigpXG5cdGxpa2UgY2FsbGVyMSwge1xuXHRcdHR5cGU6ICdmdW5jdGlvbidcblx0XHRuYW1lOiAnbWFpbidcblx0XHRzb3VyY2U6ICd0ZXN0L3Y4LXN0YWNrLnRlc3QuY2l2ZXQnXG5cdFx0fVxuXHRsaWtlIGNhbGxlcjIsIHtcblx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0bmFtZTogJ21haW4nXG5cdFx0c291cmNlOiAndGVzdC92OC1zdGFjay50ZXN0LmNpdmV0J1xuXHRcdH1cblx0KSgpXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkRCRyBcImdldE15T3V0c2lkZUNhbGxlcigpXCJcblxuKCgpIC0+XG5cdGxldCBjYWxsZXIxOiBzdGFja0ZyYW1lPyA9IHVuZGVmXG5cdGxldCBjYWxsZXIyOiBzdGFja0ZyYW1lPyA9IHVuZGVmXG5cblx0bWFpbiA6PSAoKSAtPlxuXHRcdGZ1bmMxKClcblx0XHRmdW5jMigpXG5cblx0ZnVuYzEgOj0gKCkgLT5cblx0XHRjYWxsZXIxID0gZ2V0TXlPdXRzaWRlQ2FsbGVyKClcblxuXHRmdW5jMiA6PSAoKSAtPlxuXHRcdGNhbGxlcjIgPSBnZXRNeU91dHNpZGVDYWxsZXIoKVxuXHRcdHJldHVyblxuXG5cdG1haW4oKVxuXHRsaWtlIGNhbGxlcjEsIHtcblx0XHR0eXBlOiAnZnVuY3Rpb24nXG5cdFx0bmFtZTogJ21haW4nXG5cdFx0c291cmNlOiAndGVzdC92OC1zdGFjay50ZXN0LmNpdmV0J1xuXHRcdH1cblx0bGlrZSBjYWxsZXIyLCB7XG5cdFx0dHlwZTogJ2Z1bmN0aW9uJ1xuXHRcdG5hbWU6ICdtYWluJ1xuXHRcdHNvdXJjZTogJ3Rlc3Qvdjgtc3RhY2sudGVzdC5jaXZldCdcblx0XHR9XG5cdCkoKVxuXG4iXX0=