# logger.lib.test.civet

import {
	clearConsoleLog, getConsoleLog,
	} from '../src/lib/log-formatter.lib.ts'
import {
	TLogLevel, getLogLevel, isLogLevel,
	setLogLevel, pushLogLevel, popLogLevel,

	getLog, clearLog, removeLogFile, INDENT, UNDENT,
	DBG, LOG, WARN, ERR, DBGVALUE, LOGVALUE,
	} from '../src/lib/logger.lib.ts'
import {
	equal, truthy, falsy, succeeds, fails, matches,
	isType, notType,
	} from '../src/lib/unit-test.lib.ts'

# ---------------------------------------------------------------------------

DBG "getLog()"

equal getLog('console'), ""

(() =>
	DBG "debug this"
	LOG "log this"
	WARN "warn this"
	ERR "error this"
	equal getConsoleLog(), """
		log this
		warn this
		error this
		"""
	)()

DBG "clearLog()"

DBG "const INDENT", "const UNDENT"

DBG "DBG()", "LOG()", "WARN()", "ERR()"

DBG "DBGVALUE()", "LOGVALUE()"

DBG "removeLogFile()"

succeeds () => removeLogFile()