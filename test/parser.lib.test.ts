"use strict";
// parser.lib.test.civet

import {
	undef, hash, getCmdArgs, DBG, o,
	} from '../src/lib/utils.lib.ts'
// import {
// 	KeppelGrammar,
// 	} from './parser/keppel.grammar.ts'
import {
	State, StringMatcher, RegexMatcher,
	All, Any, Plus, Optional, Star,
	getParser, getLineAndColumn, Node,
	} from '../src/lib/parser.lib.ts'
import {
	equal, same, like, succeeds, fails, truthy, falsy,
	matches, isType, notType, objListLike,
	} from '../src/lib/unit-test.lib.ts'

getCmdArgs()
//  htmlParse := getParser<hash>(KeppelGrammar)

// ---------------------------------------------------------------------------
// --- test getLineAndColumn()

equal(getLineAndColumn('abc\ndef\nghi', 5), [2, 2])
equal(getLineAndColumn('abcd\nefgh\nijkl', 5), [2, 1])

// ---------------------------------------------------------------------------
// --- test class State

like(new State('abc'), {
	text: 'abc',
	pos: 0
	})

like(new State('abc', 2), {
	text: 'abc',
	pos: 2
	});

// ---------------------------------------------------------------------------
// --- test StringMatcher()

(() => {
	const rule = StringMatcher('abc')
	like(rule.next(new State('abcdef')), {pos: 3})
	fails(() => rule.next(new State('abcdef', 3)))
}
	)();

(() => {
	const rule = StringMatcher('def')
	like(rule.next(new State('abcdef')), {pos: 0})
	like(rule.next(new State('abcdef', 3)), {pos: 6})

	// --- On failure to match, should return undef
	const $ = new State('abcdef')
	equal(rule.next($), undef)
}
	)();

// ---------------------------------------------------------------------------
// --- test RegexMatcher()

(() => {
	const rule = RegexMatcher(/^[\.\#]\s/)
	like(rule.next(new State('. abc')), {pos: 2})
	fails(() => rule.next(new State('. abc', 1)))
}
	)();

(() => {
	const rule = RegexMatcher(/^[\.\#]\s/)
	like(rule.next(new State('abc . def')), {pos: 0})
	like(rule.next(new State('abc . def', 4)), {pos: 6})

	// --- On failure to match, should return undef
	const $ = new State('abc . abc')
	equal(rule.next($), undef)
}
	)();

// ---------------------------------------------------------------------------
// --- test Node<T>

(() => {
	const reducer = (
			$: State,
			$next: State
			): string => {
		return 'X'
	}

	// --- This rule will attempt to match the string 'abc'
	//     when it matches, the reducer is called, and
	//     what it returns is put on the stack
	const rule = Node<string>('abc', reducer)

	const $ = new State('abcdef')
	like(rule.next($), {
	   "text": "abcdef",
	   "stack": ['X'],
		"pos": 3
		})
}
	)()

// ---------------------------------------------------------------------------
// Build and test some very simple rules

const reIdent = /^([a-zA-Z_$][a-zA-Z0-9_$]*)/
reIdent.toString = () => 'reIdent'

const reNumber = /^((?:[0-9]+\.?[0-9]*|\.[0-9]+)(?:[eE][-+]?[0-9]+)?)\b/
reNumber.toString = () => 'reNumber'

const reOp = /[+\-*\/]/
reOp.toString = () => 'reOp'

// --- Define the grammer productions

const value = Any([reIdent, reNumber])
value.toString = () => 'value'

const stmt = Any([
	All([reIdent, '=', value]),
	All([value, reOp, value])
	])
stmt.toString = () => 'stmt'

const program = All([
	stmt,
	Star(All([';', stmt]))
	])
program.toString = () => 'program';

(() => {
	const parse = getParser<string>(reIdent)
	succeeds(() => parse('abc'))
	succeeds(() => parse(' abc  '))  // --- whitespace skipped
	fails(   () => parse('1abc'))
	fails(   () => parse('abc def'))
	succeeds(() => getParser<string>(reIdent, o`partial`)('abc def'))
}
	)();

(() => {
	const parse = getParser<string>(reOp)
	succeeds(() => parse('+'))
	succeeds(() => parse('  -  '))
	succeeds(() => parse('*'))
	succeeds(() => parse('  /  '))
	fails(   () => parse('!'))
}
	)();

(() => {
	const parse = getParser<string>(value)
	succeeds(() => parse('n'))
	succeeds(() => parse('  n  '))
	succeeds(() => parse('42'))
	succeeds(() => parse('  42  '))
	fails(   () => parse('!'))
}
	)();

(() => {
	const parse = getParser<string>(stmt)
	succeeds(() => parse('n = 42'))
	succeeds(() => parse('  n=42  '))
	succeeds(() => parse('a=b'))
	succeeds(() => parse('  a = b  '))
	fails(   () => parse('!'))
}
	)();

(() => {
	const parse = getParser<string>(reNumber)
	succeeds(() => parse('42'))
	succeeds(() => parse('  42  '))
	succeeds(() => parse('3.14'))
	succeeds(() => parse('  3.14  '))
	succeeds(() => parse('3.14e5'))
	succeeds(() => parse('  3.14E5  '))
	fails(   () => parse('!'))
}
	)();

(() => {
	const parse = getParser<string>(program)
	succeeds(() => parse('x = 42; y = 33; x*y'))
	succeeds(() => parse(`x = 42;
y = 33;
x * y`))
}
	)()


//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9wYXJzZXIubGliLnRlc3QuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJ0ZXN0L3BhcnNlci5saWIudGVzdC5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLHdCQUF1QjtBQUN2QixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2pDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyx5QkFBeUI7QUFDakMsQUFBQSxXQUFVO0FBQ1YsQUFBQSxrQkFBaUI7QUFDakIsQUFBQSx1Q0FBc0M7QUFDdEMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxLQUFLLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxZQUFZLENBQUM7QUFDcEMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDaEMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUNuQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsMEJBQTBCO0FBQ2xDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDO0FBQ25ELENBQUMsT0FBTyxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsV0FBVyxDQUFDO0FBQ3ZDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyw2QkFBNkI7QUFDckMsQUFBQTtBQUNBLEFBQUEsQUFBQSxVQUFVLENBQUMsQ0FBQztBQUNaLEFBQUEsK0NBQThDO0FBQzlDLEFBQUE7QUFDQSxBQUFBLDhFQUE2RTtBQUM3RSxBQUFBLDhCQUE2QjtBQUM3QixBQUFBO0FBQ0EsQUFBQSxBQUFBLEtBQUssQ0FBQSxBQUFDLGdCQUFnQixDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNsRCxBQUFBLEFBQUEsS0FBSyxDQUFBLEFBQUMsZ0JBQWdCLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDckQsQUFBQTtBQUNBLEFBQUEsOEVBQTZFO0FBQzdFLEFBQUEsdUJBQXNCO0FBQ3RCLEFBQUE7QUFDQSxBQUFBLEFBQUEsSUFBSSxDQUFBLEFBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEIsQUFBQSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQTtBQUNaLEFBQUEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDLENBQUE7QUFDRixBQUFBO0FBQ0EsQUFBQSxBQUFBLElBQUksQ0FBQSxBQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzNCLEFBQUEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLENBQUE7QUFDWixBQUFBLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUMsQ0FBQyxDLENBQUE7QUFDRixBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQSwyQkFBMEI7QUFDMUIsQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFLLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO0FBQzdCLEFBQUEsQ0FBQyxJQUFJLENBQUEsQUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDOUMsQUFBQSxDQUFDLEtBQUssQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQztBQUFBLENBQUE7QUFDOUMsQ0FBQyxDQUFDLENBQUMsQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFLLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDO0FBQzdCLEFBQUEsQ0FBQyxJQUFJLENBQUEsQUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDOUMsQUFBQSxDQUFDLElBQUksQ0FBQSxBQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNqRCxBQUFBO0FBQ0EsQUFBQSxDQUFDLCtDQUE4QztBQUMvQyxBQUFBLENBQUUsTUFBRCxDQUFDLENBQUMsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDO0FBQ3pCLEFBQUEsQ0FBQyxLQUFLLENBQUEsQUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDO0FBQUEsQ0FBQTtBQUMxQixDQUFDLENBQUMsQ0FBQyxDLENBQUM7QUFDSixBQUFBO0FBQ0EsQUFBQSw4RUFBNkU7QUFDN0UsQUFBQSwwQkFBeUI7QUFDekIsQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFLLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDO0FBQ2xDLEFBQUEsQ0FBQyxJQUFJLENBQUEsQUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDN0MsQUFBQSxDQUFDLEtBQUssQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQztBQUFBLENBQUE7QUFDN0MsQ0FBQyxDQUFDLENBQUMsQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFLLE1BQUosSUFBSSxDQUFDLENBQUUsQ0FBQyxZQUFZLENBQUMsV0FBVyxDQUFDO0FBQ2xDLEFBQUEsQ0FBQyxJQUFJLENBQUEsQUFBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDakQsQUFBQSxDQUFDLElBQUksQ0FBQSxBQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUNwRCxBQUFBO0FBQ0EsQUFBQSxDQUFDLCtDQUE4QztBQUMvQyxBQUFBLENBQUUsTUFBRCxDQUFDLENBQUMsQ0FBRSxD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LENBQUMsS0FBSyxDQUFBLEdBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLEdBQUcsQ0FBQSxDO0FBQUEsQ0FBQTtBQUN6QixDQUFDLENBQUMsQ0FBQyxDLENBQUM7QUFDSixBQUFBO0FBQ0EsQUFBQSxBQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDTixBQUFBLENBQU0sTUFBTCxLQUFLLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxLQUFLLENBQUM7QUFDbEMsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxHQUFHLENBQUEsQ0FBQTtBQUN6QixBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLE9BQU8sQ0FBQSxDQUFBO0FBQzdCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsSUFBSSxDQUFBLENBQUE7QUFDMUIsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxRQUFRLENBQUEsQ0FBQTtBQUM5QixBQUFBLENBQUMsS0FBSyxDQUFBLEdBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLEdBQUcsQ0FBQSxDO0FBQUEsQ0FBQTtBQUN6QixDQUFDLENBQUMsQ0FBQyxDLENBQUM7QUFDSixBQUFBO0FBQ0EsQUFBQSxBQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDTixBQUFBLENBQU0sTUFBTCxLQUFLLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxJQUFJLENBQUM7QUFDakMsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxRQUFRLENBQUEsQ0FBQTtBQUM5QixBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLFVBQVUsQ0FBQSxDQUFBO0FBQ2hDLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsS0FBSyxDQUFBLENBQUE7QUFDM0IsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxXQUFXLENBQUEsQ0FBQTtBQUNqQyxBQUFBLENBQUMsS0FBSyxDQUFBLEdBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLEdBQUcsQ0FBQSxDO0FBQUEsQ0FBQTtBQUN6QixDQUFDLENBQUMsQ0FBQyxDLENBQUM7QUFDSixBQUFBO0FBQ0EsQUFBQSxBQUFBLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFBLENBQUE7QUFDTixBQUFBLENBQU0sTUFBTCxLQUFLLENBQUMsQ0FBRSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxRQUFRLENBQUM7QUFDckMsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxJQUFJLENBQUEsQ0FBQTtBQUMxQixBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLFFBQVEsQ0FBQSxDQUFBO0FBQzlCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsTUFBTSxDQUFBLENBQUE7QUFDNUIsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxVQUFVLENBQUEsQ0FBQTtBQUNoQyxBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLFFBQVEsQ0FBQSxDQUFBO0FBQzlCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsWUFBWSxDQUFBLENBQUE7QUFDbEMsQUFBQSxDQUFDLEtBQUssQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxHQUFHLENBQUEsQztBQUFBLENBQUE7QUFDekIsQ0FBQyxDQUFDLENBQUMsQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFNLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxDQUFDO0FBQ3BDLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMscUJBQXFCLENBQUEsQ0FBQTtBQUMzQyxBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLENBQUc7QUFDekI7QUFDQSxLQUVFLENBQUcsQ0FBQSxDO0FBQUEsQ0FBQTtBQUNMLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDSjtBQUNBIiwibmFtZXMiOltdLCJzb3VyY2VzQ29udGVudCI6WyIjIHBhcnNlci5saWIudGVzdC5jaXZldFxyXG5cclxuaW1wb3J0IHtcclxuXHR1bmRlZiwgaGFzaCwgZ2V0Q21kQXJncywgREJHLCBvLFxyXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi91dGlscy5saWIudHMnXHJcbiMgaW1wb3J0IHtcclxuIyBcdEtlcHBlbEdyYW1tYXIsXHJcbiMgXHR9IGZyb20gJy4vcGFyc2VyL2tlcHBlbC5ncmFtbWFyLnRzJ1xyXG5pbXBvcnQge1xyXG5cdFN0YXRlLCBTdHJpbmdNYXRjaGVyLCBSZWdleE1hdGNoZXIsXHJcblx0QWxsLCBBbnksIFBsdXMsIE9wdGlvbmFsLCBTdGFyLFxyXG5cdGdldFBhcnNlciwgZ2V0TGluZUFuZENvbHVtbiwgTm9kZSxcclxuXHR9IGZyb20gJy4uL3NyYy9saWIvcGFyc2VyLmxpYi50cydcclxuaW1wb3J0IHtcclxuXHRlcXVhbCwgc2FtZSwgbGlrZSwgc3VjY2VlZHMsIGZhaWxzLCB0cnV0aHksIGZhbHN5LFxyXG5cdG1hdGNoZXMsIGlzVHlwZSwgbm90VHlwZSwgb2JqTGlzdExpa2UsXHJcblx0fSBmcm9tICcuLi9zcmMvbGliL3VuaXQtdGVzdC5saWIudHMnXHJcblxyXG5nZXRDbWRBcmdzKClcclxuIyAgaHRtbFBhcnNlIDo9IGdldFBhcnNlcjxoYXNoPihLZXBwZWxHcmFtbWFyKVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyAtLS0gdGVzdCBnZXRMaW5lQW5kQ29sdW1uKClcclxuXHJcbmVxdWFsIGdldExpbmVBbmRDb2x1bW4oJ2FiY1xcbmRlZlxcbmdoaScsIDUpLCBbMiwgMl1cclxuZXF1YWwgZ2V0TGluZUFuZENvbHVtbignYWJjZFxcbmVmZ2hcXG5pamtsJywgNSksIFsyLCAxXVxyXG5cclxuIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuIyAtLS0gdGVzdCBjbGFzcyBTdGF0ZVxyXG5cclxubGlrZSBuZXcgU3RhdGUoJ2FiYycpLCB7XHJcblx0dGV4dDogJ2FiYydcclxuXHRwb3M6IDBcclxuXHR9XHJcblxyXG5saWtlIG5ldyBTdGF0ZSgnYWJjJywgMiksIHtcclxuXHR0ZXh0OiAnYWJjJ1xyXG5cdHBvczogMlxyXG5cdH1cclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIHRlc3QgU3RyaW5nTWF0Y2hlcigpXHJcblxyXG4oKCkgPT5cclxuXHRydWxlIDo9IFN0cmluZ01hdGNoZXIoJ2FiYycpXHJcblx0bGlrZSBydWxlLm5leHQobmV3IFN0YXRlKCdhYmNkZWYnKSksIHtwb3M6IDN9XHJcblx0ZmFpbHMgKCkgPT4gcnVsZS5uZXh0KG5ldyBTdGF0ZSgnYWJjZGVmJywgMykpXHJcblx0KSgpXHJcblxyXG4oKCkgPT5cclxuXHRydWxlIDo9IFN0cmluZ01hdGNoZXIoJ2RlZicpXHJcblx0bGlrZSBydWxlLm5leHQobmV3IFN0YXRlKCdhYmNkZWYnKSksIHtwb3M6IDB9XHJcblx0bGlrZSBydWxlLm5leHQobmV3IFN0YXRlKCdhYmNkZWYnLCAzKSksIHtwb3M6IDZ9XHJcblxyXG5cdCMgLS0tIE9uIGZhaWx1cmUgdG8gbWF0Y2gsIHNob3VsZCByZXR1cm4gdW5kZWZcclxuXHQkIDo9IG5ldyBTdGF0ZSgnYWJjZGVmJylcclxuXHRlcXVhbCBydWxlLm5leHQoJCksIHVuZGVmXHJcblx0KSgpXHJcblxyXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4jIC0tLSB0ZXN0IFJlZ2V4TWF0Y2hlcigpXHJcblxyXG4oKCkgPT5cclxuXHRydWxlIDo9IFJlZ2V4TWF0Y2hlcigvXltcXC5cXCNdXFxzLylcclxuXHRsaWtlIHJ1bGUubmV4dChuZXcgU3RhdGUoJy4gYWJjJykpLCB7cG9zOiAyfVxyXG5cdGZhaWxzICgpID0+IHJ1bGUubmV4dChuZXcgU3RhdGUoJy4gYWJjJywgMSkpXHJcblx0KSgpXHJcblxyXG4oKCkgPT5cclxuXHRydWxlIDo9IFJlZ2V4TWF0Y2hlcigvXltcXC5cXCNdXFxzLylcclxuXHRsaWtlIHJ1bGUubmV4dChuZXcgU3RhdGUoJ2FiYyAuIGRlZicpKSwge3BvczogMH1cclxuXHRsaWtlIHJ1bGUubmV4dChuZXcgU3RhdGUoJ2FiYyAuIGRlZicsIDQpKSwge3BvczogNn1cclxuXHJcblx0IyAtLS0gT24gZmFpbHVyZSB0byBtYXRjaCwgc2hvdWxkIHJldHVybiB1bmRlZlxyXG5cdCQgOj0gbmV3IFN0YXRlKCdhYmMgLiBhYmMnKVxyXG5cdGVxdWFsIHJ1bGUubmV4dCgkKSwgdW5kZWZcclxuXHQpKClcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgLS0tIHRlc3QgTm9kZTxUPlxyXG5cclxuKCgpID0+XHJcblx0cmVkdWNlciA6PSAoXHJcblx0XHRcdCQ6IFN0YXRlXHJcblx0XHRcdCRuZXh0OiBTdGF0ZVxyXG5cdFx0XHQpOiBzdHJpbmcgPT5cclxuXHRcdHJldHVybiAnWCdcclxuXHJcblx0IyAtLS0gVGhpcyBydWxlIHdpbGwgYXR0ZW1wdCB0byBtYXRjaCB0aGUgc3RyaW5nICdhYmMnXHJcblx0IyAgICAgd2hlbiBpdCBtYXRjaGVzLCB0aGUgcmVkdWNlciBpcyBjYWxsZWQsIGFuZFxyXG5cdCMgICAgIHdoYXQgaXQgcmV0dXJucyBpcyBwdXQgb24gdGhlIHN0YWNrXHJcblx0cnVsZSA6PSBOb2RlPHN0cmluZz4oJ2FiYycsIHJlZHVjZXIpXHJcblxyXG5cdCQgOj0gbmV3IFN0YXRlKCdhYmNkZWYnKVxyXG5cdGxpa2UgcnVsZS5uZXh0KCQpLCB7XHJcblx0ICAgXCJ0ZXh0XCI6IFwiYWJjZGVmXCIsXHJcblx0ICAgXCJzdGFja1wiOiBbJ1gnXSxcclxuXHRcdFwicG9zXCI6IDNcclxuXHRcdH1cclxuXHQpKClcclxuXHJcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiMgQnVpbGQgYW5kIHRlc3Qgc29tZSB2ZXJ5IHNpbXBsZSBydWxlc1xyXG5cclxucmVJZGVudCA6PSAvLy9eKCBbYS16QS1aXyRdIFthLXpBLVowLTlfJF0qICkgLy8vXHJcbnJlSWRlbnQudG9TdHJpbmcgPSAoKSA9PiAncmVJZGVudCdcclxuXHJcbnJlTnVtYmVyIDo9IC8vL15cclxuXHQoXHJcblx0XHQoPzpcclxuXHRcdFx0WzAtOV0rIFxcLj8gWzAtOV0qIHwgXFwuIFswLTldK1xyXG5cdFx0XHQpXHJcblx0XHQoPzpcclxuXHRcdFx0W2VFXSBbLStdPyBbMC05XStcclxuXHRcdFx0KT9cclxuXHRcdClcXGJcclxuXHQvLy9cclxucmVOdW1iZXIudG9TdHJpbmcgPSAoKSA9PiAncmVOdW1iZXInXHJcblxyXG5yZU9wIDo9IC9bK1xcLSpcXC9dL1xyXG5yZU9wLnRvU3RyaW5nID0gKCkgPT4gJ3JlT3AnXHJcblxyXG4jIC0tLSBEZWZpbmUgdGhlIGdyYW1tZXIgcHJvZHVjdGlvbnNcclxuXHJcbnZhbHVlIDo9IEFueSBbcmVJZGVudCwgcmVOdW1iZXJdXHJcbnZhbHVlLnRvU3RyaW5nID0gKCkgPT4gJ3ZhbHVlJ1xyXG5cclxuc3RtdCA6PSBBbnkgW1xyXG5cdEFsbCBbcmVJZGVudCwgJz0nLCB2YWx1ZV1cclxuXHRBbGwgW3ZhbHVlLCByZU9wLCB2YWx1ZV1cclxuXHRdXHJcbnN0bXQudG9TdHJpbmcgPSAoKSA9PiAnc3RtdCdcclxuXHJcbnByb2dyYW0gOj0gQWxsIFtcclxuXHRzdG10XHJcblx0Wyc7Jywgc3RtdF0gfD4gQWxsIHw+IFN0YXJcclxuXHRdXHJcbnByb2dyYW0udG9TdHJpbmcgPSAoKSA9PiAncHJvZ3JhbSdcclxuXHJcbigoKSA9PlxyXG5cdHBhcnNlIDo9IGdldFBhcnNlcjxzdHJpbmc+KHJlSWRlbnQpXHJcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJ2FiYydcclxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnIGFiYyAgJyAgIyAtLS0gd2hpdGVzcGFjZSBza2lwcGVkXHJcblx0ZmFpbHMgICAgKCkgPT4gcGFyc2UgJzFhYmMnXHJcblx0ZmFpbHMgICAgKCkgPT4gcGFyc2UgJ2FiYyBkZWYnXHJcblx0c3VjY2VlZHMgKCkgPT4gZ2V0UGFyc2VyPHN0cmluZz4ocmVJZGVudCwgbydwYXJ0aWFsJykgJ2FiYyBkZWYnXHJcblx0KSgpXHJcblxyXG4oKCkgPT5cclxuXHRwYXJzZSA6PSBnZXRQYXJzZXI8c3RyaW5nPihyZU9wKVxyXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcrJ1xyXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcgIC0gICdcclxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnKidcclxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnICAvICAnXHJcblx0ZmFpbHMgICAgKCkgPT4gcGFyc2UgJyEnXHJcblx0KSgpXHJcblxyXG4oKCkgPT5cclxuXHRwYXJzZSA6PSBnZXRQYXJzZXI8c3RyaW5nPih2YWx1ZSlcclxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnbidcclxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnICBuICAnXHJcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJzQyJ1xyXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcgIDQyICAnXHJcblx0ZmFpbHMgICAgKCkgPT4gcGFyc2UgJyEnXHJcblx0KSgpXHJcblxyXG4oKCkgPT5cclxuXHRwYXJzZSA6PSBnZXRQYXJzZXI8c3RyaW5nPihzdG10KVxyXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICduID0gNDInXHJcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJyAgbj00MiAgJ1xyXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICdhPWInXHJcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJyAgYSA9IGIgICdcclxuXHRmYWlscyAgICAoKSA9PiBwYXJzZSAnISdcclxuXHQpKClcclxuXHJcbigoKSA9PlxyXG5cdHBhcnNlIDo9IGdldFBhcnNlcjxzdHJpbmc+KHJlTnVtYmVyKVxyXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICc0MidcclxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnICA0MiAgJ1xyXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICczLjE0J1xyXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcgIDMuMTQgICdcclxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnMy4xNGU1J1xyXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcgIDMuMTRFNSAgJ1xyXG5cdGZhaWxzICAgICgpID0+IHBhcnNlICchJ1xyXG5cdCkoKVxyXG5cclxuKCgpID0+XHJcblx0cGFyc2UgOj0gZ2V0UGFyc2VyPHN0cmluZz4ocHJvZ3JhbSlcclxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAneCA9IDQyOyB5ID0gMzM7IHgqeSdcclxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSBcIlwiXCJcclxuXHRcdHggPSA0MjtcclxuXHRcdHkgPSAzMztcclxuXHRcdHggKiB5XHJcblx0XHRcIlwiXCJcclxuXHQpKClcclxuXHJcbiJdfQ==