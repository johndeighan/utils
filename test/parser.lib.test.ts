"use strict";
// parser.lib.test.civet

import {
	hash, getCmdArgs, DBG, o,
	} from '../src/lib/utils.lib.ts'
import {
	KeppelGrammar,
	} from './parser/keppel.grammar.ts'
import {
	TState, getNewState, StringMatcher, RegexMatcher,
	All, Any, Plus, Optional, Star,
	getParser, Node, getLineAndColumn,
	} from '../src/lib/parser.lib.ts'
import {
	equal, same, like, succeeds, fails, truthy, falsy,
	matches, isType, notType, objListLike,
	} from '../src/lib/unit-test.lib.ts'

getCmdArgs()
const htmlParse = getParser<hash>(KeppelGrammar)

// ---------------------------------------------------------------------------
// --- test getLineAndColumn()

equal(getLineAndColumn('abc\ndef\nghi', 5), [2, 2])
equal(getLineAndColumn('abcd\nefgh\nijkl', 5), [2, 1])

// ---------------------------------------------------------------------------
// --- test getNewState()

equal(getNewState('abc'), {
	text: 'abc',
	ignore: [],
	stack: [],
	sp: 0,
	lastPos: 0,
	pos: 0
	})

equal(getNewState('abc', 2), {
	text: 'abc',
	ignore: [],
	stack: [],
	sp: 0,
	lastPos: 0,
	pos: 2
	});

// ---------------------------------------------------------------------------
// --- test StringMatcher()

(() => {
	const rule = StringMatcher('abc')
	like(rule(getNewState('abcdef')), {pos: 3})
	fails(() => rule(getNewState('abcdef', 3)))
}
	)();

(() => {
	const rule = StringMatcher('def')
	like(rule(getNewState('abcdef')), {pos: 0})
	like(rule(getNewState('abcdef', 3)), {pos: 6})

	// --- On failure to match, should return the same TState
	const $ = getNewState('abcdef')
	same(rule($), $)
}
	)();

// ---------------------------------------------------------------------------
// --- test RegexMatcher()

(() => {
	const rule = RegexMatcher(/^[\.\#]\s/)
	like(rule(getNewState('. abc')), {pos: 2})
	fails(() => rule(getNewState('. abc', 1)))
}
	)();

(() => {
	const rule = RegexMatcher(/^[\.\#]\s/)
	like(rule(getNewState('abc . def')), {pos: 0})
	like(rule(getNewState('abc . def', 4)), {pos: 6})

	// --- On failure to match, should return the same TState
	const $ = getNewState('abc . abc')
	same(rule($), $)
}
	)();

// ---------------------------------------------------------------------------
// --- test Node<T>

(() => {
	const reducer = (
			lMatches: string[],
			$: TState,
			$next: TState
			): string => {
		return 'X'
	}

	// --- This rule will attempt to match the string 'abc'
	//     when it matches, the reducer is called, and
	//     what it returns is put on the stack
	const rule = Node<string>('abc', reducer)

	const $ = getNewState('abcdef')
	equal(rule($), {
	   "text": "abcdef",
	   "ignore": [],
	   "stack": ['X'],
	   "sp": 1,
	   "lastPos": 0,
		"pos": 3
		})
}
	)()

// ---------------------------------------------------------------------------
// Build and test some very simple rules

const ident = /^([a-zA-Z_$][a-zA-Z0-9_$]*)/
const number = /^((?:[0-9]+\.?[0-9]*|\.[0-9]+)(?:[eE][-+]?[0-9]+)?)\b/
const op = /[+\-*\/]/

// --- Define the grammer productions

const value = Any([ident, number])
const stmt = Any([
	[ident, '=', value],
	[value, op, value]
	])
const program = [stmt, Star([';', stmt])];

(() => {
	const parse = getParser(ident)
	succeeds(() => parse('abc'))
	succeeds(() => parse(' abc'))  // --- whitespace skipped
	fails(   () => parse('1abc'))
	fails(   () => parse('abc def'))
	succeeds(() => getParser(ident, o`partial`)('abc def'))
}
	)();

(() => {
	const parse = getParser(op)
	succeeds(() => parse('+'))
	succeeds(() => parse('  -  '))
	succeeds(() => parse('*'))
	succeeds(() => parse('  /  '))
	fails(   () => parse('!'))
}
	)();

(() => {
	const parse = getParser(value)
	succeeds(() => parse('n'))
	succeeds(() => parse('  n  '))
	succeeds(() => parse('42'))
	succeeds(() => parse('  42  '))
	fails(   () => parse('!'))
}
	)();

(() => {
	const parse = getParser(stmt)
	succeeds(() => parse('n = 42'))
	succeeds(() => parse('  n=42  '))
	succeeds(() => parse('a=b'))
	succeeds(() => parse('  a = b  '))
	fails(   () => parse('!'))
}
	)();

(() => {
	const parse = getParser(number)
	succeeds(() => parse('42'))
	succeeds(() => parse('  42  '))
	succeeds(() => parse('3.14'))
	succeeds(() => parse('  3.14  '))
	succeeds(() => parse('3.14e5'))
	succeeds(() => parse('  3.14E5  '))
	fails(   () => parse('!'))
}
	)();

(() => {
	const parse = getParser(program)
	succeeds(() => parse('x = 42; y = 33; x*y'))
	succeeds(() => parse(`x = 42;
y = 33;
x * y`))
}
	)()
// ---------------------------------------------------------------------------

// equal htmlParse('p'), {
// 	type: 'element'
// 	tag: 'p'
// 	}
//
// keppelStr99 := """
// 	body [    // I am a comment
// 	  div #navbar .navbar.navbar-inverse.navbar-fixed-top [
// 		 div.navbar-inner [
// 			a(href="#", test="My test").brand ['Awesome']
// 			ul.nav [
// 			  li[ a(href="#") ['Item 1'] ]
// 			  li[ a(href="#") ['Item 2'] ]
// 			]
// 		 ]
// 	  ]
// 	]
// 	// I am a comment in the end of input
// 	"""

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGVzdC9wYXJzZXIubGliLnRlc3QuY2l2ZXQudHN4Iiwic291cmNlcyI6WyJ0ZXN0L3BhcnNlci5saWIudGVzdC5jaXZldCJdLCJtYXBwaW5ncyI6IjtBQUFBLHdCQUF1QjtBQUN2QixBQUFBO0FBQ0EsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsSUFBSSxDQUFDLENBQUMsVUFBVSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQzFCLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyx5QkFBeUI7QUFDakMsQUFBQSxBQUFBLE1BQU0sQ0FBQyxDQUFDO0FBQ1IsQ0FBQyxhQUFhLENBQUM7QUFDZixDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsNEJBQTRCO0FBQ3BDLEFBQUEsQUFBQSxNQUFNLENBQUMsQ0FBQztBQUNSLENBQUMsTUFBTSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsYUFBYSxDQUFDLENBQUMsWUFBWSxDQUFDO0FBQ2xELENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDO0FBQ2hDLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsZ0JBQWdCLENBQUM7QUFDbkMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLDBCQUEwQjtBQUNsQyxBQUFBLEFBQUEsTUFBTSxDQUFDLENBQUM7QUFDUixDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQztBQUNuRCxDQUFDLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFdBQVcsQ0FBQztBQUN2QyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsNkJBQTZCO0FBQ3JDLEFBQUE7QUFDQSxBQUFBLEFBQUEsVUFBVSxDQUFDLENBQUM7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QUFBO0FBQy9CLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLEMsU0FBVSxDQUFDLENBQUEsQUFBQyxTQUFTLENBQUEsQztBQUFBLENBQUE7QUFDdEQsQ0FBQyxDQUFDLENBQUMsQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFNLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDO0FBQ3ZCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsR0FBRyxDQUFBLENBQUE7QUFDekIsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxPQUFPLENBQUEsQ0FBQTtBQUM3QixBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLEdBQUcsQ0FBQSxDQUFBO0FBQ3pCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsT0FBTyxDQUFBLENBQUE7QUFDN0IsQUFBQSxDQUFDLEtBQUssQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxHQUFHLENBQUEsQztBQUFBLENBQUE7QUFDekIsQ0FBQyxDQUFDLENBQUMsQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFNLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDO0FBQzFCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsR0FBRyxDQUFBLENBQUE7QUFDekIsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxPQUFPLENBQUEsQ0FBQTtBQUM3QixBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLElBQUksQ0FBQSxDQUFBO0FBQzFCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsUUFBUSxDQUFBLENBQUE7QUFDOUIsQUFBQSxDQUFDLEtBQUssQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxHQUFHLENBQUEsQztBQUFBLENBQUE7QUFDekIsQ0FBQyxDQUFDLENBQUMsQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFNLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDO0FBQ3pCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsUUFBUSxDQUFBLENBQUE7QUFDOUIsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxVQUFVLENBQUEsQ0FBQTtBQUNoQyxBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLEtBQUssQ0FBQSxDQUFBO0FBQzNCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsV0FBVyxDQUFBLENBQUE7QUFDakMsQUFBQSxDQUFDLEtBQUssQ0FBQSxHQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxHQUFHLENBQUEsQztBQUFBLENBQUE7QUFDekIsQ0FBQyxDQUFDLENBQUMsQyxDQUFDO0FBQ0osQUFBQTtBQUNBLEFBQUEsQUFBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQSxDQUFBO0FBQ04sQUFBQSxDQUFNLE1BQUwsS0FBSyxDQUFDLENBQUUsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDO0FBQzNCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsSUFBSSxDQUFBLENBQUE7QUFDMUIsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxRQUFRLENBQUEsQ0FBQTtBQUM5QixBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLE1BQU0sQ0FBQSxDQUFBO0FBQzVCLEFBQUEsQ0FBQyxRQUFRLENBQUEsQUFBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsVUFBVSxDQUFBLENBQUE7QUFDaEMsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxRQUFRLENBQUEsQ0FBQTtBQUM5QixBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLFlBQVksQ0FBQSxDQUFBO0FBQ2xDLEFBQUEsQ0FBQyxLQUFLLENBQUEsR0FBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFBLEFBQUMsR0FBRyxDQUFBLEM7QUFBQSxDQUFBO0FBQ3pCLENBQUMsQ0FBQyxDQUFDLEMsQ0FBQztBQUNKLEFBQUE7QUFDQSxBQUFBLEFBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUEsQ0FBQTtBQUNOLEFBQUEsQ0FBTSxNQUFMLEtBQUssQ0FBQyxDQUFFLENBQUMsU0FBUyxDQUFDLE9BQU8sQ0FBQztBQUM1QixBQUFBLENBQUMsUUFBUSxDQUFBLEFBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQSxBQUFDLHFCQUFxQixDQUFBLENBQUE7QUFDM0MsQUFBQSxDQUFDLFFBQVEsQ0FBQSxBQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUEsQUFBQyxDQUFHO0FBQ3pCO0FBQ0EsS0FFRSxDQUFHLENBQUEsQztBQUFBLENBQUE7QUFDTCxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ0osQUFBQSw4RUFBNkU7QUFDN0U7QUFDQSxBQUFBLDBCQUF5QjtBQUN6QixBQUFBLG1CQUFrQjtBQUNsQixBQUFBLFlBQVc7QUFDWCxBQUFBLEtBQUk7QUFDSixBQUFBLEVBQUM7QUFDRCxBQUFBLHFCQUFvQjtBQUNwQixBQUFBLCtCQUE4QjtBQUM5QixBQUFBLDJEQUEwRDtBQUMxRCxBQUFBLHdCQUF1QjtBQUN2QixBQUFBLG1EQUFrRDtBQUNsRCxBQUFBLGNBQWE7QUFDYixBQUFBLG9DQUFtQztBQUNuQyxBQUFBLG9DQUFtQztBQUNuQyxBQUFBLE9BQU07QUFDTixBQUFBLE9BQU07QUFDTixBQUFBLE9BQU07QUFDTixBQUFBLEtBQUk7QUFDSixBQUFBLHlDQUF3QztBQUN4QyxBQUFBLE9BQU07QUFDTiIsIm5hbWVzIjpbXSwic291cmNlc0NvbnRlbnQiOlsiIyBwYXJzZXIubGliLnRlc3QuY2l2ZXRcblxuaW1wb3J0IHtcblx0aGFzaCwgZ2V0Q21kQXJncywgREJHLCBvLFxuXHR9IGZyb20gJy4uL3NyYy9saWIvdXRpbHMubGliLnRzJ1xuaW1wb3J0IHtcblx0S2VwcGVsR3JhbW1hcixcblx0fSBmcm9tICcuL3BhcnNlci9rZXBwZWwuZ3JhbW1hci50cydcbmltcG9ydCB7XG5cdFRTdGF0ZSwgZ2V0TmV3U3RhdGUsIFN0cmluZ01hdGNoZXIsIFJlZ2V4TWF0Y2hlcixcblx0QWxsLCBBbnksIFBsdXMsIE9wdGlvbmFsLCBTdGFyLFxuXHRnZXRQYXJzZXIsIE5vZGUsIGdldExpbmVBbmRDb2x1bW4sXG5cdH0gZnJvbSAnLi4vc3JjL2xpYi9wYXJzZXIubGliLnRzJ1xuaW1wb3J0IHtcblx0ZXF1YWwsIHNhbWUsIGxpa2UsIHN1Y2NlZWRzLCBmYWlscywgdHJ1dGh5LCBmYWxzeSxcblx0bWF0Y2hlcywgaXNUeXBlLCBub3RUeXBlLCBvYmpMaXN0TGlrZSxcblx0fSBmcm9tICcuLi9zcmMvbGliL3VuaXQtdGVzdC5saWIudHMnXG5cbmdldENtZEFyZ3MoKVxuaHRtbFBhcnNlIDo9IGdldFBhcnNlcjxoYXNoPihLZXBwZWxHcmFtbWFyKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyAtLS0gdGVzdCBnZXRMaW5lQW5kQ29sdW1uKClcblxuZXF1YWwgZ2V0TGluZUFuZENvbHVtbignYWJjXFxuZGVmXFxuZ2hpJywgNSksIFsyLCAyXVxuZXF1YWwgZ2V0TGluZUFuZENvbHVtbignYWJjZFxcbmVmZ2hcXG5pamtsJywgNSksIFsyLCAxXVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyAtLS0gdGVzdCBnZXROZXdTdGF0ZSgpXG5cbmVxdWFsIGdldE5ld1N0YXRlKCdhYmMnKSwge1xuXHR0ZXh0OiAnYWJjJ1xuXHRpZ25vcmU6IFtdXG5cdHN0YWNrOiBbXVxuXHRzcDogMFxuXHRsYXN0UG9zOiAwXG5cdHBvczogMFxuXHR9XG5cbmVxdWFsIGdldE5ld1N0YXRlKCdhYmMnLCAyKSwge1xuXHR0ZXh0OiAnYWJjJ1xuXHRpZ25vcmU6IFtdXG5cdHN0YWNrOiBbXVxuXHRzcDogMFxuXHRsYXN0UG9zOiAwXG5cdHBvczogMlxuXHR9XG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIC0tLSB0ZXN0IFN0cmluZ01hdGNoZXIoKVxuXG4oKCkgPT5cblx0cnVsZSA6PSBTdHJpbmdNYXRjaGVyKCdhYmMnKVxuXHRsaWtlIHJ1bGUoZ2V0TmV3U3RhdGUoJ2FiY2RlZicpKSwge3BvczogM31cblx0ZmFpbHMgKCkgPT4gcnVsZShnZXROZXdTdGF0ZSgnYWJjZGVmJywgMykpXG5cdCkoKVxuXG4oKCkgPT5cblx0cnVsZSA6PSBTdHJpbmdNYXRjaGVyKCdkZWYnKVxuXHRsaWtlIHJ1bGUoZ2V0TmV3U3RhdGUoJ2FiY2RlZicpKSwge3BvczogMH1cblx0bGlrZSBydWxlKGdldE5ld1N0YXRlKCdhYmNkZWYnLCAzKSksIHtwb3M6IDZ9XG5cblx0IyAtLS0gT24gZmFpbHVyZSB0byBtYXRjaCwgc2hvdWxkIHJldHVybiB0aGUgc2FtZSBUU3RhdGVcblx0JCA6PSBnZXROZXdTdGF0ZSgnYWJjZGVmJylcblx0c2FtZSBydWxlKCQpLCAkXG5cdCkoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyAtLS0gdGVzdCBSZWdleE1hdGNoZXIoKVxuXG4oKCkgPT5cblx0cnVsZSA6PSBSZWdleE1hdGNoZXIoL15bXFwuXFwjXVxccy8pXG5cdGxpa2UgcnVsZShnZXROZXdTdGF0ZSgnLiBhYmMnKSksIHtwb3M6IDJ9XG5cdGZhaWxzICgpID0+IHJ1bGUoZ2V0TmV3U3RhdGUoJy4gYWJjJywgMSkpXG5cdCkoKVxuXG4oKCkgPT5cblx0cnVsZSA6PSBSZWdleE1hdGNoZXIoL15bXFwuXFwjXVxccy8pXG5cdGxpa2UgcnVsZShnZXROZXdTdGF0ZSgnYWJjIC4gZGVmJykpLCB7cG9zOiAwfVxuXHRsaWtlIHJ1bGUoZ2V0TmV3U3RhdGUoJ2FiYyAuIGRlZicsIDQpKSwge3BvczogNn1cblxuXHQjIC0tLSBPbiBmYWlsdXJlIHRvIG1hdGNoLCBzaG91bGQgcmV0dXJuIHRoZSBzYW1lIFRTdGF0ZVxuXHQkIDo9IGdldE5ld1N0YXRlKCdhYmMgLiBhYmMnKVxuXHRzYW1lIHJ1bGUoJCksICRcblx0KSgpXG5cbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4jIC0tLSB0ZXN0IE5vZGU8VD5cblxuKCgpID0+XG5cdHJlZHVjZXIgOj0gKFxuXHRcdFx0bE1hdGNoZXM6IHN0cmluZ1tdXG5cdFx0XHQkOiBUU3RhdGVcblx0XHRcdCRuZXh0OiBUU3RhdGVcblx0XHRcdCk6IHN0cmluZyA9PlxuXHRcdHJldHVybiAnWCdcblxuXHQjIC0tLSBUaGlzIHJ1bGUgd2lsbCBhdHRlbXB0IHRvIG1hdGNoIHRoZSBzdHJpbmcgJ2FiYydcblx0IyAgICAgd2hlbiBpdCBtYXRjaGVzLCB0aGUgcmVkdWNlciBpcyBjYWxsZWQsIGFuZFxuXHQjICAgICB3aGF0IGl0IHJldHVybnMgaXMgcHV0IG9uIHRoZSBzdGFja1xuXHRydWxlIDo9IE5vZGU8c3RyaW5nPignYWJjJywgcmVkdWNlcilcblxuXHQkIDo9IGdldE5ld1N0YXRlKCdhYmNkZWYnKVxuXHRlcXVhbCBydWxlKCQpLCB7XG5cdCAgIFwidGV4dFwiOiBcImFiY2RlZlwiLFxuXHQgICBcImlnbm9yZVwiOiBbXSxcblx0ICAgXCJzdGFja1wiOiBbJ1gnXSxcblx0ICAgXCJzcFwiOiAxLFxuXHQgICBcImxhc3RQb3NcIjogMFxuXHRcdFwicG9zXCI6IDNcblx0XHR9XG5cdCkoKVxuXG4jIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuIyBCdWlsZCBhbmQgdGVzdCBzb21lIHZlcnkgc2ltcGxlIHJ1bGVzXG5cbmlkZW50IDo9IC8vL14oIFthLXpBLVpfJF0gW2EtekEtWjAtOV8kXSogKSAvLy9cbm51bWJlciA6PSAvLy9eXG5cdChcblx0XHQoPzpcblx0XHRcdFswLTldKyBcXC4/IFswLTldKiB8IFxcLiBbMC05XStcblx0XHRcdClcblx0XHQoPzpcblx0XHRcdFtlRV0gWy0rXT8gWzAtOV0rXG5cdFx0XHQpP1xuXHRcdClcXGJcblx0Ly8vXG5vcCA6PSAvWytcXC0qXFwvXS9cblxuIyAtLS0gRGVmaW5lIHRoZSBncmFtbWVyIHByb2R1Y3Rpb25zXG5cbnZhbHVlIDo9IFtpZGVudCwgbnVtYmVyXSB8PiBBbnlcbnN0bXQgOj0gQW55IFtcblx0W2lkZW50LCAnPScsIHZhbHVlXVxuXHRbdmFsdWUsIG9wLCB2YWx1ZV1cblx0XVxucHJvZ3JhbSA6PSBbc3RtdCwgWyc7Jywgc3RtdF0gfD4gU3Rhcl1cblxuKCgpID0+XG5cdHBhcnNlIDo9IGdldFBhcnNlcihpZGVudClcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJ2FiYydcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJyBhYmMnICAjIC0tLSB3aGl0ZXNwYWNlIHNraXBwZWRcblx0ZmFpbHMgICAgKCkgPT4gcGFyc2UgJzFhYmMnXG5cdGZhaWxzICAgICgpID0+IHBhcnNlICdhYmMgZGVmJ1xuXHRzdWNjZWVkcyAoKSA9PiBnZXRQYXJzZXIoaWRlbnQsIG8ncGFydGlhbCcpICdhYmMgZGVmJ1xuXHQpKClcblxuKCgpID0+XG5cdHBhcnNlIDo9IGdldFBhcnNlcihvcClcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJysnXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcgIC0gICdcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJyonXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcgIC8gICdcblx0ZmFpbHMgICAgKCkgPT4gcGFyc2UgJyEnXG5cdCkoKVxuXG4oKCkgPT5cblx0cGFyc2UgOj0gZ2V0UGFyc2VyKHZhbHVlKVxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnbidcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJyAgbiAgJ1xuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnNDInXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcgIDQyICAnXG5cdGZhaWxzICAgICgpID0+IHBhcnNlICchJ1xuXHQpKClcblxuKCgpID0+XG5cdHBhcnNlIDo9IGdldFBhcnNlcihzdG10KVxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnbiA9IDQyJ1xuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAnICBuPTQyICAnXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICdhPWInXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcgIGEgPSBiICAnXG5cdGZhaWxzICAgICgpID0+IHBhcnNlICchJ1xuXHQpKClcblxuKCgpID0+XG5cdHBhcnNlIDo9IGdldFBhcnNlcihudW1iZXIpXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICc0Midcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJyAgNDIgICdcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJzMuMTQnXG5cdHN1Y2NlZWRzICgpID0+IHBhcnNlICcgIDMuMTQgICdcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJzMuMTRlNSdcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgJyAgMy4xNEU1ICAnXG5cdGZhaWxzICAgICgpID0+IHBhcnNlICchJ1xuXHQpKClcblxuKCgpID0+XG5cdHBhcnNlIDo9IGdldFBhcnNlcihwcm9ncmFtKVxuXHRzdWNjZWVkcyAoKSA9PiBwYXJzZSAneCA9IDQyOyB5ID0gMzM7IHgqeSdcblx0c3VjY2VlZHMgKCkgPT4gcGFyc2UgXCJcIlwiXG5cdFx0eCA9IDQyO1xuXHRcdHkgPSAzMztcblx0XHR4ICogeVxuXHRcdFwiXCJcIlxuXHQpKClcbiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiMgZXF1YWwgaHRtbFBhcnNlKCdwJyksIHtcbiMgXHR0eXBlOiAnZWxlbWVudCdcbiMgXHR0YWc6ICdwJ1xuIyBcdH1cbiNcbiMga2VwcGVsU3RyOTkgOj0gXCJcIlwiXG4jIFx0Ym9keSBbICAgIC8vIEkgYW0gYSBjb21tZW50XG4jIFx0ICBkaXYgI25hdmJhciAubmF2YmFyLm5hdmJhci1pbnZlcnNlLm5hdmJhci1maXhlZC10b3AgW1xuIyBcdFx0IGRpdi5uYXZiYXItaW5uZXIgW1xuIyBcdFx0XHRhKGhyZWY9XCIjXCIsIHRlc3Q9XCJNeSB0ZXN0XCIpLmJyYW5kIFsnQXdlc29tZSddXG4jIFx0XHRcdHVsLm5hdiBbXG4jIFx0XHRcdCAgbGlbIGEoaHJlZj1cIiNcIikgWydJdGVtIDEnXSBdXG4jIFx0XHRcdCAgbGlbIGEoaHJlZj1cIiNcIikgWydJdGVtIDInXSBdXG4jIFx0XHRcdF1cbiMgXHRcdCBdXG4jIFx0ICBdXG4jIFx0XVxuIyBcdC8vIEkgYW0gYSBjb21tZW50IGluIHRoZSBlbmQgb2YgaW5wdXRcbiMgXHRcIlwiXCJcbiJdfQ==